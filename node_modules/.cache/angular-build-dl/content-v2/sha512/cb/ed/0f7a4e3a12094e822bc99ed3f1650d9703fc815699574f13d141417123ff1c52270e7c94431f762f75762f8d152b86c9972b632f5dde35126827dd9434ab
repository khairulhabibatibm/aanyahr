(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Yj9t:function(e,t,r){"use strict";r.r(t),r.d(t,"AuthModule",function(){return ge});var i=r("UIK3"),o=r("PSXT"),n=r("PdH4"),s=r.n(n),c=r("fXoL"),a=r("3Pt+"),b=r("tyNb"),l=r("1kSV"),d=r("V0T1"),h=r("ofXK"),u=r("mkVx"),m=r("ZOsW"),p=r("QJFE"),g=r("IYwT"),v=r("tmjD");const f=["wizardForm"],R=["closeModal"];function y(e,t){1&e&&(c.Rb(0,"div",60),c.Mb(1,"div",61),c.Qb())}function Q(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Company Name is needed!"),c.Qb())}function I(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Company Code is needed!"),c.Qb())}function C(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Zip Code is needed!"),c.Qb())}function F(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Region is needed!"),c.Qb())}function w(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Province is needed!"),c.Qb())}function x(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"City is needed!"),c.Qb())}function P(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Country is needed!"),c.Qb())}function B(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Branch Name is needed!"),c.Qb())}function k(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Industry is needed!"),c.Qb())}function S(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Bank is needed!"),c.Qb())}function M(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Bank is needed!"),c.Qb())}function L(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Zip Code is needed!"),c.Qb())}function N(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Region is needed!"),c.Qb())}function j(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Province is needed!"),c.Qb())}function T(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"City is needed!"),c.Qb())}function O(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Country is needed!"),c.Qb())}function _(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"SSS is needed!"),c.Qb())}function U(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Philhealth is needed!"),c.Qb())}function G(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"TIN is needed!"),c.Qb())}function A(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Pagibig is needed!"),c.Qb())}function E(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"RDO is needed!"),c.Qb())}function V(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Branch is needed!"),c.Qb())}function D(e,t){if(1&e){const e=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Rb(6,"button",101),c.bc("click",function(){c.xc(e);const r=t.index;return c.dc(2).removePhone(r)}),c.Mb(7,"i",102),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=t.$implicit;c.yb(2),c.Jc(e.description),c.yb(2),c.Jc(e.number)}}function z(e,t){if(1&e){const e=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Rb(6,"button",101),c.bc("click",function(){c.xc(e);const r=t.index;return c.dc(2).removeEmail(r)}),c.Mb(7,"i",102),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=t.$implicit;c.yb(2),c.Jc(e.description),c.yb(2),c.Jc(e.email_address)}}function q(e,t){if(1&e){const e=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Rb(4,"button",101),c.bc("click",function(){c.xc(e);const r=t.index;return c.dc(2).removeIP(r)}),c.Mb(5,"i",102),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=t.$implicit;c.yb(2),c.Jc(e.description)}}function J(e,t){if(1&e){const e=c.Sb();c.Rb(0,"div",63),c.Rb(1,"h5",64),c.Ic(2,"Branch Details"),c.Qb(),c.Rb(3,"button",65,66),c.bc("click",function(){return t.$implicit.close("by: close icon")}),c.Rb(5,"span",67),c.Ic(6,"\xd7"),c.Qb(),c.Qb(),c.Qb(),c.Rb(7,"div",68),c.Rb(8,"form",11),c.Rb(9,"div",3),c.Rb(10,"div",7),c.Rb(11,"h6",8),c.Ic(12,"Branch Information"),c.Qb(),c.Rb(13,"div",4),c.Rb(14,"div",69),c.Rb(15,"div",14),c.Rb(16,"label",27),c.Ic(17,"Branch Name"),c.Qb(),c.Mb(18,"input",70),c.Gc(19,B,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(20,"div",69),c.Rb(21,"div",14),c.Rb(22,"label",27),c.Ic(23,"Industry"),c.Qb(),c.Mb(24,"ng-select",71),c.Gc(25,k,2,0,"p",17),c.Qb(),c.Qb(),c.Qb(),c.Rb(26,"div",4),c.Rb(27,"div",69),c.Rb(28,"div",14),c.Rb(29,"label",27),c.Ic(30,"Bank"),c.Qb(),c.Mb(31,"ng-select",72),c.Gc(32,S,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(33,"div",69),c.Rb(34,"div",14),c.Rb(35,"label",27),c.Ic(36,"Bank Account"),c.Qb(),c.Mb(37,"input",73),c.Gc(38,M,2,0,"p",17),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(39,"hr"),c.Rb(40,"div",3),c.Rb(41,"div",7),c.Rb(42,"div",8),c.Ic(43,"Branch Address"),c.Qb(),c.Rb(44,"div",4),c.Rb(45,"div",26),c.Rb(46,"div",14),c.Rb(47,"label",27),c.Ic(48,"Zip Code"),c.Qb(),c.Mb(49,"input",28),c.Gc(50,L,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(51,"div",29),c.Rb(52,"div",14),c.Rb(53,"label",27),c.Ic(54,"Unit/Flr #"),c.Qb(),c.Mb(55,"input",30),c.Qb(),c.Qb(),c.Rb(56,"div",31),c.Rb(57,"div",14),c.Rb(58,"label",27),c.Ic(59,"Building"),c.Qb(),c.Mb(60,"input",74),c.Qb(),c.Qb(),c.Rb(61,"div",31),c.Rb(62,"div",14),c.Rb(63,"label",27),c.Ic(64,"Street"),c.Qb(),c.Mb(65,"input",75),c.Qb(),c.Qb(),c.Rb(66,"div",31),c.Rb(67,"div",14),c.Rb(68,"label",27),c.Ic(69,"Barangay"),c.Qb(),c.Mb(70,"input",34),c.Qb(),c.Qb(),c.Qb(),c.Rb(71,"div",31),c.Rb(72,"div",14),c.Rb(73,"label",27),c.Ic(74,"Region"),c.Qb(),c.Rb(75,"ng-select",76),c.bc("change",function(){return c.xc(e),c.dc().selectBranchRegion()}),c.Qb(),c.Gc(76,N,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(77,"div",4),c.Rb(78,"div",31),c.Rb(79,"div",14),c.Rb(80,"label",27),c.Ic(81,"Province"),c.Qb(),c.Mb(82,"ng-select",36),c.Gc(83,j,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(84,"div",31),c.Rb(85,"div",14),c.Rb(86,"label",27),c.Ic(87,"City"),c.Qb(),c.Mb(88,"ng-select",77),c.Gc(89,T,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(90,"div",31),c.Rb(91,"div",14),c.Rb(92,"label",27),c.Ic(93,"Country"),c.Qb(),c.Mb(94,"ng-select",78),c.Gc(95,O,2,0,"p",17),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(96,"hr"),c.Rb(97,"div",3),c.Rb(98,"div",7),c.Rb(99,"div",8),c.Ic(100,"Government Information"),c.Qb(),c.Rb(101,"div",4),c.Rb(102,"div",69),c.Rb(103,"div",14),c.Rb(104,"label",27),c.Ic(105,"SSS"),c.Qb(),c.Mb(106,"input",79),c.Gc(107,_,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(108,"div",69),c.Rb(109,"div",14),c.Rb(110,"label",27),c.Ic(111,"Philhealth"),c.Qb(),c.Mb(112,"input",80),c.Gc(113,U,2,0,"p",17),c.Qb(),c.Qb(),c.Qb(),c.Rb(114,"div",4),c.Rb(115,"div",69),c.Rb(116,"div",14),c.Rb(117,"label",27),c.Ic(118,"TIN"),c.Qb(),c.Mb(119,"input",81),c.Gc(120,G,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(121,"div",69),c.Rb(122,"div",14),c.Rb(123,"label",27),c.Ic(124,"Pagibig"),c.Qb(),c.Mb(125,"input",82),c.Gc(126,A,2,0,"p",17),c.Qb(),c.Qb(),c.Qb(),c.Rb(127,"div",4),c.Rb(128,"div",26),c.Rb(129,"div",14),c.Rb(130,"label",27),c.Ic(131,"RDO"),c.Qb(),c.Rb(132,"ng-select",83),c.bc("change",function(){return c.xc(e),c.dc().selectRdoOffice()}),c.Qb(),c.Gc(133,E,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(134,"div",84),c.Rb(135,"div",14),c.Rb(136,"label",27),c.Ic(137,"\xa0"),c.Qb(),c.Rb(138,"ng-select",85),c.bc("change",function(){return c.xc(e),c.dc().selectRdoBranch()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(139,"div",26),c.Rb(140,"div",14),c.Rb(141,"label",27),c.Ic(142,"Branch"),c.Qb(),c.Rb(143,"ng-select",86),c.bc("change",function(){return c.xc(e),c.dc().selectPBranch()}),c.Qb(),c.Gc(144,V,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(145,"div",26),c.Rb(146,"div",14),c.Rb(147,"label",27),c.Ic(148,"\xa0"),c.Qb(),c.Rb(149,"ng-select",87),c.bc("change",function(){return c.xc(e),c.dc().selectPCity()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(150,"div",26),c.Rb(151,"div",14),c.Rb(152,"label",27),c.Ic(153,"\xa0"),c.Qb(),c.Mb(154,"input",88),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(155,"hr"),c.Rb(156,"div",3),c.Rb(157,"div",7),c.Rb(158,"div",8),c.Ic(159,"Contact Information"),c.Qb(),c.Rb(160,"div",4),c.Rb(161,"div",26),c.Rb(162,"div",14),c.Rb(163,"label",27),c.Ic(164,"Phone"),c.Qb(),c.Mb(165,"ng-select",89),c.Qb(),c.Qb(),c.Rb(166,"div",84),c.Rb(167,"div",14),c.Rb(168,"label",27),c.Ic(169,"Number"),c.Qb(),c.Rb(170,"div",4),c.Rb(171,"div",90),c.Mb(172,"input",91),c.Qb(),c.Rb(173,"div",92),c.Rb(174,"button",47),c.bc("click",function(t){return c.xc(e),c.dc().addPhone(t)}),c.Mb(175,"i",48),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(176,"div",26),c.Rb(177,"div",14),c.Rb(178,"label",27),c.Ic(179,"Email"),c.Qb(),c.Mb(180,"ng-select",93),c.Qb(),c.Qb(),c.Rb(181,"div",84),c.Rb(182,"div",14),c.Rb(183,"label",27),c.Ic(184,"Address"),c.Qb(),c.Rb(185,"div",4),c.Rb(186,"div",90),c.Mb(187,"input",94),c.Qb(),c.Rb(188,"div",92),c.Rb(189,"button",47),c.bc("click",function(t){return c.xc(e),c.dc().addEmail(t)}),c.Mb(190,"i",48),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(191,"div",4),c.Rb(192,"div",13),c.Rb(193,"div",95),c.Rb(194,"table",96),c.Rb(195,"thead"),c.Rb(196,"tr"),c.Rb(197,"th"),c.Ic(198,"Type"),c.Qb(),c.Rb(199,"th"),c.Ic(200,"Number"),c.Qb(),c.Mb(201,"th"),c.Qb(),c.Qb(),c.Rb(202,"tbody"),c.Gc(203,D,8,2,"tr",50),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(204,"div",13),c.Rb(205,"div",95),c.Rb(206,"table",96),c.Rb(207,"thead"),c.Rb(208,"tr"),c.Rb(209,"th"),c.Ic(210,"Type"),c.Qb(),c.Rb(211,"th"),c.Ic(212,"Address"),c.Qb(),c.Mb(213,"th"),c.Qb(),c.Qb(),c.Rb(214,"tbody"),c.Gc(215,z,8,2,"tr",50),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(216,"hr"),c.Rb(217,"div",4),c.Rb(218,"div",97),c.Rb(219,"div",14),c.Rb(220,"label",27),c.Ic(221,"IP Address"),c.Qb(),c.Rb(222,"div",4),c.Rb(223,"div",90),c.Mb(224,"input",98),c.Qb(),c.Rb(225,"div",92),c.Rb(226,"button",47),c.bc("click",function(t){return c.xc(e),c.dc().addIP(t)}),c.Mb(227,"i",48),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(228,"div",97),c.Rb(229,"div",95),c.Rb(230,"table",96),c.Rb(231,"thead"),c.Rb(232,"tr"),c.Rb(233,"th"),c.Ic(234,"IP"),c.Qb(),c.Mb(235,"th"),c.Qb(),c.Qb(),c.Rb(236,"tbody"),c.Gc(237,q,6,1,"tr",50),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(238,"div",99),c.Rb(239,"button",100),c.bc("click",function(){return t.$implicit.close("by: close button")}),c.Ic(240,"Close"),c.Qb(),c.Rb(241,"button",41),c.bc("click",function(){return c.xc(e),c.dc().addBranch()}),c.Ic(242,"Save changes"),c.Qb(),c.Qb()}if(2&e){const e=c.dc();c.yb(8),c.jc("formGroup",e.branchForm),c.yb(11),c.jc("ngIf",e.errbranchName),c.yb(5),c.jc("items",e.industry),c.yb(1),c.jc("ngIf",e.errselectedIndustry),c.yb(6),c.jc("items",e.bank),c.yb(1),c.jc("ngIf",e.errselectedBank),c.yb(6),c.jc("ngIf",e.errbankAccount),c.yb(12),c.jc("ngIf",e.errBranchZipCode),c.yb(25),c.jc("items",e.region),c.yb(1),c.jc("ngIf",e.errBranchRegion),c.yb(6),c.jc("items",e.province),c.yb(1),c.jc("ngIf",e.errBranchProvince),c.yb(5),c.jc("items",e.branchCity),c.yb(1),c.jc("ngIf",e.errBranchCity),c.yb(5),c.jc("items",e.country),c.yb(1),c.jc("ngIf",e.errBranchCountry),c.yb(11),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",e.errSSS),c.yb(5),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",e.errPhilhealth),c.yb(6),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",e.errTIN),c.yb(5),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",e.errPagibig),c.yb(6),c.jc("items",e.rdoOffice),c.yb(1),c.jc("ngIf",e.errRDO),c.yb(5),c.jc("items",e.rdoBranch),c.yb(5),c.jc("items",e.pRegion),c.yb(1),c.jc("ngIf",e.errBranch),c.yb(5),c.jc("items",e.pCity),c.yb(16),c.jc("items",e.phone),c.yb(15),c.jc("items",e.email),c.yb(23),c.jc("ngForOf",e.phoneList),c.yb(12),c.jc("ngForOf",e.emailList),c.yb(22),c.jc("ngForOf",e.ipList)}}function Z(e,t){if(1&e){const e=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Rb(2,"button",101),c.bc("click",function(){c.xc(e);const r=t.index;return c.dc().removeBranch(r)}),c.Mb(3,"i",102),c.Qb(),c.Qb(),c.Rb(4,"td"),c.Ic(5),c.Qb(),c.Rb(6,"td"),c.Ic(7),c.Qb(),c.Qb()}if(2&e){const e=t.$implicit;c.yb(5),c.Jc(e.branchName),c.yb(2),c.Jc(e.industry)}}function W(e,t){1&e&&(c.Rb(0,"p",62),c.Ic(1,"Please add atleast one branch!"),c.Qb())}const H=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};let K=(()=>{class e{constructor(e,t,r,i,o){this.fb=e,this.router=t,this.modalService=r,this.masterTemplateService=i,this.registerService=o,this.loader=!0,this.isSuccess=!1,this.errCompanyName=!1,this.errCompanyCode=!1,this.errZipCode=!1,this.errProvince=!1,this.errCity=!1,this.errRegion=!1,this.errCountry=!1,this.errbranchName=!1,this.errselectedIndustry=!1,this.errselectedBank=!1,this.errbankAccount=!1,this.errBranchZipCode=!1,this.errBranchProvince=!1,this.errBranchRegion=!1,this.errBranchCity=!1,this.errBranchCountry=!1,this.errSSS=!1,this.errPhilhealth=!1,this.errTIN=!1,this.errPagibig=!1,this.errRDO=!1,this.errBranch=!1,this.errBranchList=!1,this.Title="Company Setup",this.url="https://via.placeholder.com/200x150",this.branchList=[],this.dropdown=[],this.bank=[],this.industry=[],this.country=[],this.companyCity=[],this.branchCity=[],this.region=[],this.province=[],this.rdoOffice=[],this.rdoBranch=[],this.pRegion=[],this.pCity=[],this.phone=[],this.email=[],this.phoneList=[],this.emailList=[],this.ipList=[],this.param=[],this.submitText="Submit"}ngOnInit(){this.masterTemplateService.dropdownList("1, 2, 3, 4, 5, 6, 10, 11, 12, 61,").subscribe(e=>{this.industry=e.filter(e=>1===e.type_id),this.bank=e.filter(e=>2===e.type_id),this.country=e.filter(e=>3===e.type_id),this.rdoOffice=e.filter(e=>4===e.type_id),this.rdoBranch=e.filter(e=>5===e.type_id),this.pRegion=e.filter(e=>6===e.type_id),this.region=e.filter(e=>10===e.type_id),this.phone=e.filter(e=>11===e.type_id),this.email=e.filter(e=>12===e.type_id),this.province=e.filter(e=>61===e.type_id)}),this.masterTemplateService.dropdownEntitlement().subscribe(e=>{this.dropdown=e}),this.companyForm=this.fb.group({companyID:["0"],companyName:[""],companyCode:[""],selectedCompanyCountry:[null],img:[null],zipCode:[""],unit:[""],building:[""],street:[""],barangay:[""],selectedProvince:[null],selectedCity:[null],selectedRegion:[null],createdBy:sessionStorage.getItem("u")}),this.branchForm=this.fb.group({branchID:["0"],branchName:[""],selectedIndustry:[null],selectedBank:[null],bankAccount:[""],zipCode:[""],unit:[""],building:[""],street:[""],barangay:[""],selectedProvince:[null],sss:[""],philhealth:[""],tin:[""],pagibig:[""],selectedCity:[null],selectedRegion:[null],selectedBranchCountry:[null],selectedRdoOffice:[null],selectedRdoBranch:[null],selectedPRegion:[null],selectedPCity:[null],selectedPCode:[""],selectedPhone:[null],phoneNumber:[""],selectedEmail:[null],emailAddress:[""],ipAddress:[""],createdBy:sessionStorage.getItem("u")}),this.loader=!1}selectRegion(){this.companyForm.get("selectedCity").reset(),this.companyCity=[],this.companyCity=this.dropdown.filter(e=>e.id===this.companyForm.get("selectedRegion").value)}selectBranchRegion(){this.branchForm.get("selectedCity").reset(),this.branchCity=[],this.branchCity=this.dropdown.filter(e=>e.id===this.branchForm.get("selectedRegion").value)}selectRdoOffice(){this.branchForm.get("selectedRdoBranch").reset(),this.branchForm.get("selectedRdoBranch").setValue(this.dropdown.filter(e=>e.id===this.branchForm.get("selectedRdoOffice").value)[0].to_id)}selectRdoBranch(){this.branchForm.get("selectedRdoOffice").reset(),this.branchForm.get("selectedRdoOffice").setValue(this.dropdown.filter(e=>e.id===this.branchForm.get("selectedRdoBranch").value)[0].to_id)}selectPBranch(){this.branchForm.get("selectedPCity").reset(),this.pCity=[],this.pCity=this.dropdown.filter(e=>e.id===this.branchForm.get("selectedPRegion").value&&0===e.id_to)}selectPCity(){this.branchForm.get("selectedPCode").reset(),this.branchForm.get("selectedPCode").setValue(this.dropdown.filter(e=>e.id===this.branchForm.get("selectedPRegion").value&&e.id_to===this.branchForm.get("selectedPCity").value)[0].to_description)}addPhone(e){let t=this.phone.filter(e=>e.id===this.branchForm.get("selectedPhone").value)[0],r={id:t.id,description:t.description,number:this.branchForm.get("phoneNumber").value};this.phoneList.push(r),this.branchForm.get("selectedPhone").reset(),this.branchForm.get("phoneNumber").reset()}removePhone(e){this.phoneList.splice(e,1)}addEmail(e){let t=this.email.filter(e=>e.id===this.branchForm.get("selectedEmail").value)[0],r={id:t.id,description:t.description,email_address:this.branchForm.get("emailAddress").value};this.emailList.push(r),this.branchForm.get("selectedEmail").reset(),this.branchForm.get("emailAddress").reset()}removeEmail(e){this.emailList.splice(e,1)}addIP(e){let t={description:this.branchForm.get("ipAddress").value};this.ipList.push(t),this.branchForm.get("ipAddress").reset()}removeIP(e){this.ipList.splice(e,1)}openFileBrowser(e){if(e.preventDefault(),document.querySelector("#fileUploadInputExample").click(),e.target.files&&e.target.files[0]){var t=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),t.readAsDataURL(e.target.files[0]),t.onload=e=>{this.url=e.target.result}}}handleFileInput(e){if(e.target.files.length&&(document.querySelector("#fileUploadInputExample + .input-group .file-upload-info").setAttribute("value",e.target.files[0].name),e.target.files&&e.target.files[0])){var t=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),t.readAsDataURL(e.target.files[0]),t.onload=e=>{this.url=e.target.result}}}reLogin(){sessionStorage.clear(),this.router.navigate(["/login"])}openXlModal(e){this.modalService.open(e,{size:"xl"}).result.then(e=>{}).catch(e=>{})}validation(){let e=!0;return""===this.branchForm.get("branchName").value?(e=!1,this.errbranchName=!0):this.errbranchName=!1,""===this.branchForm.get("selectedIndustry").value||null===this.branchForm.get("selectedIndustry").value?(e=!1,this.errselectedIndustry=!0):this.errselectedIndustry=!1,""===this.branchForm.get("selectedBank").value||null===this.branchForm.get("selectedBank").value?(e=!1,this.errselectedBank=!0):this.errselectedBank=!1,""===this.branchForm.get("bankAccount").value?(e=!1,this.errbankAccount=!0):this.errbankAccount=!1,""===this.branchForm.get("zipCode").value?(e=!1,this.errBranchZipCode=!0):this.errBranchZipCode=!1,""===this.branchForm.get("selectedProvince").value||null===this.branchForm.get("selectedProvince").value?(e=!1,this.errBranchProvince=!0):this.errBranchProvince=!1,""===this.branchForm.get("selectedRegion").value||null===this.branchForm.get("selectedRegion").value?(e=!1,this.errBranchRegion=!0):this.errBranchRegion=!1,""===this.branchForm.get("selectedCity").value||null===this.branchForm.get("selectedCity").value?(e=!1,this.errBranchCity=!0):this.errBranchCity=!1,""===this.branchForm.get("selectedBranchCountry").value||null===this.branchForm.get("selectedBranchCountry").value?(e=!1,this.errBranchCountry=!0):this.errBranchCountry=!1,""===this.branchForm.get("sss").value?(e=!1,this.errSSS=!0):this.errSSS=!1,""===this.branchForm.get("philhealth").value?(e=!1,this.errPhilhealth=!0):this.errPhilhealth=!1,""===this.branchForm.get("tin").value?(e=!1,this.errTIN=!0):this.errTIN=!1,""===this.branchForm.get("pagibig").value?(e=!1,this.errPagibig=!0):this.errPagibig=!1,""===this.branchForm.get("selectedRdoOffice").value||null===this.branchForm.get("selectedRdoOffice").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedRdoBranch").value||null===this.branchForm.get("selectedRdoBranch").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedPRegion").value||null===this.branchForm.get("selectedPRegion").value?(e=!1,this.errBranch=!0):this.errBranch=!1,""===this.branchForm.get("selectedPCity").value||null===this.branchForm.get("selectedPCity").value?(e=!1,this.errBranch=!0):this.errBranch=!1,e}addBranch(){if(this.errBranchList=!1,this.validation()){var e={branchID:"0",branchName:this.branchForm.get("branchName").value,selectedIndustry:this.branchForm.get("selectedIndustry").value,industry:this.industry.filter(e=>e.id===this.branchForm.get("selectedIndustry").value)[0].description,selectedBank:this.branchForm.get("selectedBank").value,bankAccount:this.branchForm.get("bankAccount").value,zipCode:this.branchForm.get("zipCode").value,unit:this.branchForm.get("unit").value,building:this.branchForm.get("building").value,street:this.branchForm.get("street").value,barangay:this.branchForm.get("barangay").value,province:this.branchForm.get("selectedProvince").value,sss:this.branchForm.get("sss").value,philhealth:this.branchForm.get("philhealth").value,tin:this.branchForm.get("tin").value,pagibig:this.branchForm.get("pagibig").value,selectedCity:this.branchForm.get("selectedCity").value,selectedRegion:this.branchForm.get("selectedRegion").value,selectedBranchCountry:this.branchForm.get("selectedBranchCountry").value,selectedRdoOffice:this.branchForm.get("selectedRdoOffice").value,selectedRdoBranch:this.branchForm.get("selectedRdoBranch").value,selectedPRegion:this.branchForm.get("selectedPRegion").value,selectedPCity:this.branchForm.get("selectedPCity").value,selectedPCode:this.branchForm.get("selectedPCode").value,createdBy:sessionStorage.getItem("u"),contact_IU:this.phoneList,email_IU:this.emailList,iP_IU:this.ipList};this.branchList.push(e),this.param=[],this.param.push({company_IU:this.companyForm.value,branch_IU:this.branchList}),this.modalService.dismissAll(),this.branchForm.reset(),this.phoneList=[],this.emailList=[],this.ipList=[]}}removeBranch(e){this.errBranchList=!1,this.branchList.splice(e,1),this.param=[],this.param.push({company_IU:this.companyForm.value,branch_IU:this.branchList})}nextStep(e){let t=!0;1==e&&(""===this.companyForm.get("companyName").value?(t=!1,this.errCompanyName=!0):this.errCompanyName=!1,""===this.companyForm.get("companyCode").value?(t=!1,this.errCompanyCode=!0):this.errCompanyCode=!1,""===this.companyForm.get("zipCode").value?(t=!1,this.errZipCode=!0):this.errZipCode=!1,""===this.companyForm.get("selectedProvince").value||null===this.companyForm.get("selectedProvince").value?(t=!1,this.errProvince=!0):this.errProvince=!1,""===this.companyForm.get("selectedRegion").value||null===this.companyForm.get("selectedRegion").value?(t=!1,this.errRegion=!0):this.errRegion=!1,""===this.companyForm.get("selectedCity").value||null===this.companyForm.get("selectedCity").value?(t=!1,this.errCity=!0):this.errCity=!1,""===this.companyForm.get("selectedCompanyCountry").value||null===this.companyForm.get("selectedCompanyCountry").value?(t=!1,this.errCountry=!0):this.errCountry=!1,!0===t&&(this.wizardForm.goToNextStep(),this.Title="Branch Setup"))}prevStep(){this.wizardForm.goToPreviousStep()}submit(e){this.isSuccess?this.wizardForm.goToNextStep():0===Object.keys(this.branchList).length?this.errBranchList=!0:s.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&s.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{s.a.showLoading(),console.log(JSON.stringify(this.param[0])),this.registerService.tenantCreate(this.param[0]).subscribe(e=>{s.a.close(),1===e.id?(s.a.fire("Ok!","Transaction successful!","success"),this.wizardForm.goToNextStep(),this.Title="Success",this.isSuccess=!0,this.submitText="Continue"):s.a.fire("Failed!","Transaction failed!","error")})}})})}finishFunction(){sessionStorage.clear(),this.router.navigate(["/login"])}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(a.c),c.Lb(b.c),c.Lb(l.j),c.Lb(d.a),c.Lb(i.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-company_setup"]],viewQuery:function(e,t){if(1&e&&(c.Nc(f,!0),c.Nc(R,!0)),2&e){let e;c.uc(e=c.cc())&&(t.wizardForm=e.first),c.uc(e=c.cc())&&(t.closeModal=e.first)}},decls:140,vars:21,consts:[["class","spinner-wrapper full-screen",4,"ngIf"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-12","col-xl-10","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-12","pl-md-0"],[1,"col-md-12"],[1,"card-body"],[1,"card-title"],["wizardForm",""],["stepTitle","step 1"],[3,"formGroup"],[1,"col-lg-12"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputUsername1"],["type","text","formControlName","companyName","autocomplete","off","placeholder","Company Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["accept",".png, .jpg, .jpeg","type","file","name","img[]","id","fileUploadInputExample",1,"file-upload-default",3,"change"],[1,"input-group","col-xs-12",3,"click"],["type","text","disabled","","placeholder","Upload Image",1,"form-control","file-upload-info"],[1,"input-group-append"],["type","button",1,"file-upload-browse","btn","btn-primary"],["type","text","formControlName","companyCode","autocomplete","off","placeholder","Company Code",1,"form-control"],[1,"media","d-block","d-sm-flex"],["height","150","width","width","src","https://via.placeholder.com/200x150","alt","...",3,"src"],[1,"col-sm-2"],[1,"control-label"],["type","text","formControlName","zipCode","placeholder","Zip Code",1,"form-control"],[1,"col-sm-1"],["type","text","formControlName","unit","placeholder","Unit/Flr #",1,"form-control"],[1,"col-sm-3"],["type","text","formControlName","building","placeholder","Building",1,"form-control"],["type","text","formControlName","street","placeholder","Street",1,"form-control"],["type","text","formControlName","barangay","placeholder","Barangay",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Region","formControlName","selectedRegion",3,"items","change"],["name","Province","bindLabel","description","bindValue","id","placeholder","Select Province","formControlName","selectedProvince",3,"items"],["name","Country","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedCompanyCountry",3,"items"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-secondary","mr-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["stepTitle","step 2"],["xlModal",""],[1,"table-responsive","pt-3"],[1,"table","table-bordered"],[2,"width","5%"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[2,"width","45%"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-light","mr-2",3,"click"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],["stepTitle","finish"],[1,"text-center"],["data-feather","check-circle","appFeatherIcon","",1,"text-success","mt-4","mb-2","icon-xxl"],[1,"text-muted","mb-3"],[1,"w-75","mx-auto","mb-4","text-muted"],[1,"spinner-wrapper","full-screen"],[1,"spinner"],[1,"text-danger","mt-1"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["closeModal",""],["aria-hidden","true"],[1,"modal-body"],[1,"col-sm-6"],["type","text","formControlName","branchName","placeholder","Branch Name",1,"form-control"],["name","Industry","bindLabel","description","bindValue","id","placeholder","Select Industry","formControlName","selectedIndustry",3,"items"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Bank","formControlName","selectedBank",3,"items"],["type","text","formControlName","bankAccount","placeholder","Bank Account",1,"form-control"],["type","text","formControlName","building","placeholder","Unit/Flr #",1,"form-control"],["type","text","formControlName","street","placeholder","Enter zip code",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedRegion",3,"items","change"],["name","Country","bindLabel","to_description","bindValue","to_id","placeholder","Select Country","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedBranchCountry",3,"items"],["formControlName","sss","mask","00-0000000-0",1,"form-control","mb-4","mb-md-0",3,"showMaskTyped"],["type","text","formControlName","philhealth","mask","00-000000000-0","placeholder","Philhealth",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","tin","mask","000-000-000-000","placeholder","TIN","placeholder","TIN",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","pagibig","mask","0000-0000-0000","placeholder","Pagibig",1,"form-control",3,"showMaskTyped"],["name","RDO Office","bindLabel","description","bindValue","id","placeholder","Select RDO Office","formControlName","selectedRdoOffice",3,"items","change"],[1,"col-sm-4"],["name","RDO Branch","bindLabel","description","bindValue","id","placeholder","Select RDO Branch","formControlName","selectedRdoBranch",3,"items","change"],["name","Branch","bindLabel","description","bindValue","id","placeholder","Select Branch","formControlName","selectedPRegion",3,"items","change"],["name","Branch","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedPCity",3,"items","change"],["type","text","formControlName","selectedPCode","placeholder","Code",1,"form-control"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedPhone",3,"items"],[1,"col-md-10"],["type","text","formControlName","phoneNumber","placeholder","Number",1,"form-control"],[1,"col-md-2"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedEmail",3,"items"],["type","text","formControlName","emailAddress","placeholder","@illimitado.com",1,"form-control"],[1,"table-responsive"],[1,"table"],[1,"col-md-3"],["type","text","formControlName","ipAddress",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){if(1&e){const e=c.Sb();c.Gc(0,y,2,0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"div",4),c.Rb(5,"div",5),c.Rb(6,"div",4),c.Rb(7,"div",6),c.Rb(8,"div",3),c.Rb(9,"div",7),c.Rb(10,"h6",8),c.Ic(11),c.Qb(),c.Rb(12,"aw-wizard",null,9),c.Rb(14,"aw-wizard-step",10),c.Rb(15,"form",11),c.Rb(16,"div",4),c.Rb(17,"div",12),c.Rb(18,"div",4),c.Rb(19,"div",13),c.Rb(20,"div",14),c.Rb(21,"label",15),c.Ic(22,"Company Name"),c.Qb(),c.Mb(23,"input",16),c.Gc(24,Q,2,0,"p",17),c.Qb(),c.Rb(25,"div",14),c.Rb(26,"label"),c.Ic(27,"Upload Logo"),c.Qb(),c.Rb(28,"input",18),c.bc("change",function(e){return t.handleFileInput(e)}),c.Qb(),c.Rb(29,"div",19),c.bc("click",function(e){return t.openFileBrowser(e)}),c.Mb(30,"input",20),c.Rb(31,"span",21),c.Rb(32,"button",22),c.Ic(33,"Upload"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(34,"div",14),c.Rb(35,"label",15),c.Ic(36,"Company Code"),c.Qb(),c.Mb(37,"input",23),c.Gc(38,I,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(39,"div",13),c.Rb(40,"div",24),c.Mb(41,"img",25),c.Qb(),c.Qb(),c.Qb(),c.Mb(42,"hr"),c.Rb(43,"div",8),c.Rb(44,"h6"),c.Ic(45,"Address"),c.Qb(),c.Qb(),c.Rb(46,"div",4),c.Rb(47,"div",26),c.Rb(48,"div",14),c.Rb(49,"label",27),c.Ic(50,"Zip Code"),c.Qb(),c.Mb(51,"input",28),c.Gc(52,C,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(53,"div",29),c.Rb(54,"div",14),c.Rb(55,"label",27),c.Ic(56,"Unit/Flr #"),c.Qb(),c.Mb(57,"input",30),c.Qb(),c.Qb(),c.Rb(58,"div",31),c.Rb(59,"div",14),c.Rb(60,"label",27),c.Ic(61,"Building"),c.Qb(),c.Mb(62,"input",32),c.Qb(),c.Qb(),c.Rb(63,"div",31),c.Rb(64,"div",14),c.Rb(65,"label",27),c.Ic(66,"Street"),c.Qb(),c.Mb(67,"input",33),c.Qb(),c.Qb(),c.Rb(68,"div",31),c.Rb(69,"div",14),c.Rb(70,"label",27),c.Ic(71,"Barangay"),c.Qb(),c.Mb(72,"input",34),c.Qb(),c.Qb(),c.Qb(),c.Rb(73,"div",4),c.Rb(74,"div",31),c.Rb(75,"div",14),c.Rb(76,"label",27),c.Ic(77,"Region"),c.Qb(),c.Rb(78,"ng-select",35),c.bc("change",function(){return t.selectRegion()}),c.Qb(),c.Gc(79,F,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(80,"div",31),c.Rb(81,"div",14),c.Rb(82,"label",27),c.Ic(83,"Province"),c.Qb(),c.Mb(84,"ng-select",36),c.Gc(85,w,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(86,"div",31),c.Rb(87,"div",14),c.Rb(88,"label",27),c.Ic(89,"City"),c.Qb(),c.Mb(90,"ng-select",37),c.Gc(91,x,2,0,"p",17),c.Qb(),c.Qb(),c.Rb(92,"div",31),c.Rb(93,"div",14),c.Rb(94,"label",27),c.Ic(95,"Country"),c.Qb(),c.Mb(96,"ng-select",38),c.Gc(97,P,2,0,"p",17),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(98,"div",39),c.Rb(99,"button",40),c.bc("click",function(){return t.reLogin()}),c.Ic(100,"Re-Login"),c.Qb(),c.Rb(101,"button",41),c.bc("click",function(){return t.nextStep(1)}),c.Ic(102,"Continue"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(103,"aw-wizard-step",42),c.Gc(104,J,243,35,"ng-template",null,43,c.Hc),c.Rb(106,"div",44),c.Rb(107,"table",45),c.Rb(108,"thead"),c.Rb(109,"tr",46),c.Rb(110,"th"),c.Rb(111,"button",47),c.bc("click",function(){c.xc(e);const r=c.vc(105);return t.openXlModal(r)}),c.Mb(112,"i",48),c.Qb(),c.Qb(),c.Rb(113,"th",49),c.Ic(114,"Branch Name"),c.Qb(),c.Rb(115,"th",49),c.Ic(116,"Industry"),c.Qb(),c.Qb(),c.Qb(),c.Rb(117,"tbody"),c.Gc(118,Z,8,2,"tr",50),c.Qb(),c.Qb(),c.Gc(119,W,2,0,"p",17),c.Qb(),c.Rb(120,"div",39),c.Rb(121,"button",51),c.bc("click",function(){return t.prevStep()}),c.Ic(122,"Back"),c.Qb(),c.Rb(123,"button",52),c.bc("click",function(e){return t.submit(e)}),c.Mb(124,"i",53),c.Ic(125),c.Qb(),c.Rb(126,"button",54),c.Ic(127),c.Qb(),c.Qb(),c.Qb(),c.Rb(128,"aw-wizard-step",55),c.Rb(129,"div",56),c.Mb(130,"i",57),c.Rb(131,"h3",58),c.Ic(132,"Thank you !"),c.Qb(),c.Rb(133,"p",59),c.Ic(134,"We are excited to tell you that you are now part of a powerful HCM system. Please login to proceed to our system."),c.Qb(),c.Qb(),c.Rb(135,"div",39),c.Rb(136,"button",51),c.bc("click",function(){return t.prevStep()}),c.Ic(137,"Back"),c.Qb(),c.Rb(138,"button",41),c.bc("click",function(){return t.finishFunction()}),c.Ic(139,"Login"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}2&e&&(c.jc("ngIf",t.loader),c.yb(11),c.Jc(t.Title),c.yb(4),c.jc("formGroup",t.companyForm),c.yb(9),c.jc("ngIf",t.errCompanyName),c.yb(14),c.jc("ngIf",t.errCompanyCode),c.yb(3),c.jc("src",t.url,c.zc),c.yb(11),c.jc("ngIf",t.errZipCode),c.yb(26),c.jc("items",t.region),c.yb(1),c.jc("ngIf",t.errRegion),c.yb(5),c.jc("items",t.province),c.yb(1),c.jc("ngIf",t.errProvince),c.yb(5),c.jc("items",t.companyCity),c.yb(1),c.jc("ngIf",t.errCity),c.yb(5),c.jc("items",t.country),c.yb(1),c.jc("ngIf",t.errCountry),c.yb(21),c.jc("ngForOf",t.branchList),c.yb(1),c.jc("ngIf",t.errBranchList),c.yb(6),c.Kc(" ",t.submitText," "),c.yb(1),c.jc("swal",c.mc(20,H)),c.yb(1),c.Kc(" ",t.submitText," "))},directives:[h.n,u.f,u.g,a.s,a.j,a.e,a.b,a.i,a.d,m.a,h.m,p.a,g.a,v.a],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),e})();var Y=r("PSD3"),$=r.n(Y),X=r("u0Dx");function ee(e,t){1&e&&(c.Rb(0,"div",26),c.Mb(1,"div",27),c.Qb())}function te(e,t){if(1&e&&(c.Rb(0,"p",28),c.Ic(1),c.Qb()),2&e){const e=c.dc();c.yb(1),c.Jc(e.error)}}function re(e,t){if(1&e&&(c.Rb(0,"p",28),c.Ic(1),c.Qb()),2&e){const e=c.dc();c.yb(1),c.Jc(e.httperror)}}function ie(e,t){1&e&&c.Mb(0,"span",29)}let oe=(()=>{class e{constructor(e,t,r,i,o){this.fb=e,this.register=t,this.service=r,this.router=i,this.route=o,this.isSignup=!0,this.disSubmit=!1,this.submitText="Login",this.error="",this.httperror="",this.loader=!0,this.httpvalidate=!1,this.type="password",this.loginForm=this.fb.group({username:["",a.q.required],password:["",a.q.required],company_code:["",a.q.required]})}ngOnInit(){if(sessionStorage.clear(),this.id=this.route.snapshot.paramMap.get("id"),""===this.id||null===this.id)this.loader=!1;else{let e={id:this.route.snapshot.paramMap.get("id")};this.register.verifyUser(e).subscribe(e=>{0===e.id?$.a.fire("Failed!","Email can't be verified!","error"):$.a.fire("Email Verify!","Email verified. You can now login!","success"),this.loader=!1},e=>{console.log(e.error)})}}login(){this.disSubmit=!0,this.submitText="Loading ...",this.httperror="",this.service.authenticateUser(this.loginForm.value).subscribe(e=>{"0"===e.id?(this.httpvalidate=!0,this.httperror=e.type,this.disSubmit=!1,this.submitText="Login"):(this.service.saveToken(e),"/company-setup"!==e.routing?e.is_pw_changed?(this.router.navigate([e.routing]),this.disSubmit=!1,this.submitText="Login"):(this.router.navigate([e.routing+"/"+e.id]),this.disSubmit=!1,this.submitText="Login"):(this.router.navigate([e.routing]),this.disSubmit=!1,this.submitText="Login"))},e=>{console.log(e.error),this.httperror="Can't connect on our system..",this.disSubmit=!1,this.submitText="Login"})}toggle(){this.type="text"===this.type?"password":"text"}get validate(){var e,t,r,i,o,n,s,c;let a=!1;return(null===(e=this.loginForm.get("username"))||void 0===e?void 0:e.errors)&&(null===(t=this.loginForm.get("username"))||void 0===t?void 0:t.touched)&&(null===(r=this.loginForm.get("password"))||void 0===r?void 0:r.errors)&&(null===(i=this.loginForm.get("password"))||void 0===i?void 0:i.touched)?(a=!0,this.error="Username and Password is required!"):(null===(o=this.loginForm.get("username"))||void 0===o?void 0:o.errors)&&(null===(n=this.loginForm.get("username"))||void 0===n?void 0:n.touched)?(a=!0,this.error="Username is required!"):(null===(s=this.loginForm.get("password"))||void 0===s?void 0:s.errors)&&(null===(c=this.loginForm.get("password"))||void 0===c?void 0:c.touched)?(a=!0,this.error="Password is required!"):this.error="",!0===a?(this.httpvalidate=!1,this.httperror=""):this.httpvalidate=""!==this.httperror,a}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(a.c),c.Lb(i.a),c.Lb(X.a),c.Lb(b.c),c.Lb(b.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-login"]],decls:36,vars:8,consts:[["class","spinner-wrapper full-screen",4,"ngIf"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-2","pl-md-0"],[1,"col-md-8","pl-md-0"],[1,"auth-form-wrapper","px-4","py-5",2,"border-style","solid","border-width","thin","border-spacing","15px","border-collapse","separate"],["src","../../../assets/images/logo.png","width","280px",1,"noble-ui-logo","d-block","mb-2"],[1,"text-muted","font-weight-normal","mb-4"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","formControlName","company_code","placeholder","Company Code",1,"form-control"],["type","text","formControlName","username","placeholder","Email",1,"form-control"],["for","exampleInputPassword1"],[1,"input-group"],["formControlName","password","autocomplete","current-password","placeholder","Password",1,"form-control",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","eye","appFeatherIcon","",1,"text-secondary"],[1,"form-check","form-check-flat","form-check-primary"],["class","text-danger mt-1",4,"ngIf"],[1,"mt-3"],["type","button","type","submit",1,"btn","btn-primary","mr-2","mb-2","mb-md-0",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"spinner-wrapper","full-screen"],[1,"spinner"],[1,"text-danger","mt-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(c.Gc(0,ee,2,0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"div",4),c.Mb(5,"div",5),c.Rb(6,"div",6),c.Rb(7,"div",7),c.Mb(8,"img",8),c.Rb(9,"h5",9),c.Ic(10,"Welcome back! Log in to your account."),c.Qb(),c.Rb(11,"form",10),c.bc("ngSubmit",function(){return t.login()}),c.Rb(12,"div",11),c.Rb(13,"label",12),c.Ic(14,"Company Code"),c.Qb(),c.Mb(15,"input",13),c.Qb(),c.Rb(16,"div",11),c.Rb(17,"label",12),c.Ic(18,"Username"),c.Qb(),c.Mb(19,"input",14),c.Qb(),c.Rb(20,"div",11),c.Rb(21,"label",15),c.Ic(22,"Password"),c.Qb(),c.Rb(23,"div",16),c.Mb(24,"input",17),c.Rb(25,"div",18),c.Rb(26,"button",19),c.bc("click",function(){return t.toggle()}),c.Mb(27,"i",20),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(28,"div",21),c.Gc(29,te,2,1,"p",22),c.Gc(30,re,2,1,"p",22),c.Qb(),c.Rb(31,"div",23),c.Rb(32,"button",24),c.Gc(33,ie,1,0,"span",25),c.Ic(34),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(35,"div",5),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.jc("ngIf",t.loader),c.yb(11),c.jc("formGroup",t.loginForm),c.yb(13),c.kc("type",t.type),c.yb(5),c.jc("ngIf",t.validate),c.yb(1),c.jc("ngIf",t.httpvalidate),c.yb(2),c.jc("disabled",t.disSubmit),c.yb(1),c.jc("ngIf",t.disSubmit),c.yb(1),c.Kc(" ",t.submitText," "))},directives:[h.n,a.s,a.j,a.e,a.b,a.i,a.d,g.a],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),e})();function ne(e,t){1&e&&(c.Rb(0,"div",24),c.Mb(1,"div",25),c.Qb())}function se(e,t){if(1&e&&(c.Rb(0,"p",26),c.Ic(1),c.Qb()),2&e){const e=c.dc();c.yb(1),c.Jc(e.error)}}function ce(e,t){1&e&&c.Mb(0,"span",27)}let ae=(()=>{class e{constructor(e,t,r){this.fb=e,this.service=t,this.router=r,this.error="",this.loader=!0,this.disSubmit=!1,this.submitText="Sign Up",this.registerForm=this.fb.group({Username:["",a.q.required],email_address:["",a.q.required],Password:["",a.q.required]})}ngOnInit(){this.loader=!1}register(){this.disSubmit=!0,this.submitText="Loading ...",this.service.registerUser(this.registerForm.value).subscribe(e=>{0===e.id?$.a.fire("Failed!",e.description,"error"):(this.router.navigate(["/login"]),this.disSubmit=!1,this.submitText="Sign Up")},e=>{console.log(e.error)})}get validate(){var e,t,r,i,o,n,s,c,a,b,l,d;let h=!1;(null===(e=this.registerForm.get("Username"))||void 0===e?void 0:e.errors)&&(null===(t=this.registerForm.get("Username"))||void 0===t?void 0:t.touched)&&(null===(r=this.registerForm.get("email_address"))||void 0===r?void 0:r.errors)&&(null===(i=this.registerForm.get("email_address"))||void 0===i?void 0:i.touched)&&(null===(o=this.registerForm.get("Password"))||void 0===o?void 0:o.errors)&&(null===(n=this.registerForm.get("Password"))||void 0===n?void 0:n.touched)?(h=!0,this.error="Username, Password and Email Address is required!"):(null===(s=this.registerForm.get("Username"))||void 0===s?void 0:s.errors)&&(null===(c=this.registerForm.get("Username"))||void 0===c?void 0:c.touched)?(h=!0,this.error="Username is required!"):(null===(a=this.registerForm.get("email_address"))||void 0===a?void 0:a.errors)&&(null===(b=this.registerForm.get("email_address"))||void 0===b?void 0:b.touched)?(h=!0,this.error="Email Address is required!"):(null===(l=this.registerForm.get("Password"))||void 0===l?void 0:l.errors)&&(null===(d=this.registerForm.get("Password"))||void 0===d?void 0:d.touched)&&(h=!0,this.error="Password is required!");let u=/\d/.test(this.registerForm.get("Password").value),m=(/[a-z]/.test(this.registerForm.get("Password").value),/[A-Z]/.test(this.registerForm.get("Password").value));return/\W/.test(this.registerForm.get("Password").value),u||(this.error="Password needs to have atleast one number!",h=!0),m||(this.error="Password needs to have atleast one upper case letter!",h=!0),this.registerForm.get("Password").value.length<8?(this.error="Password needs to have a minimum of eight characters!",h=!0):this.error="",h}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(a.c),c.Lb(i.a),c.Lb(b.c))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-register"]],decls:35,vars:6,consts:[["class","spinner-wrapper full-screen",4,"ngIf"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-4","pr-md-0"],[1,"auth-left-wrapper"],[1,"col-md-8","pl-md-0"],[1,"auth-form-wrapper","px-4","py-5"],["routerLink",".",1,"noble-ui-logo","d-block","mb-2"],[1,"text-muted","font-weight-normal","mb-4"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputUsername1"],["type","text","formControlName","Username","autocomplete","Username","placeholder","Username",1,"form-control"],["for","exampleInputEmail1"],["type","email","formControlName","email_address","placeholder","Email",1,"form-control"],["for","exampleInputPassword1"],["type","password","formControlName","Password","autocomplete","current-password","placeholder","Password",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"mt-3"],["type","button","type","submit",1,"btn","btn-primary","mr-2","mb-2","mb-md-0",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["routerLink","/login",1,"d-block","mt-3","text-muted"],[1,"spinner-wrapper","full-screen"],[1,"spinner"],[1,"text-danger","mt-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(c.Gc(0,ne,2,0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"div",4),c.Rb(5,"div",5),c.Mb(6,"div",6),c.Qb(),c.Rb(7,"div",7),c.Rb(8,"div",8),c.Rb(9,"a",9),c.Ic(10,"Durust"),c.Rb(11,"span"),c.Ic(12,"HR"),c.Qb(),c.Qb(),c.Rb(13,"h5",10),c.Ic(14,"Create a free account."),c.Qb(),c.Rb(15,"form",11),c.bc("ngSubmit",function(){return t.register()}),c.Rb(16,"div",12),c.Rb(17,"label",13),c.Ic(18,"Username"),c.Qb(),c.Mb(19,"input",14),c.Qb(),c.Rb(20,"div",12),c.Rb(21,"label",15),c.Ic(22,"Email address"),c.Qb(),c.Mb(23,"input",16),c.Qb(),c.Rb(24,"div",12),c.Rb(25,"label",17),c.Ic(26,"Password"),c.Qb(),c.Mb(27,"input",18),c.Qb(),c.Gc(28,se,2,1,"p",19),c.Rb(29,"div",20),c.Rb(30,"button",21),c.Gc(31,ce,1,0,"span",22),c.Ic(32),c.Qb(),c.Qb(),c.Rb(33,"a",23),c.Ic(34,"Already a user? Sign in"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.jc("ngIf",t.loader),c.yb(15),c.jc("formGroup",t.registerForm),c.yb(13),c.jc("ngIf",t.validate),c.yb(2),c.jc("disabled",t.disSubmit),c.yb(1),c.jc("ngIf",t.disSubmit),c.yb(1),c.Kc(" ",t.submitText," "))},directives:[h.n,b.f,a.s,a.j,a.e,a.b,a.i,a.d],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),e})(),be=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["app-auth"]],decls:1,vars:0,template:function(e,t){1&e&&c.Mb(0,"router-outlet")},directives:[b.h],encapsulation:2}),e})();var le=r("ltvU");function de(e,t){1&e&&(c.Rb(0,"p",20),c.Ic(1,"Username is needed!"),c.Qb())}function he(e,t){1&e&&(c.Rb(0,"p",20),c.Ic(1,"Password is needed!"),c.Qb())}let ue=(()=>{class e{constructor(e,t,r){this.router=e,this.fb=t,this.userManagement=r,this.type="password",this.errUsername=!1,this.errPassword=!1,this.strError=""}ngOnInit(){this.verifyForm=this.fb.group({username:"",password:""}),this.userManagement.profileView(sessionStorage.getItem("u")).subscribe(e=>{this.verifyForm.setValue({username:e[0].user_name,password:e[0].decrypted_user_hash})},e=>{console.log(e.error)})}toggle(){this.type="text"===this.type?"password":"text"}validation(){let e=!0;if(this.errUsername=!1,this.errPassword=!1,this.strError="",""!=this.verifyForm.get("username").value&&null!==this.verifyForm.get("username").value||(e=!1,this.errUsername=!0),""===this.verifyForm.get("password").value||null===this.verifyForm.get("password").value)e=!1,this.errPassword=!0;else{let t={digits:/\d/.test(this.verifyForm.get("password").value),lower:/[a-z]/.test(this.verifyForm.get("password").value),upper:/[A-Z]/.test(this.verifyForm.get("password").value),nonWords:/\W/.test(this.verifyForm.get("password").value)};t.digits||(this.strError="Password needs to have atleast one number!",e=!1),t.upper||(this.strError="Password needs to have atleast one upper case letter!",e=!1),this.verifyForm.get("password").value.length<8&&(this.strError="Password needs to have a minimum of eight characters!",e=!1)}return e}onVerify(){this.validation()&&$.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&$.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{$.a.showLoading();var e={employee_id:sessionStorage.getItem("u"),user_name:this.verifyForm.get("username").value,user_hash:this.verifyForm.get("password").value,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")};this.userManagement.credentialU(e).subscribe(e=>{0===e?$.a.fire("Failed!","Transaction failed!","error"):($.a.fire("Ok!","Credentials has been updated. Please relogin!","success"),sessionStorage.removeItem("token"),sessionStorage.getItem("token")||this.router.navigate(["login"]))},e=>{console.log(e.error),$.a.fire("Failed!","Transaction failed!","error")})}})})}reLogin(){this.router.navigate(["login"])}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(b.c),c.Lb(a.c),c.Lb(le.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-verify-password"]],decls:36,vars:5,consts:[[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-4","pr-md-0"],[1,"auth-left-wrapper"],[1,"col-md-8","pl-md-0"],[1,"auth-form-wrapper","px-4","py-5"],["routerLink",".",1,"noble-ui-logo","d-block","mb-2"],[1,"text-muted","font-weight-normal","mb-4"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["type","text","formControlName","username","autocomplete","Username","placeholder","Username",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","exampleInputPassword1"],[1,"input-group"],["formControlName","password","autocomplete","current-password","placeholder","Password",1,"form-control",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","eye","appFeatherIcon","",1,"text-secondary"],[1,"text-danger","mt-1"],[1,"mt-3"],["type","button",1,"btn","btn-light","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","mr-2","mb-2","mb-md-0",3,"click"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"div",4),c.Mb(5,"div",5),c.Qb(),c.Rb(6,"div",6),c.Rb(7,"div",7),c.Rb(8,"a",8),c.Ic(9,"Durust"),c.Rb(10,"span"),c.Ic(11,"HR"),c.Qb(),c.Qb(),c.Rb(12,"h5",9),c.Ic(13,"Change your credentials."),c.Qb(),c.Rb(14,"form",10),c.Rb(15,"div",11),c.Rb(16,"label"),c.Ic(17,"Username"),c.Qb(),c.Mb(18,"input",12),c.Qb(),c.Gc(19,de,2,0,"p",13),c.Rb(20,"div",11),c.Rb(21,"label",14),c.Ic(22,"Password"),c.Qb(),c.Rb(23,"div",15),c.Mb(24,"input",16),c.Rb(25,"div",17),c.Rb(26,"button",18),c.bc("click",function(){return t.toggle()}),c.Mb(27,"i",19),c.Qb(),c.Qb(),c.Qb(),c.Gc(28,he,2,0,"p",13),c.Rb(29,"p",20),c.Ic(30),c.Qb(),c.Qb(),c.Rb(31,"div",21),c.Rb(32,"button",22),c.bc("click",function(){return t.reLogin()}),c.Ic(33,"Back"),c.Qb(),c.Rb(34,"button",23),c.bc("click",function(){return t.onVerify()}),c.Ic(35,"Save Changes"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.yb(14),c.jc("formGroup",t.verifyForm),c.yb(5),c.jc("ngIf",t.errUsername),c.yb(5),c.kc("type",t.type),c.yb(4),c.jc("ngIf",t.errPassword),c.yb(2),c.Jc(t.strError))},directives:[b.f,a.s,a.j,a.e,a.b,a.i,a.d,h.n,g.a],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),e})();var me=r("tyVc");const pe=[{path:"",component:be,children:[{path:"",redirectTo:"login/",pathMatch:"full"},{path:"login",redirectTo:"login/",pathMatch:"full"},{path:"login/:id",component:oe},{path:"register",component:ae},{path:"company-setup",component:K,canActivate:[o.a]},{path:"verify-password",redirectTo:"verify-password/",pathMatch:"full"},{path:"verify-password/:id",component:ue,canActivate:[o.a]}]}];let ge=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},providers:[i.a],imports:[[b.g.forChild(pe),a.p,u.a,h.c,a.f,m.b,v.b.forRoot({validation:!0}),p.b.forRoot(),me.a]]}),e})()}}]);