(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Lwnu:function(e,t,a){"use strict";a.r(t),a.d(t,"PayrollModule",function(){return We});var n=a("ofXK"),r=a("gjoI"),b=a("3Pt+"),i=a("tyNb"),o=a("tyVc"),d=a("ZOsW"),c=a("EDFS"),l=a("1kSV"),s=a("njyG"),m=a("Jfpn"),h=a("XNiG"),u=a("fXoL"),p=a("CTYy"),y=a("IYwT");function R(e,t){1&e&&(u.Rb(0,"div",2),u.Rb(1,"div",3),u.Ic(2,"Loading..."),u.Qb(),u.Qb())}function g(e,t){if(1&e){const e=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.Qb(),u.Rb(5,"td"),u.Ic(6),u.Qb(),u.Rb(7,"td"),u.Ic(8),u.Qb(),u.Rb(9,"td"),u.Ic(10),u.Qb(),u.Rb(11,"td"),u.Ic(12),u.Qb(),u.Rb(13,"td"),u.Ic(14),u.Qb(),u.Rb(15,"td"),u.Ic(16),u.ec(17,"date"),u.Qb(),u.Rb(18,"td"),u.Rb(19,"button",22),u.bc("click",function(){u.xc(e);const a=t.$implicit;return u.dc(2).viewLoan(a.companyID)}),u.Mb(20,"i",23),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=t.$implicit;u.yb(2),u.Jc(e.loan_code),u.yb(2),u.Jc(e.display_name),u.yb(2),u.Jc(e.loan_name),u.yb(2),u.Jc(e.loan_type),u.yb(2),u.Jc(e.total_amount),u.yb(2),u.Jc(e.status),u.yb(2),u.Jc(e.created_by_name),u.yb(2),u.Jc(u.gc(17,8,e.date_created,"MM/dd/yyyy"))}}const Q=function(){return["/layout/payroll/loans-detail"]};function f(e,t){if(1&e&&(u.Rb(0,"div",4),u.Rb(1,"nav",5),u.Rb(2,"ol",6),u.Rb(3,"li",7),u.Rb(4,"a",8),u.Ic(5,"Payroll"),u.Qb(),u.Qb(),u.Rb(6,"li",9),u.Ic(7,"Loan"),u.Qb(),u.Qb(),u.Qb(),u.Rb(8,"div",10),u.Rb(9,"div",11),u.Rb(10,"div",12),u.Rb(11,"div",13),u.Rb(12,"div",14),u.Rb(13,"div",10),u.Rb(14,"div",15),u.Rb(15,"h6"),u.Ic(16,"Loan"),u.Qb(),u.Qb(),u.Rb(17,"div",15),u.Rb(18,"ul",16),u.Rb(19,"button",17),u.Mb(20,"i",18),u.Ic(21," Add Loan "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(22,"hr"),u.Rb(23,"div",19),u.Rb(24,"table",20),u.Rb(25,"thead"),u.Rb(26,"tr"),u.Rb(27,"th"),u.Ic(28,"Loan Code"),u.Qb(),u.Rb(29,"th"),u.Ic(30,"Employee Name"),u.Qb(),u.Rb(31,"th"),u.Ic(32,"Loan Name"),u.Qb(),u.Rb(33,"th"),u.Ic(34,"Loan Type"),u.Qb(),u.Rb(35,"th"),u.Ic(36,"Amount"),u.Qb(),u.Rb(37,"th"),u.Ic(38,"Active"),u.Qb(),u.Rb(39,"th"),u.Ic(40,"Created By"),u.Qb(),u.Rb(41,"th"),u.Ic(42,"Date Created"),u.Qb(),u.Mb(43,"th"),u.Qb(),u.Qb(),u.Rb(44,"tbody"),u.Gc(45,g,21,11,"tr",21),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e){const e=u.dc();u.yb(19),u.jc("routerLink",u.mc(4,Q)),u.yb(5),u.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),u.yb(21),u.jc("ngForOf",e.table)}}let I=(()=>{class e{constructor(e,t){this.payrollRatesManagementService=e,this.router=t,this.isLoading=!0,this.table=[],this.dtOptions={},this.dtTrigger=new h.a}ngOnInit(){this.payrollRatesManagementService.loansView(0).subscribe(e=>{this.table=e,this.isLoading=!1,setTimeout(()=>{this.dtTrigger.next()},100)},e=>{console.log(e.error)})}viewLoan(e){this.router.navigate(["/layout/payroll/loans-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(p.a),u.Lb(i.c))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-loans-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(u.Gc(0,R,3,0,"div",0),u.Gc(1,f,46,5,"div",1)),2&e&&(u.jc("ngIf",t.isLoading),u.yb(1),u.jc("ngIf",!t.isLoading))},directives:[n.n,i.f,i.d,y.a,s.a,n.m],pipes:[n.e],styles:[""]}),e})();var v=a("PSD3"),T=a.n(v),_=a("/oZC"),L=a("ltvU");function M(e,t){1&e&&(u.Rb(0,"div",3),u.Rb(1,"div",4),u.Ic(2,"Loading..."),u.Qb(),u.Qb())}function S(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Loan Type is needed!"),u.Qb())}function E(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Loan Name is needed!"),u.Qb())}function O(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Employee is needed!"),u.Qb())}function A(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Loan Amount is needed!"),u.Qb())}function D(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Total Loan Amount and detail is not equal"),u.Qb())}function C(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Loan Date is needed!"),u.Qb())}function P(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Loan Start is needed!"),u.Qb())}function w(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Terms is needed!"),u.Qb())}function k(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Loan Timing is needed!"),u.Qb())}function F(e,t){if(1&e){const e=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.ec(3,"date"),u.Qb(),u.Rb(4,"td"),u.Ic(5),u.Qb(),u.Rb(6,"td"),u.Ic(7),u.Qb(),u.Rb(8,"td"),u.Ic(9),u.Qb(),u.Rb(10,"td"),u.Ic(11),u.Qb(),u.Rb(12,"td"),u.Rb(13,"button",46),u.bc("click",function(){u.xc(e);const a=t.index,n=u.dc(2),r=u.vc(3);return n.viewLoan(r,a)}),u.Mb(14,"i",50),u.Qb(),u.Ic(15,"\xa0 "),u.Rb(16,"button",51),u.bc("click",function(){u.xc(e);const a=t.index;return u.dc(2).deleteLoan(a)}),u.Mb(17,"i",52),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=t.$implicit;u.yb(2),u.Jc(u.gc(3,5,e.date,"MM/dd/yyyy")),u.yb(3),u.Jc(e.amount),u.yb(2),u.Jc(e.paid),u.yb(2),u.Jc(e.balance),u.yb(2),u.Jc(e.payslip)}}function N(e,t){if(1&e){const e=u.Sb();u.Rb(0,"div",5),u.Rb(1,"nav",6),u.Rb(2,"ol",7),u.Rb(3,"li",8),u.Rb(4,"a",9),u.Ic(5,"Payroll"),u.Qb(),u.Qb(),u.Rb(6,"li",8),u.Rb(7,"a",10),u.Ic(8,"Loan"),u.Qb(),u.Qb(),u.Rb(9,"li",11),u.Ic(10,"Detail"),u.Qb(),u.Qb(),u.Qb(),u.Rb(11,"div",12),u.Rb(12,"div",13),u.Rb(13,"div",14),u.Rb(14,"div",15),u.Rb(15,"div",12),u.Rb(16,"div",16),u.Rb(17,"h6"),u.Ic(18,"Loan"),u.Qb(),u.Qb(),u.Rb(19,"div",16),u.Rb(20,"ul",17),u.Rb(21,"button",18),u.bc("click",function(){return u.xc(e),u.dc().submit()}),u.Mb(22,"i",19),u.Ic(23," Save Loan "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(24,"div",20),u.Rb(25,"form",21),u.Rb(26,"div",12),u.Rb(27,"div",22),u.Rb(28,"div",23),u.Rb(29,"label",24),u.Ic(30,"Loan Type"),u.Qb(),u.Mb(31,"ng-select",25),u.Gc(32,S,2,0,"p",26),u.Qb(),u.Qb(),u.Rb(33,"div",27),u.Rb(34,"div",23),u.Rb(35,"label",24),u.Ic(36,"Loan Name"),u.Qb(),u.Mb(37,"input",28),u.Gc(38,E,2,0,"p",26),u.Qb(),u.Qb(),u.Rb(39,"div",29),u.Rb(40,"div",23),u.Rb(41,"label",24),u.Ic(42,"Employee"),u.Qb(),u.Mb(43,"ng-select",30),u.Gc(44,O,2,0,"p",26),u.Qb(),u.Qb(),u.Qb(),u.Rb(45,"div",12),u.Rb(46,"div",31),u.Rb(47,"div",23),u.Rb(48,"label",24),u.Ic(49,"Total Loan Amount"),u.Qb(),u.Rb(50,"input",32),u.bc("change",function(){return u.xc(e),u.dc().computeLoan()}),u.Qb(),u.Gc(51,A,2,0,"p",26),u.Gc(52,D,2,0,"p",26),u.Qb(),u.Qb(),u.Rb(53,"div",22),u.Rb(54,"div",23),u.Rb(55,"label",24),u.Ic(56,"Loan Date"),u.Qb(),u.Rb(57,"div",33),u.Rb(58,"input",34,35),u.bc("click",function(){return u.xc(e),u.vc(59).toggle()}),u.Qb(),u.Rb(60,"div",36),u.Rb(61,"button",37),u.bc("click",function(){return u.xc(e),u.vc(59).toggle()}),u.Mb(62,"i",38),u.Qb(),u.Qb(),u.Qb(),u.Gc(63,C,2,0,"p",26),u.Qb(),u.Qb(),u.Rb(64,"div",22),u.Rb(65,"div",23),u.Rb(66,"label",24),u.Ic(67,"Loan Start"),u.Qb(),u.Rb(68,"div",33),u.Rb(69,"input",39,40),u.bc("ngModelChange",function(){return u.xc(e),u.dc().computeLoan()})("click",function(){return u.xc(e),u.vc(70).toggle()}),u.Qb(),u.Rb(71,"div",36),u.Rb(72,"button",37),u.bc("click",function(){return u.xc(e),u.vc(70).toggle()}),u.Mb(73,"i",38),u.Qb(),u.Qb(),u.Qb(),u.Gc(74,P,2,0,"p",26),u.Qb(),u.Qb(),u.Rb(75,"div",41),u.Rb(76,"div",23),u.Rb(77,"label",24),u.Ic(78,"Terms"),u.Qb(),u.Rb(79,"input",42),u.bc("change",function(){return u.xc(e),u.dc().computeLoan()}),u.Qb(),u.Gc(80,w,2,0,"p",26),u.Qb(),u.Qb(),u.Rb(81,"div",22),u.Rb(82,"div",23),u.Rb(83,"label",24),u.Ic(84,"Loan Timing"),u.Qb(),u.Rb(85,"ng-select",43),u.bc("change",function(){return u.xc(e),u.dc().computeLoan()}),u.Qb(),u.Gc(86,k,2,0,"p",26),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(87,"hr"),u.Rb(88,"div",12),u.Rb(89,"div",44),u.Rb(90,"table",45),u.Rb(91,"thead"),u.Rb(92,"tr"),u.Rb(93,"th"),u.Ic(94,"Date"),u.Qb(),u.Rb(95,"th"),u.Ic(96,"Amount"),u.Qb(),u.Rb(97,"th"),u.Ic(98,"Paid"),u.Qb(),u.Rb(99,"th"),u.Ic(100,"Balance"),u.Qb(),u.Rb(101,"th"),u.Ic(102,"Payslip"),u.Qb(),u.Rb(103,"th"),u.Rb(104,"button",46),u.bc("click",function(){return u.xc(e),u.dc().addLoan()}),u.Mb(105,"i",47),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(106,"tbody"),u.Gc(107,F,18,8,"tr",48),u.Qb(),u.Rb(108,"tfoot"),u.Rb(109,"tr"),u.Rb(110,"th"),u.Ic(111,"Total Amount"),u.Qb(),u.Rb(112,"th"),u.Ic(113),u.Qb(),u.Rb(114,"th"),u.Ic(115),u.Qb(),u.Rb(116,"th"),u.Ic(117),u.Qb(),u.Mb(118,"th"),u.Mb(119,"th"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=u.dc();u.yb(25),u.jc("formGroup",e.loanForm),u.yb(6),u.jc("items",e.loanType),u.yb(1),u.jc("ngIf",e.errLoanType),u.yb(6),u.jc("ngIf",e.errLoanName),u.yb(5),u.jc("items",e.employeeList),u.yb(1),u.jc("ngIf",e.errEmployee),u.yb(7),u.jc("ngIf",e.errTotalAmount),u.yb(1),u.jc("ngIf",e.errAmount),u.yb(11),u.jc("ngIf",e.errLoanDate),u.yb(11),u.jc("ngIf",e.errLoanStart),u.yb(6),u.jc("ngIf",e.errTerms),u.yb(5),u.jc("items",e.loanTiming),u.yb(1),u.jc("ngIf",e.errTiming),u.yb(21),u.jc("ngForOf",e.table),u.yb(6),u.Jc(e.fAmount),u.yb(2),u.Jc(e.fPaid),u.yb(2),u.Jc(e.fBalance)}}function x(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Loan Date is needed!"),u.Qb())}function j(e,t){1&e&&(u.Rb(0,"p",49),u.Ic(1,"Amount is needed!"),u.Qb())}function G(e,t){if(1&e){const e=u.Sb();u.Rb(0,"div",53),u.Rb(1,"h5",54),u.Ic(2,"Attendance Log"),u.Qb(),u.Rb(3,"button",55),u.bc("click",function(){return t.$implicit.close("by: close icon")}),u.Rb(4,"span",56),u.Ic(5,"\xd7"),u.Qb(),u.Qb(),u.Qb(),u.Rb(6,"div",57),u.Rb(7,"form",21),u.Rb(8,"div",12),u.Rb(9,"div",16),u.Rb(10,"div",23),u.Rb(11,"label",24),u.Ic(12,"Date"),u.Qb(),u.Rb(13,"div",33),u.Rb(14,"input",58,59),u.bc("click",function(){return u.xc(e),u.vc(15).toggle()}),u.Qb(),u.Rb(16,"div",36),u.Rb(17,"button",37),u.bc("click",function(){return u.xc(e),u.vc(15).toggle()}),u.Mb(18,"i",38),u.Qb(),u.Qb(),u.Qb(),u.Gc(19,x,2,0,"p",26),u.Qb(),u.Qb(),u.Rb(20,"div",16),u.Rb(21,"div",23),u.Rb(22,"label",24),u.Ic(23,"Amount"),u.Qb(),u.Mb(24,"input",60),u.Gc(25,j,2,0,"p",26),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(26,"div",61),u.Rb(27,"button",62),u.bc("click",function(){return t.$implicit.close("by: close button")}),u.Ic(28,"Close"),u.Qb(),u.Rb(29,"button",63),u.bc("click",function(){return u.xc(e),u.dc().updateLoan()}),u.Ic(30,"Save changes"),u.Qb(),u.Qb()}if(2&e){const e=u.dc();u.yb(7),u.jc("formGroup",e.updateForm),u.yb(12),u.jc("ngIf",e.errLoanDate),u.yb(6),u.jc("ngIf",e.errTotalAmount)}}let Y=(()=>{class e{constructor(e,t,a,r,b,i){this.fb=e,this.tenantMasterService=t,this.route=a,this.userManagementService=r,this.payrollRatesManagementService=b,this.modalService=i,this.isLoading=!0,this.loanType=[],this.loanTiming=[],this.employeeList=[],this.table=[],this.dateToday={day:new Date(new Date).getDate(),month:new Date(new Date).getMonth()+1,year:new Date(new Date).getFullYear()},this.pipe=new n.e("en-US"),this.fAmount=0,this.fPaid=0,this.fBalance=0}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.loanForm=this.fb.group({loanCode:"",selectedLoanType:null,loanName:"",selectedEmployee:null,totalLoanAmount:0,loanDate:this.dateToday,loanStart:this.dateToday,terms:0,selectedLoanTiming:null}),this.updateForm=this.fb.group({amount:0,date:this.dateToday}),this.resetError(!1),this.userManagementService.employeeList().subscribe(e=>{this.employeeList=e,this.tenantMasterService.dropdownList("58,59,").subscribe(e=>{this.loanType=e.filter(e=>58===e.type_id),this.loanTiming=e.filter(e=>59===e.type_id),""!==this.id?this.payrollRatesManagementService.loansView(this.id).subscribe(e=>{this.loanForm.setValue({loanCode:e[0].loan_code,selectedLoanType:e[0].loan_type_id,loanName:e[0].loan_name,selectedEmployee:e[0].employee_id,totalLoanAmount:e[0].total_amount,loanDate:{year:new Date(e[0].loan_date).getFullYear(),month:new Date(e[0].loan_date).getMonth()+1,day:new Date(e[0].loan_date).getDate()},loanStart:{year:new Date(e[0].loan_start).getFullYear(),month:new Date(e[0].loan_start).getMonth()+1,day:new Date(e[0].loan_start).getDate()},terms:e[0].terms,selectedLoanTiming:e[0].loan_timing_id}),this.payrollRatesManagementService.loansDetailView(this.id).subscribe(e=>{this.table=e,this.computeFooter(),this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)}):(this.id="0",this.isLoading=!1)},e=>{console.log(e.error)})},e=>{console.log(e.error)})}computeLoan(){let e=!0;""!==this.loanForm.get("totalLoanAmount").value&&null!==this.loanForm.get("totalLoanAmount").value&&0!==this.loanForm.get("totalLoanAmount").value||(e=!1),""!==this.loanForm.get("loanStart").value&&null!==this.loanForm.get("loanStart").value||(e=!1),""!==this.loanForm.get("terms").value&&null!==this.loanForm.get("terms").value&&0!==this.loanForm.get("terms").value||(e=!1),""!==this.loanForm.get("selectedLoanTiming").value&&null!==this.loanForm.get("selectedLoanTiming").value||(e=!1),e&&(this.table=[],this.payrollRatesManagementService.computeLoan("0",this.loanForm.get("totalLoanAmount").value,this.pipe.transform(this.loanForm.get("loanStart").value.year+"/"+this.loanForm.get("loanStart").value.month+"/"+this.loanForm.get("loanStart").value.day,"MM/dd/yyyy"),this.loanForm.get("terms").value,this.loanForm.get("selectedLoanTiming").value).subscribe(e=>{this.table=e,console.log(e),this.computeFooter()},e=>{console.log(e.error)}))}viewLoan(e,t){this.index=t;const a=this.table[t],n={day:new Date(a.date).getDate(),month:new Date(a.date).getMonth()+1,year:new Date(a.date).getFullYear()};this.updateForm.get("date").setValue(n),this.updateForm.get("amount").setValue(a.amount),this.modalService.open(e)}updateLoan(){this.table[this.index].amount=this.updateForm.get("amount").value,this.table[this.index].date=this.pipe.transform(this.updateForm.get("date").value.year+"/"+this.updateForm.get("date").value.month+"/"+this.updateForm.get("date").value.day,"MM/dd/yyyy");let e=0;for(var t=0;t<this.table.length;t++)e+=this.table[t].amount;this.loanForm.get("totalLoanAmount").setValue(e),this.computeFooter(),this.modalService.dismissAll()}deleteLoan(e){this.table.splice(e,1),this.loanForm.get("terms").setValue(this.table.length);let t=0;for(var a=0;a<this.table.length;a++)t+=this.table[a].amount;this.loanForm.get("totalLoanAmount").setValue(t),this.computeFooter()}addLoan(){this.table.push({active:!1,amount:0,balance:0,date:this.pipe.transform(this.dateToday.year+"/"+this.dateToday.month+"/"+this.dateToday.day,"MM/dd/yyyy"),paid:0,payslip:""}),this.loanForm.get("terms").setValue(this.table.length)}computeFooter(){this.fAmount=0,this.fPaid=0,this.fBalance=0;for(var e=0;e<this.table.length;e++)this.fAmount+=this.table[e].amount,this.fPaid+=this.table[e].paid,this.fBalance+=this.table[e].balance}resetError(e){this.errLoanType=e,this.errLoanName=e,this.errEmployee=e,this.errTotalAmount=e,this.errAmount=e,this.errLoanDate=e,this.errLoanStart=e,this.errTerms=e,this.errTiming=e}validation(){this.resetError(!1);let e=!0;return""!==this.loanForm.get("selectedLoanType").value&&null!==this.loanForm.get("selectedLoanType").value||(e=!1,this.errLoanType=!0),""!==this.loanForm.get("loanName").value&&null!==this.loanForm.get("loanName").value||(e=!1,this.errLoanName=!0),""!==this.loanForm.get("selectedEmployee").value&&null!==this.loanForm.get("selectedEmployee").value||(e=!1,this.errEmployee=!0),""!==this.loanForm.get("totalLoanAmount").value&&null!==this.loanForm.get("totalLoanAmount").value&&0!==this.loanForm.get("totalLoanAmount").value||(e=!1,this.errTotalAmount=!0),""!==this.loanForm.get("loanDate").value&&null!==this.loanForm.get("loanDate").value||(e=!1,this.errLoanDate=!0),""!==this.loanForm.get("loanStart").value&&null!==this.loanForm.get("loanStart").value||(e=!1,this.errLoanStart=!0),""!==this.loanForm.get("terms").value&&null!==this.loanForm.get("terms").value&&0!==this.loanForm.get("terms").value||(e=!1,this.errTerms=!0),""!==this.loanForm.get("selectedLoanTiming").value&&null!==this.loanForm.get("selectedLoanTiming").value||(e=!1,this.errTiming=!0),e}submit(){this.validation()&&T.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&T.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{T.a.showLoading();var e={loan_id:this.id,loan_code:this.loanForm.value.loanCode,loan_type_id:this.loanForm.value.selectedLoanType,loan_name:this.loanForm.value.loanName,employee_id:this.loanForm.value.selectedEmployee,total_amount:this.loanForm.value.totalLoanAmount,loan_date:this.pipe.transform(this.loanForm.get("loanDate").value.year+"/"+this.loanForm.get("loanDate").value.month+"/"+this.loanForm.get("loanDate").value.day,"MM/dd/yyyy"),loan_start:this.pipe.transform(this.loanForm.get("loanStart").value.year+"/"+this.loanForm.get("loanStart").value.month+"/"+this.loanForm.get("loanStart").value.day,"MM/dd/yyyy"),terms:this.loanForm.value.terms,loan_timing_id:this.loanForm.value.selectedLoanTiming,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),Detail:this.table};this.payrollRatesManagementService.loanIU(e).subscribe(e=>{0===e?T.a.fire("Failed!",e.description,"error"):T.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),T.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(b.c),u.Lb(_.a),u.Lb(i.a),u.Lb(L.a),u.Lb(p.a),u.Lb(l.j))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-loans-detail"]],decls:4,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["updateModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/payroll/loans-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],[1,"card-body"],[3,"formGroup"],[1,"col-md-3"],[1,"form-group"],[1,"control-label"],["formControlName","selectedLoanType","bindLabel","description","bindValue","id","placeholder","Select Loan Type",3,"items"],["class","text-danger mt-1",4,"ngIf"],[1,"col-md-4"],["formControlName","loanName","type","text","placeholder","Loan Name",1,"form-control"],[1,"col-md-5"],["formControlName","selectedEmployee","bindLabel","display_name","bindValue","employee_id","placeholder","Select Employee",3,"items"],[1,"col-md-2"],["formControlName","totalLoanAmount","type","number","placeholder","0",1,"form-control",3,"change"],[1,"input-group"],["formControlName","loanDate","placeholder","mm/dd/yyyy","name","dp","value","dateFrom","ngbDatepicker","",1,"form-control",3,"click"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","calendar","appFeatherIcon","",1,"text-secondary"],["formControlName","loanStart","placeholder","mm/dd/yyyy","name","dp","value","dateFrom","ngbDatepicker","",1,"form-control",3,"ngModelChange","click"],["d2","ngbDatepicker"],[1,"col-md-1"],["formControlName","terms","type","number","placeholder","0",1,"form-control",3,"change"],["formControlName","selectedLoanTiming","bindLabel","description","bindValue","id","placeholder","Select Loan Timing",3,"items","change"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[4,"ngFor","ngForOf"],[1,"text-danger","mt-1"],[1,"feather","icon-edit-2"],["type","button","title","Edit",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["formControlName","date","placeholder","mm/dd/yyyy","name","dp","value","dateFrom","ngbDatepicker","",1,"form-control",3,"click"],["d3","ngbDatepicker"],["formControlName","amount","type","number","placeholder","0",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(u.Gc(0,M,3,0,"div",0),u.Gc(1,N,120,17,"div",1),u.Gc(2,G,31,3,"ng-template",null,2,u.Hc)),2&e&&(u.jc("ngIf",t.isLoading),u.yb(1),u.jc("ngIf",!t.isLoading))},directives:[n.n,i.f,y.a,b.s,b.j,b.e,d.a,b.i,b.d,b.b,b.n,l.i,n.m],pipes:[n.e],styles:[""]}),e})();var J=a("tinS"),B=a("pweZ"),H=a("Txdn");function V(e,t){1&e&&(u.Rb(0,"div",2),u.Rb(1,"div",3),u.Ic(2,"Loading..."),u.Qb(),u.Qb())}function U(e,t){1&e&&(u.Rb(0,"p",35),u.Ic(1,"Goverment Type is needed!"),u.Qb())}function X(e,t){1&e&&(u.Rb(0,"p",35),u.Ic(1,"Tag Type is needed!"),u.Qb())}function W(e,t){1&e&&(u.Rb(0,"p",35),u.Ic(1,"Name is needed!"),u.Qb())}function K(e,t){1&e&&(u.Rb(0,"p",35),u.Ic(1,"Timing is needed!"),u.Qb())}function z(e,t){1&e&&(u.Rb(0,"p",35),u.Ic(1,"Amount is needed!"),u.Qb())}function q(e,t){1&e&&(u.Rb(0,"button",36),u.Mb(1,"span",37),u.Ic(2," Loading... "),u.Qb())}function Z(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",38),u.bc("click",function(){return u.xc(e),u.dc(2).search()}),u.Mb(1,"i",39),u.Ic(2," Add "),u.Qb()}}function ee(e,t){if(1&e){const e=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.Qb(),u.Rb(5,"td"),u.Ic(6),u.Qb(),u.Rb(7,"td"),u.Ic(8),u.Qb(),u.Rb(9,"td"),u.Ic(10),u.Qb(),u.Rb(11,"td"),u.Rb(12,"button",40),u.bc("click",function(){u.xc(e);const a=t.index;return u.dc(2).delete(a)}),u.Mb(13,"i",41),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=t.$implicit;u.yb(2),u.Jc(e.employee_code),u.yb(2),u.Jc(e.display_name),u.yb(2),u.Jc(e.amount),u.yb(2),u.Jc(e.timing),u.yb(2),u.Jc(e.taxable)}}function te(e,t){if(1&e){const e=u.Sb();u.Rb(0,"div",4),u.Rb(1,"nav",5),u.Rb(2,"ol",6),u.Rb(3,"li",7),u.Rb(4,"a",8),u.Ic(5,"Payroll"),u.Qb(),u.Qb(),u.Rb(6,"li",9),u.Ic(7,"Government Contribution"),u.Qb(),u.Qb(),u.Qb(),u.Rb(8,"div",10),u.Rb(9,"div",11),u.Rb(10,"div",12),u.Rb(11,"div",13),u.Rb(12,"div",14),u.Rb(13,"div",10),u.Rb(14,"div",15),u.Rb(15,"h6"),u.Ic(16,"Government Contribution"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(17,"hr"),u.Rb(18,"form",16),u.Rb(19,"div",10),u.Rb(20,"div",17),u.Rb(21,"div",18),u.Rb(22,"label",19),u.Ic(23,"Goverment Type"),u.Qb(),u.Mb(24,"ng-select",20),u.Gc(25,U,2,0,"p",21),u.Qb(),u.Qb(),u.Rb(26,"div",22),u.Rb(27,"div",18),u.Rb(28,"label",19),u.Ic(29,"Tag Type"),u.Qb(),u.Rb(30,"ng-select",23),u.bc("change",function(){return u.xc(e),u.dc().onChange()}),u.Qb(),u.Gc(31,X,2,0,"p",21),u.Qb(),u.Qb(),u.Rb(32,"div",24),u.Rb(33,"div",18),u.Rb(34,"label",19),u.Ic(35,"Name"),u.Qb(),u.Mb(36,"ng-select",25),u.Gc(37,W,2,0,"p",21),u.Qb(),u.Qb(),u.Qb(),u.Rb(38,"div",10),u.Rb(39,"div",17),u.Rb(40,"div",18),u.Rb(41,"label",19),u.Ic(42,"Timing"),u.Qb(),u.Mb(43,"ng-select",26),u.Gc(44,K,2,0,"p",21),u.Qb(),u.Qb(),u.Rb(45,"div",22),u.Rb(46,"div",18),u.Rb(47,"label",19),u.Ic(48,"Amount"),u.Qb(),u.Mb(49,"input",27),u.Gc(50,z,2,0,"p",21),u.Qb(),u.Qb(),u.Rb(51,"div",24),u.Rb(52,"div",18),u.Rb(53,"label",19),u.Ic(54,"\xa0"),u.Qb(),u.Rb(55,"div",18),u.Rb(56,"div",10),u.Gc(57,q,3,0,"button",28),u.Gc(58,Z,3,0,"button",29),u.Ic(59," \xa0 "),u.Rb(60,"button",30),u.bc("click",function(){return u.xc(e),u.dc().submit()}),u.Mb(61,"i",31),u.Ic(62," Save "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(63,"hr"),u.Rb(64,"div",32),u.Rb(65,"table",33),u.Rb(66,"thead"),u.Rb(67,"tr"),u.Rb(68,"th"),u.Ic(69,"Employee Code"),u.Qb(),u.Rb(70,"th"),u.Ic(71,"Employee Name"),u.Qb(),u.Rb(72,"th"),u.Ic(73,"Amount"),u.Qb(),u.Rb(74,"th"),u.Ic(75,"Timing"),u.Qb(),u.Rb(76,"th"),u.Ic(77,"Taxable"),u.Qb(),u.Rb(78,"th"),u.Ic(79,"Action"),u.Qb(),u.Qb(),u.Qb(),u.Rb(80,"tbody"),u.Gc(81,ee,14,5,"tr",34),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=u.dc();u.yb(18),u.jc("formGroup",e.governmentForm),u.yb(6),u.jc("items",e.governmentList),u.yb(1),u.jc("ngIf",e.errGovernmentType),u.yb(5),u.jc("items",e.tagType),u.yb(1),u.jc("ngIf",e.errTypeType),u.yb(5),u.jc("items",e.nameList),u.yb(1),u.jc("ngIf",e.errName),u.yb(6),u.jc("items",e.timingList),u.yb(1),u.jc("ngIf",e.errTiming),u.yb(6),u.jc("ngIf",e.errAmount),u.yb(7),u.jc("ngIf",e.isSearch),u.yb(1),u.jc("ngIf",!e.isSearch),u.yb(23),u.jc("ngForOf",e.table)}}let ae=(()=>{class e{constructor(e,t,a,n,r,b,i){this.branchManagementService=e,this.accountManagementService=t,this.tenantDefaultService=a,this.userManagementService=n,this.tenantMasterService=r,this.fb=b,this.payrollRatesManagementService=i,this.isLoading=!0,this.isSearch=!1,this.governmentList=[],this.tagType=[],this.nameList=[],this.timingList=[],this.branch=[],this.company=[],this.department=[],this.employee=[],this.table=[]}ngOnInit(){this.governmentForm=this.fb.group({selectedGovernmentType:null,selectedEmployee:null,selectedTagType:null,selectedTiming:null,amount:null}),this.tenantMasterService.dropdownList("50, 60, 28,").subscribe(e=>{this.tagType=e.filter(e=>50===e.type_id),this.timingList=e.filter(e=>60===e.type_id),this.governmentList=e.filter(e=>28===e.type_id),this.isLoading=!1},e=>{console.log(e.error)})}onChange(){switch(this.resetError(!1),this.nameList=[],this.governmentForm.get("selectedEmployee").setValue(null),this.governmentForm.get("selectedTagType").value){case 102:this.branch.length>0?this.nameList=this.branch:this.branchManagementService.branchList().subscribe(e=>{for(var t=0;t<e.length;t++)this.branch.push({id:e[t].encrypted_branch_id,description:e[t].branch_name});this.nameList=this.branch},e=>{console.log(e.error)});break;case 103:this.company.length>0?this.nameList=this.company:this.accountManagementService.companyView().subscribe(e=>{for(var t=0;t<e.length;t++)this.company.push({id:e[t].companyID,description:e[t].companyName});this.nameList=this.company},e=>{console.log(e.error)});break;case 90:this.department.length>0?this.nameList=this.department:this.tenantDefaultService.dropdownTList("38").subscribe(e=>{for(var t=0;t<e.length;t++)this.department.push({id:e[t].encrypted_id,description:e[t].description});this.nameList=this.department},e=>{console.log(e.error)});break;case 89:this.employee.length>0?this.nameList=this.employee:this.userManagementService.employeeList().subscribe(e=>{for(var t=0;t<e.length;t++)this.employee.push({id:e[t].encrypt_employee_id,description:e[t].display_name});this.nameList=this.employee},e=>{console.log(e.error)})}}resetError(e){this.errGovernmentType=e,this.errTypeType=e,this.errName=e,this.errTiming=e,this.errAmount=e}delete(e){this.table.splice(e,1)}search(){this.validation()&&this.userManagementService.governmentView(this.governmentForm.value.selectedGovernmentType,this.governmentForm.value.amount,this.governmentForm.value.selectedTiming,this.governmentForm.value.selectedTagType,this.governmentForm.value.selectedEmployee).subscribe(e=>{this.table=e},e=>{console.log(e.error)})}validation(){this.resetError(!1);let e=!0;return""!==this.governmentForm.get("selectedGovernmentType").value&&null!==this.governmentForm.get("selectedGovernmentType").value||(e=!1,this.errGovernmentType=!0),""!==this.governmentForm.get("selectedTagType").value&&null!==this.governmentForm.get("selectedTagType").value||(e=!1,this.errTypeType=!0),""!==this.governmentForm.get("selectedEmployee").value&&null!==this.governmentForm.get("selectedEmployee").value||(e=!1,this.errName=!0),""!==this.governmentForm.get("selectedTiming").value&&null!==this.governmentForm.get("selectedTiming").value||(e=!1,this.errTiming=!0),""!==this.governmentForm.get("amount").value&&null!==this.governmentForm.get("amount").value||(e=!1,this.errAmount=!0),e}submit(){T.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&T.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{T.a.showLoading();var e=this.table.map(e=>({payroll_contribution_id:"0",employee_id:e.employee_id,government_type_id:e.government_type_id,timing_id:e.timing_id,amount:e.amount,taxable:e.taxable_id,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")}));this.payrollRatesManagementService.governmentI(e).subscribe(e=>{0===e?T.a.fire("Failed!",e.description,"error"):T.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),T.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(J.a),u.Lb(B.a),u.Lb(H.a),u.Lb(L.a),u.Lb(_.a),u.Lb(b.c),u.Lb(p.a))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-government-contribution"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[3,"formGroup"],[1,"col-md-3"],[1,"form-group"],[1,"control-label"],["formControlName","selectedGovernmentType","name","Shift Code","bindLabel","description","bindValue","id","placeholder","Select Goverment Type",3,"items"],["class","text-danger mt-1",4,"ngIf"],[1,"col-md-4"],["formControlName","selectedTagType","name","Tag Type","bindLabel","description","bindValue","id","placeholder","Select Tag Type",3,"items","change"],[1,"col-md-5"],["formControlName","selectedEmployee","name","Name","bindLabel","description","bindValue","id","placeholder","Select Name",3,"items"],["formControlName","selectedTiming","name","Tag Type","bindLabel","description","bindValue","id","placeholder","Select Timing",3,"items"],["formControlName","amount","type","number","placeholder","0",1,"form-control"],["class","btn btn-primary","type","button","disabled","",4,"ngIf"],["type","button","class","btn btn-primary btn-icon-text ",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"text-danger","mt-1"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","corner-right-down","appFeatherIcon","",1,"btn-icon-prepend"],["type","button","title","Delete",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(u.Gc(0,V,3,0,"div",0),u.Gc(1,te,82,13,"div",1)),2&e&&(u.jc("ngIf",t.isLoading),u.yb(1),u.jc("ngIf",!t.isLoading))},directives:[n.n,i.f,b.s,b.j,b.e,d.a,b.i,b.d,b.b,b.n,y.a,n.m],styles:[""]}),e})();var ne=a("oYuu");function re(e,t){1&e&&(u.Rb(0,"div",2),u.Rb(1,"div",3),u.Ic(2,"Loading..."),u.Qb(),u.Qb())}function be(e,t){if(1&e){const e=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.Qb(),u.Rb(5,"td"),u.Ic(6),u.Qb(),u.Rb(7,"td"),u.Ic(8),u.Qb(),u.Rb(9,"td"),u.Ic(10),u.Qb(),u.Rb(11,"td"),u.Ic(12),u.Qb(),u.Rb(13,"td"),u.Rb(14,"button",22),u.bc("click",function(){u.xc(e);const a=t.$implicit;return u.dc(2).viewPayroll(a.encrypted_payroll_header_id)}),u.Mb(15,"i",23),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=t.$implicit;u.yb(2),u.Jc(e.payroll_header_code),u.yb(2),u.Jc(e.payroll_type),u.yb(2),u.Jc(e.timekeeping_header_code),u.yb(2),u.Jc(e.display_name),u.yb(2),u.Jc(e.date_created),u.yb(2),u.Jc(e.tk_count)}}const ie=function(){return["/layout/payroll/payroll-generation-detail"]};function oe(e,t){if(1&e&&(u.Rb(0,"div",4),u.Rb(1,"nav",5),u.Rb(2,"ol",6),u.Rb(3,"li",7),u.Rb(4,"a",8),u.Ic(5,"Payroll"),u.Qb(),u.Qb(),u.Rb(6,"li",9),u.Ic(7,"Payroll Generation"),u.Qb(),u.Qb(),u.Qb(),u.Rb(8,"div",10),u.Rb(9,"div",11),u.Rb(10,"div",12),u.Rb(11,"div",13),u.Rb(12,"div",14),u.Rb(13,"div",10),u.Rb(14,"div",15),u.Rb(15,"h6"),u.Ic(16,"Payroll Generation"),u.Qb(),u.Qb(),u.Rb(17,"div",15),u.Rb(18,"ul",16),u.Rb(19,"button",17),u.Mb(20,"i",18),u.Ic(21," Add payroll "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(22,"hr"),u.Rb(23,"div",19),u.Rb(24,"table",20),u.Rb(25,"thead"),u.Rb(26,"tr"),u.Rb(27,"th"),u.Ic(28,"Payroll Code"),u.Qb(),u.Rb(29,"th"),u.Ic(30,"Payroll Type"),u.Qb(),u.Rb(31,"th"),u.Ic(32,"Timekeeping Code"),u.Qb(),u.Rb(33,"th"),u.Ic(34,"Created By"),u.Qb(),u.Rb(35,"th"),u.Ic(36,"Date Created"),u.Qb(),u.Rb(37,"th"),u.Ic(38,"Count"),u.Qb(),u.Mb(39,"th"),u.Qb(),u.Qb(),u.Rb(40,"tbody"),u.Gc(41,be,16,6,"tr",21),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e){const e=u.dc();u.yb(19),u.jc("routerLink",u.mc(4,ie)),u.yb(5),u.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),u.yb(17),u.jc("ngForOf",e.table)}}let de=(()=>{class e{constructor(e,t){this.payrollManagementService=e,this.router=t,this.isLoading=!0,this.dtOptions={},this.dtTrigger=new h.a,this.table=[],this.pipe=new n.e("en-US")}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,order:[0,"desc"]},this.payrollManagementService.headerView(0).subscribe(e=>{this.table=e,this.isLoading=!1,setTimeout(()=>{this.dtTrigger.next()},100)},e=>{console.log(e.error)})}viewPayroll(e){this.router.navigate(["/layout/payroll/payroll-generation-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(ne.a),u.Lb(i.c))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-payroll-generation-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(u.Gc(0,re,3,0,"div",0),u.Gc(1,oe,42,5,"div",1)),2&e&&(u.jc("ngIf",t.isLoading),u.yb(1),u.jc("ngIf",!t.isLoading))},directives:[n.n,i.f,i.d,y.a,s.a,n.m],styles:[""]}),e})();var ce=a("EVdn"),le=a("mWvJ"),se=a("wVlD"),me=a("mkVx");const he=["generatedModal"],ue=["adjustmentModal"],pe=["viewModal"];function ye(e,t){1&e&&(u.Rb(0,"div",5),u.Rb(1,"div",6),u.Ic(2,"Loading..."),u.Qb(),u.Qb())}function Re(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Timekeeping is needed!"),u.Qb())}function ge(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",67),u.bc("click",function(){return u.xc(e),u.dc(2).submitHeader()}),u.Mb(1,"i",68),u.Ic(2," Save Changes "),u.Qb()}}function Qe(e,t){1&e&&(u.Rb(0,"button",42),u.Ic(1,"Continue"),u.Qb())}function fe(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",69),u.bc("click",function(){return u.xc(e),u.dc(2).addAdjustment()}),u.Mb(1,"i",70),u.Ic(2," Add Adjustment "),u.Qb()}}function Ie(e,t){if(1&e){const e=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.Qb(),u.Rb(5,"td"),u.Ic(6),u.Qb(),u.Rb(7,"td"),u.Ic(8),u.Qb(),u.Rb(9,"td"),u.Ic(10),u.Qb(),u.Rb(11,"td"),u.Ic(12),u.Qb(),u.Rb(13,"td"),u.Rb(14,"div",45),u.Rb(15,"input",71),u.bc("ngModelChange",function(e){return t.$implicit.active=e})("change",function(a){u.xc(e);const n=t.index;return u.dc(2).checkTrans(n,a)}),u.Qb(),u.Mb(16,"label",72),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=t.$implicit;u.yb(2),u.Jc(e.employee_code),u.yb(2),u.Jc(e.display_name),u.yb(2),u.Jc(e.adjustment_type),u.yb(2),u.Jc(e.adjustment_name),u.yb(2),u.Jc(e.amount),u.yb(2),u.Jc(e.taxable),u.yb(3),u.kc("id",e.payroll_adjustment_id),u.jc("ngModel",e.active),u.yb(1),u.kc("for",e.payroll_adjustment_id)}}function ve(e,t){1&e&&(u.Rb(0,"button",73),u.Mb(1,"span",74),u.Ic(2," Loading... "),u.Qb())}function Te(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",69),u.bc("click",function(){return u.xc(e),u.dc(2).generate()}),u.Mb(1,"i",70),u.Ic(2," Generate "),u.Qb()}}function _e(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Category is needed!"),u.Qb())}function Le(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Branch is needed!"),u.Qb())}function Me(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Confidential is needed!"),u.Qb())}function Se(e,t){if(1&e){const e=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.ec(5,"date"),u.Qb(),u.Rb(6,"td"),u.Ic(7),u.ec(8,"date"),u.Qb(),u.Rb(9,"td"),u.Ic(10),u.Qb(),u.Rb(11,"td"),u.Ic(12),u.Qb(),u.Rb(13,"td"),u.Ic(14),u.ec(15,"date"),u.Qb(),u.Rb(16,"td"),u.Rb(17,"button",75),u.bc("click",function(){u.xc(e);const a=t.$implicit;return u.dc(2).view(a.payroll_id)}),u.Mb(18,"i",76),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=t.$implicit;u.yb(2),u.Jc(e.payroll_code),u.yb(2),u.Jc(u.gc(5,6,e.date_from,"MM/dd/yyyy")),u.yb(3),u.Jc(u.gc(8,9,e.date_to,"MM/dd/yyyy")),u.yb(3),u.Jc(e.status),u.yb(2),u.Jc(e.display_name),u.yb(2),u.Jc(u.gc(15,12,e.date_created,"MM/dd/yyyy"))}}function Ee(e,t){1&e&&(u.Rb(0,"button",73),u.Mb(1,"span",74),u.Ic(2," Loading... "),u.Qb())}function Oe(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",67),u.bc("click",function(){return u.xc(e),u.dc(2).postPayroll()}),u.Mb(1,"i",68),u.Ic(2," Post "),u.Qb()}}function Ae(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"No items selected!"),u.Qb())}function De(e,t){if(1&e){const e=u.Sb();u.Rb(0,"div",7),u.Rb(1,"nav",8),u.Rb(2,"ol",9),u.Rb(3,"li",10),u.Rb(4,"a",11),u.Ic(5,"Payroll"),u.Qb(),u.Qb(),u.Rb(6,"li",10),u.Rb(7,"a",12),u.Ic(8,"Payroll Generation"),u.Qb(),u.Qb(),u.Rb(9,"li",13),u.Ic(10,"Detail"),u.Qb(),u.Qb(),u.Qb(),u.Rb(11,"div",14),u.Rb(12,"div",15),u.Rb(13,"div",16),u.Rb(14,"div",17),u.Rb(15,"aw-wizard"),u.Rb(16,"aw-wizard-step",18),u.Mb(17,"hr"),u.Rb(18,"form",19),u.Rb(19,"div",14),u.Rb(20,"div",20),u.Rb(21,"div",21),u.Rb(22,"label",22),u.Ic(23,"Timekeeping Code"),u.Qb(),u.Rb(24,"ng-select",23),u.bc("change",function(t){return u.xc(e),u.dc().selectTK(t)}),u.Qb(),u.Gc(25,Re,2,0,"p",24),u.Qb(),u.Qb(),u.Qb(),u.Rb(26,"div",14),u.Rb(27,"div",20),u.Rb(28,"div",21),u.Rb(29,"label",22),u.Ic(30,"Payroll Type"),u.Qb(),u.Mb(31,"input",25),u.Qb(),u.Qb(),u.Rb(32,"div",20),u.Rb(33,"div",21),u.Rb(34,"label",22),u.Ic(35,"Date From"),u.Qb(),u.Mb(36,"input",26),u.Qb(),u.Qb(),u.Rb(37,"div",20),u.Rb(38,"div",21),u.Rb(39,"label",22),u.Ic(40,"Date To"),u.Qb(),u.Mb(41,"input",27),u.Qb(),u.Qb(),u.Qb(),u.Rb(42,"div",14),u.Rb(43,"div",20),u.Rb(44,"div",21),u.Rb(45,"label",22),u.Ic(46,"Category"),u.Qb(),u.Mb(47,"input",28),u.Qb(),u.Qb(),u.Rb(48,"div",20),u.Rb(49,"div",21),u.Rb(50,"label",22),u.Ic(51,"Branch"),u.Qb(),u.Mb(52,"input",29),u.Qb(),u.Qb(),u.Rb(53,"div",20),u.Rb(54,"div",21),u.Rb(55,"label",22),u.Ic(56,"Confidential"),u.Qb(),u.Mb(57,"input",30),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(58,"div",31),u.Gc(59,ge,3,0,"button",32),u.Gc(60,Qe,2,0,"button",33),u.Qb(),u.Qb(),u.Rb(61,"aw-wizard-step",34),u.Mb(62,"hr"),u.Rb(63,"div",14),u.Rb(64,"div",35),u.Rb(65,"div",36),u.Gc(66,fe,3,0,"button",37),u.Qb(),u.Qb(),u.Qb(),u.Rb(67,"div",14),u.Rb(68,"div",35),u.Rb(69,"div",38),u.Rb(70,"table",39),u.Rb(71,"thead"),u.Rb(72,"tr"),u.Rb(73,"th"),u.Ic(74,"Employee Code"),u.Qb(),u.Rb(75,"th"),u.Ic(76,"Employee"),u.Qb(),u.Rb(77,"th"),u.Ic(78,"Type"),u.Qb(),u.Rb(79,"th"),u.Ic(80,"Adjustment Name"),u.Qb(),u.Rb(81,"th"),u.Ic(82,"Amount"),u.Qb(),u.Rb(83,"th"),u.Ic(84,"Taxable"),u.Qb(),u.Rb(85,"th"),u.Ic(86,"Action"),u.Qb(),u.Qb(),u.Qb(),u.Rb(87,"tbody"),u.Gc(88,Ie,17,9,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(89,"div",31),u.Rb(90,"button",41),u.Ic(91,"Back"),u.Qb(),u.Rb(92,"button",42),u.Ic(93,"Continue"),u.Qb(),u.Qb(),u.Qb(),u.Rb(94,"aw-wizard-step",43),u.Mb(95,"hr"),u.Rb(96,"form",19),u.Rb(97,"div",14),u.Rb(98,"div",44),u.Rb(99,"div",21),u.Rb(100,"label",22),u.Ic(101,"\xa0"),u.Qb(),u.Rb(102,"div",45),u.Mb(103,"input",46),u.Rb(104,"label",47),u.Ic(105,"Include Tax"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(106,"div",44),u.Rb(107,"div",21),u.Rb(108,"label",22),u.Ic(109,"\xa0"),u.Qb(),u.Rb(110,"div",45),u.Mb(111,"input",48),u.Rb(112,"label",49),u.Ic(113,"Include SSS"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(114,"div",44),u.Rb(115,"div",21),u.Rb(116,"label",22),u.Ic(117,"\xa0"),u.Qb(),u.Rb(118,"div",45),u.Mb(119,"input",50),u.Rb(120,"label",51),u.Ic(121,"Include Pagibig"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(122,"div",44),u.Rb(123,"div",21),u.Rb(124,"label",22),u.Ic(125,"\xa0"),u.Qb(),u.Rb(126,"div",45),u.Mb(127,"input",52),u.Rb(128,"label",53),u.Ic(129,"Include Philhealth"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(130,"div",20),u.Rb(131,"div",36),u.Gc(132,ve,3,0,"button",54),u.Gc(133,Te,3,0,"button",37),u.Qb(),u.Qb(),u.Qb(),u.Rb(134,"div",14),u.Rb(135,"div",20),u.Rb(136,"div",21),u.Rb(137,"label",22),u.Ic(138,"Category"),u.Qb(),u.Mb(139,"ng-select",55),u.Gc(140,_e,2,0,"p",24),u.Qb(),u.Qb(),u.Rb(141,"div",20),u.Rb(142,"div",21),u.Rb(143,"label",22),u.Ic(144,"Branch"),u.Qb(),u.Mb(145,"ng-select",56),u.Gc(146,Le,2,0,"p",24),u.Qb(),u.Qb(),u.Rb(147,"div",20),u.Rb(148,"div",21),u.Rb(149,"label",22),u.Ic(150,"Confidential"),u.Qb(),u.Mb(151,"ng-select",57),u.Gc(152,Me,2,0,"p",24),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(153,"hr"),u.Rb(154,"div",14),u.Rb(155,"div",35),u.Rb(156,"div",38),u.Rb(157,"table",58),u.Rb(158,"thead"),u.Rb(159,"tr"),u.Rb(160,"th"),u.Ic(161,"Payroll Code"),u.Qb(),u.Rb(162,"th"),u.Ic(163,"Date From"),u.Qb(),u.Rb(164,"th"),u.Ic(165,"Date To"),u.Qb(),u.Rb(166,"th"),u.Ic(167,"Status"),u.Qb(),u.Rb(168,"th"),u.Ic(169,"Created By"),u.Qb(),u.Rb(170,"th"),u.Ic(171,"Date Created"),u.Qb(),u.Rb(172,"th"),u.Ic(173,"Action"),u.Qb(),u.Qb(),u.Qb(),u.Rb(174,"tbody"),u.Gc(175,Se,19,15,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(176,"div",31),u.Rb(177,"button",41),u.Ic(178,"Back"),u.Qb(),u.Rb(179,"button",42),u.Ic(180,"Continue"),u.Qb(),u.Qb(),u.Qb(),u.Rb(181,"aw-wizard-step",59),u.Mb(182,"hr"),u.Rb(183,"div",14),u.Rb(184,"div",20),u.Rb(185,"div",21),u.Rb(186,"label",22),u.Ic(187,"Payroll Code"),u.Qb(),u.Rb(188,"ng-select",60),u.bc("ngModelChange",function(t){return u.xc(e),u.dc().selectedCode=t})("ngModelChange",function(){return u.xc(e),u.dc().loadList()}),u.Qb(),u.Qb(),u.Qb(),u.Rb(189,"div",20),u.Rb(190,"div",21),u.Rb(191,"label",22),u.Ic(192,"\xa0"),u.Qb(),u.Rb(193,"div",21),u.Rb(194,"div",14),u.Gc(195,Ee,3,0,"button",54),u.Gc(196,Oe,3,0,"button",32),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(197,"div",14),u.Rb(198,"div",35),u.Rb(199,"div",38),u.Gc(200,Ae,2,0,"p",24),u.Rb(201,"table",61),u.Rb(202,"thead"),u.Rb(203,"tr"),u.Rb(204,"th"),u.Rb(205,"div",45),u.Rb(206,"input",62),u.bc("change",function(t){return u.xc(e),u.dc().checkAll(t)}),u.Qb(),u.Mb(207,"label",63),u.Qb(),u.Qb(),u.Rb(208,"th"),u.Ic(209,"Paydate"),u.Qb(),u.Rb(210,"th"),u.Ic(211,"Paycode"),u.Qb(),u.Rb(212,"th"),u.Ic(213,"Employee ID"),u.Qb(),u.Rb(214,"th"),u.Ic(215,"Lastname"),u.Qb(),u.Rb(216,"th"),u.Ic(217,"Firstname"),u.Qb(),u.Rb(218,"th"),u.Ic(219,"Filestatus"),u.Qb(),u.Rb(220,"th"),u.Ic(221,"Taxstatus"),u.Qb(),u.Rb(222,"th"),u.Ic(223,"DAILY RATE"),u.Qb(),u.Rb(224,"th"),u.Ic(225,"MONTHLY RATE"),u.Qb(),u.Rb(226,"th"),u.Ic(227,"BASIC SALARY"),u.Qb(),u.Rb(228,"th"),u.Ic(229,"MISC AMOUNT"),u.Qb(),u.Rb(230,"th"),u.Ic(231,"LEAVEAMOUNT"),u.Qb(),u.Rb(232,"th"),u.Ic(233,"OVERTIME(REG)"),u.Qb(),u.Rb(234,"th"),u.Ic(235,"OVERTIME(HOL)"),u.Qb(),u.Rb(236,"th"),u.Ic(237,"OTHER TX INCOME"),u.Qb(),u.Rb(238,"th"),u.Ic(239,"ADJUSTMENTS"),u.Qb(),u.Rb(240,"th"),u.Ic(241,"GROSS INCOME"),u.Qb(),u.Rb(242,"th"),u.Ic(243,"WITHOLDING TAX"),u.Qb(),u.Rb(244,"th"),u.Ic(245,"NET SALARY AFTER TAX"),u.Qb(),u.Rb(246,"th"),u.Ic(247,"EMPLOYEE SSS"),u.Qb(),u.Rb(248,"th"),u.Ic(249,"EMPLOYEE MCR"),u.Qb(),u.Rb(250,"th"),u.Ic(251,"EMPLOYEE PAG-IBIG"),u.Qb(),u.Rb(252,"th"),u.Ic(253,"OTHER NTX INCOME"),u.Qb(),u.Rb(254,"th"),u.Ic(255,"LOAN PAYMENTS"),u.Qb(),u.Rb(256,"th"),u.Ic(257,"DEDUCTIONS"),u.Qb(),u.Rb(258,"th"),u.Ic(259,"NET SALARY"),u.Qb(),u.Rb(260,"th"),u.Ic(261,"EMPLOYER SSS"),u.Qb(),u.Rb(262,"th"),u.Ic(263,"EMPLOYER MCR"),u.Qb(),u.Rb(264,"th"),u.Ic(265,"EMPLOYER EC"),u.Qb(),u.Rb(266,"th"),u.Ic(267,"EMPLOYER PAG-IBIG"),u.Qb(),u.Rb(268,"th"),u.Ic(269,"PAYROLL COST"),u.Qb(),u.Rb(270,"th"),u.Ic(271,"YTD GROSS"),u.Qb(),u.Rb(272,"th"),u.Ic(273,"YTD WITHOLDING"),u.Qb(),u.Rb(274,"th"),u.Ic(275,"YTD SSS"),u.Qb(),u.Rb(276,"th"),u.Ic(277,"YTD MCR"),u.Qb(),u.Rb(278,"th"),u.Ic(279,"YTD PAG-IBIG"),u.Qb(),u.Rb(280,"th"),u.Ic(281,"YTD BON/13TH NT"),u.Qb(),u.Rb(282,"th"),u.Ic(283,"YTD BON/13TH TX"),u.Qb(),u.Rb(284,"th"),u.Ic(285,"PAYMENT TYPE"),u.Qb(),u.Rb(286,"th"),u.Ic(287,"BANK ACCT#"),u.Qb(),u.Rb(288,"th"),u.Ic(289,"BANK NAME"),u.Qb(),u.Rb(290,"th"),u.Ic(291,"DATE EMPLOYED"),u.Qb(),u.Rb(292,"th"),u.Ic(293,"DATE TERMINATED"),u.Qb(),u.Rb(294,"th"),u.Ic(295,"COST CENTER"),u.Qb(),u.Rb(296,"th"),u.Ic(297,"CURRENCY"),u.Qb(),u.Rb(298,"th"),u.Ic(299,"EXCHANGE RATE"),u.Qb(),u.Rb(300,"th"),u.Ic(301,"PAYMENT FREQ"),u.Qb(),u.Rb(302,"th"),u.Ic(303,"MTD GROSS"),u.Qb(),u.Rb(304,"th"),u.Ic(305,"MTD BASIC"),u.Qb(),u.Rb(306,"th"),u.Ic(307,"MTD SSS EMPLOYEE"),u.Qb(),u.Rb(308,"th"),u.Ic(309,"MTD MCR EMPLOYEE"),u.Qb(),u.Rb(310,"th"),u.Ic(311,"MTD PAG-IBIG EMPLOYEE"),u.Qb(),u.Rb(312,"th"),u.Ic(313,"MTD SSS EMPLOYER"),u.Qb(),u.Rb(314,"th"),u.Ic(315,"MTD MCR EMPLOYER"),u.Qb(),u.Rb(316,"th"),u.Ic(317,"MTD EC EMPLOYER"),u.Qb(),u.Rb(318,"th"),u.Ic(319,"MTD PAG-IBIG EMPLOYER"),u.Qb(),u.Rb(320,"th"),u.Ic(321,"MTD WH TAX"),u.Qb(),u.Rb(322,"th"),u.Ic(323,"MONTHLY BASIC"),u.Qb(),u.Rb(324,"th"),u.Ic(325,"MONTHLY ALLOW"),u.Qb(),u.Rb(326,"th"),u.Ic(327,"MTD NTX"),u.Qb(),u.Mb(328,"th"),u.Qb(),u.Qb(),u.Mb(329,"tbody"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(330,"div",31),u.Rb(331,"button",41),u.Ic(332,"Back"),u.Qb(),u.Rb(333,"button",42),u.Ic(334,"Continue"),u.Qb(),u.Qb(),u.Qb(),u.Rb(335,"aw-wizard-step",64),u.Mb(336,"hr"),u.Rb(337,"div",14),u.Rb(338,"div",35),u.Rb(339,"div",38),u.Rb(340,"table",65),u.Rb(341,"thead"),u.Rb(342,"tr"),u.Rb(343,"th"),u.Ic(344,"Paydate"),u.Qb(),u.Rb(345,"th"),u.Ic(346,"Paycode"),u.Qb(),u.Rb(347,"th"),u.Ic(348,"Employee ID"),u.Qb(),u.Rb(349,"th"),u.Ic(350,"Lastname"),u.Qb(),u.Rb(351,"th"),u.Ic(352,"Firstname"),u.Qb(),u.Rb(353,"th"),u.Ic(354,"Filestatus"),u.Qb(),u.Rb(355,"th"),u.Ic(356,"Taxstatus"),u.Qb(),u.Rb(357,"th"),u.Ic(358,"DAILY RATE"),u.Qb(),u.Rb(359,"th"),u.Ic(360,"MONTHLY RATE"),u.Qb(),u.Rb(361,"th"),u.Ic(362,"BASIC SALARY"),u.Qb(),u.Rb(363,"th"),u.Ic(364,"MISC AMOUNT"),u.Qb(),u.Rb(365,"th"),u.Ic(366,"LEAVEAMOUNT"),u.Qb(),u.Rb(367,"th"),u.Ic(368,"OVERTIME(REG)"),u.Qb(),u.Rb(369,"th"),u.Ic(370,"OVERTIME(HOL)"),u.Qb(),u.Rb(371,"th"),u.Ic(372,"OTHER TX INCOME"),u.Qb(),u.Rb(373,"th"),u.Ic(374,"ADJUSTMENTS"),u.Qb(),u.Rb(375,"th"),u.Ic(376,"GROSS INCOME"),u.Qb(),u.Rb(377,"th"),u.Ic(378,"WITHOLDING TAX"),u.Qb(),u.Rb(379,"th"),u.Ic(380,"NET SALARY AFTER TAX"),u.Qb(),u.Rb(381,"th"),u.Ic(382,"EMPLOYEE SSS"),u.Qb(),u.Rb(383,"th"),u.Ic(384,"EMPLOYEE MCR"),u.Qb(),u.Rb(385,"th"),u.Ic(386,"EMPLOYEE PAG-IBIG"),u.Qb(),u.Rb(387,"th"),u.Ic(388,"OTHER NTX INCOME"),u.Qb(),u.Rb(389,"th"),u.Ic(390,"LOAN PAYMENTS"),u.Qb(),u.Rb(391,"th"),u.Ic(392,"DEDUCTIONS"),u.Qb(),u.Rb(393,"th"),u.Ic(394,"NET SALARY"),u.Qb(),u.Rb(395,"th"),u.Ic(396,"EMPLOYER SSS"),u.Qb(),u.Rb(397,"th"),u.Ic(398,"EMPLOYER MCR"),u.Qb(),u.Rb(399,"th"),u.Ic(400,"EMPLOYER EC"),u.Qb(),u.Rb(401,"th"),u.Ic(402,"EMPLOYER PAG-IBIG"),u.Qb(),u.Rb(403,"th"),u.Ic(404,"PAYROLL COST"),u.Qb(),u.Rb(405,"th"),u.Ic(406,"YTD GROSS"),u.Qb(),u.Rb(407,"th"),u.Ic(408,"YTD WITHOLDING"),u.Qb(),u.Rb(409,"th"),u.Ic(410,"YTD SSS"),u.Qb(),u.Rb(411,"th"),u.Ic(412,"YTD MCR"),u.Qb(),u.Rb(413,"th"),u.Ic(414,"YTD PAG-IBIG"),u.Qb(),u.Rb(415,"th"),u.Ic(416,"YTD BON/13TH NT"),u.Qb(),u.Rb(417,"th"),u.Ic(418,"YTD BON/13TH TX"),u.Qb(),u.Rb(419,"th"),u.Ic(420,"PAYMENT TYPE"),u.Qb(),u.Rb(421,"th"),u.Ic(422,"BANK ACCT#"),u.Qb(),u.Rb(423,"th"),u.Ic(424,"BANK NAME"),u.Qb(),u.Rb(425,"th"),u.Ic(426,"DATE EMPLOYED"),u.Qb(),u.Rb(427,"th"),u.Ic(428,"DATE TERMINATED"),u.Qb(),u.Rb(429,"th"),u.Ic(430,"COST CENTER"),u.Qb(),u.Rb(431,"th"),u.Ic(432,"CURRENCY"),u.Qb(),u.Rb(433,"th"),u.Ic(434,"EXCHANGE RATE"),u.Qb(),u.Rb(435,"th"),u.Ic(436,"PAYMENT FREQ"),u.Qb(),u.Rb(437,"th"),u.Ic(438,"MTD GROSS"),u.Qb(),u.Rb(439,"th"),u.Ic(440,"MTD BASIC"),u.Qb(),u.Rb(441,"th"),u.Ic(442,"MTD SSS EMPLOYEE"),u.Qb(),u.Rb(443,"th"),u.Ic(444,"MTD MCR EMPLOYEE"),u.Qb(),u.Rb(445,"th"),u.Ic(446,"MTD PAG-IBIG EMPLOYEE"),u.Qb(),u.Rb(447,"th"),u.Ic(448,"MTD SSS EMPLOYER"),u.Qb(),u.Rb(449,"th"),u.Ic(450,"MTD MCR EMPLOYER"),u.Qb(),u.Rb(451,"th"),u.Ic(452,"MTD EC EMPLOYER"),u.Qb(),u.Rb(453,"th"),u.Ic(454,"MTD PAG-IBIG EMPLOYER"),u.Qb(),u.Rb(455,"th"),u.Ic(456,"MTD WH TAX"),u.Qb(),u.Rb(457,"th"),u.Ic(458,"MONTHLY BASIC"),u.Qb(),u.Rb(459,"th"),u.Ic(460,"MONTHLY ALLOW"),u.Qb(),u.Rb(461,"th"),u.Ic(462,"MTD NTX"),u.Qb(),u.Mb(463,"th"),u.Qb(),u.Qb(),u.Mb(464,"tbody"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(465,"div",31),u.Rb(466,"button",41),u.Ic(467,"Back"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=u.dc();u.yb(16),u.jc("awCompletedStep",e.complete),u.yb(2),u.jc("formGroup",e.headerForm),u.yb(6),u.jc("items",e.tkList),u.yb(1),u.jc("ngIf",e.errTimekeeping),u.yb(34),u.jc("ngIf",!e.isView),u.yb(1),u.jc("ngIf",e.isView),u.yb(1),u.jc("awCompletedStep",e.complete),u.yb(5),u.jc("ngIf",!e.isGenerate),u.yb(22),u.jc("ngForOf",e.adjHList),u.yb(6),u.jc("awCompletedStep",e.complete),u.yb(2),u.jc("formGroup",e.payrollForm),u.yb(36),u.jc("ngIf",e.isGenerate),u.yb(1),u.jc("ngIf",!e.isGenerate),u.yb(6),u.jc("items",e.category),u.yb(1),u.jc("ngIf",e.errCategory),u.yb(5),u.jc("items",e.branch),u.yb(1),u.jc("ngIf",e.errBranch),u.yb(5),u.jc("items",e.confidential),u.yb(1),u.jc("ngIf",e.errConfidential),u.yb(23),u.jc("ngForOf",e.payHList),u.yb(6),u.jc("awCompletedStep",e.complete),u.yb(7),u.jc("items",e.payList)("ngModel",e.selectedCode),u.yb(7),u.jc("ngIf",e.isPost),u.yb(1),u.jc("ngIf",!e.isPost),u.yb(4),u.jc("ngIf",e.errPosting),u.yb(1),u.jc("dtTrigger",e.dtTriggerPosting)("dtOptions",e.dtOptions.postingView),u.yb(134),u.jc("awCompletedStep",e.complete),u.yb(5),u.jc("dtTrigger",e.dtTriggerPosted)("dtOptions",e.dtOptions.postedView)}}function Ce(e,t){if(1&e){const e=u.Sb();u.Rb(0,"div",77),u.Rb(1,"h5",78),u.Ic(2,"Payroll Detail"),u.Qb(),u.Rb(3,"button",79),u.bc("click",function(){return t.$implicit.close("by: close icon")}),u.Rb(4,"span",80),u.Ic(5,"\xd7"),u.Qb(),u.Qb(),u.Qb(),u.Rb(6,"div",81),u.Rb(7,"div",14),u.Rb(8,"div",35),u.Rb(9,"div",38),u.Rb(10,"table",82),u.Rb(11,"thead"),u.Rb(12,"tr"),u.Rb(13,"th"),u.Ic(14,"Paydate"),u.Qb(),u.Rb(15,"th"),u.Ic(16,"Paycode"),u.Qb(),u.Rb(17,"th"),u.Ic(18,"Employee ID"),u.Qb(),u.Rb(19,"th"),u.Ic(20,"Lastname"),u.Qb(),u.Rb(21,"th"),u.Ic(22,"Firstname"),u.Qb(),u.Rb(23,"th"),u.Ic(24,"Filestatus"),u.Qb(),u.Rb(25,"th"),u.Ic(26,"Taxstatus"),u.Qb(),u.Rb(27,"th"),u.Ic(28,"DAILY RATE"),u.Qb(),u.Rb(29,"th"),u.Ic(30,"MONTHLY RATE"),u.Qb(),u.Rb(31,"th"),u.Ic(32,"BASIC SALARY"),u.Qb(),u.Rb(33,"th"),u.Ic(34,"MISC AMOUNT"),u.Qb(),u.Rb(35,"th"),u.Ic(36,"LEAVEAMOUNT"),u.Qb(),u.Rb(37,"th"),u.Ic(38,"OVERTIME(REG)"),u.Qb(),u.Rb(39,"th"),u.Ic(40,"OVERTIME(HOL)"),u.Qb(),u.Rb(41,"th"),u.Ic(42,"OTHER TX INCOME"),u.Qb(),u.Rb(43,"th"),u.Ic(44,"ADJUSTMENTS"),u.Qb(),u.Rb(45,"th"),u.Ic(46,"GROSS INCOME"),u.Qb(),u.Rb(47,"th"),u.Ic(48,"WITHOLDING TAX"),u.Qb(),u.Rb(49,"th"),u.Ic(50,"NET SALARY AFTER TAX"),u.Qb(),u.Rb(51,"th"),u.Ic(52,"EMPLOYEE SSS"),u.Qb(),u.Rb(53,"th"),u.Ic(54,"EMPLOYEE MCR"),u.Qb(),u.Rb(55,"th"),u.Ic(56,"EMPLOYEE PAG-IBIG"),u.Qb(),u.Rb(57,"th"),u.Ic(58,"OTHER NTX INCOME"),u.Qb(),u.Rb(59,"th"),u.Ic(60,"LOAN PAYMENTS"),u.Qb(),u.Rb(61,"th"),u.Ic(62,"DEDUCTIONS"),u.Qb(),u.Rb(63,"th"),u.Ic(64,"NET SALARY"),u.Qb(),u.Rb(65,"th"),u.Ic(66,"EMPLOYER SSS"),u.Qb(),u.Rb(67,"th"),u.Ic(68,"EMPLOYER MCR"),u.Qb(),u.Rb(69,"th"),u.Ic(70,"EMPLOYER EC"),u.Qb(),u.Rb(71,"th"),u.Ic(72,"EMPLOYER PAG-IBIG"),u.Qb(),u.Rb(73,"th"),u.Ic(74,"PAYROLL COST"),u.Qb(),u.Rb(75,"th"),u.Ic(76,"YTD GROSS"),u.Qb(),u.Rb(77,"th"),u.Ic(78,"YTD WITHOLDING"),u.Qb(),u.Rb(79,"th"),u.Ic(80,"YTD SSS"),u.Qb(),u.Rb(81,"th"),u.Ic(82,"YTD MCR"),u.Qb(),u.Rb(83,"th"),u.Ic(84,"YTD PAG-IBIG"),u.Qb(),u.Rb(85,"th"),u.Ic(86,"YTD BON/13TH NT"),u.Qb(),u.Rb(87,"th"),u.Ic(88,"YTD BON/13TH TX"),u.Qb(),u.Rb(89,"th"),u.Ic(90,"PAYMENT TYPE"),u.Qb(),u.Rb(91,"th"),u.Ic(92,"BANK ACCT#"),u.Qb(),u.Rb(93,"th"),u.Ic(94,"BANK NAME"),u.Qb(),u.Rb(95,"th"),u.Ic(96,"DATE EMPLOYED"),u.Qb(),u.Rb(97,"th"),u.Ic(98,"DATE TERMINATED"),u.Qb(),u.Rb(99,"th"),u.Ic(100,"COST CENTER"),u.Qb(),u.Rb(101,"th"),u.Ic(102,"CURRENCY"),u.Qb(),u.Rb(103,"th"),u.Ic(104,"EXCHANGE RATE"),u.Qb(),u.Rb(105,"th"),u.Ic(106,"PAYMENT FREQ"),u.Qb(),u.Rb(107,"th"),u.Ic(108,"MTD GROSS"),u.Qb(),u.Rb(109,"th"),u.Ic(110,"MTD BASIC"),u.Qb(),u.Rb(111,"th"),u.Ic(112,"MTD SSS EMPLOYEE"),u.Qb(),u.Rb(113,"th"),u.Ic(114,"MTD MCR EMPLOYEE"),u.Qb(),u.Rb(115,"th"),u.Ic(116,"MTD PAG-IBIG EMPLOYEE"),u.Qb(),u.Rb(117,"th"),u.Ic(118,"MTD SSS EMPLOYER"),u.Qb(),u.Rb(119,"th"),u.Ic(120,"MTD MCR EMPLOYER"),u.Qb(),u.Rb(121,"th"),u.Ic(122,"MTD EC EMPLOYER"),u.Qb(),u.Rb(123,"th"),u.Ic(124,"MTD PAG-IBIG EMPLOYER"),u.Qb(),u.Rb(125,"th"),u.Ic(126,"MTD WH TAX"),u.Qb(),u.Rb(127,"th"),u.Ic(128,"MONTHLY BASIC"),u.Qb(),u.Rb(129,"th"),u.Ic(130,"MONTHLY ALLOW"),u.Qb(),u.Rb(131,"th"),u.Ic(132,"MTD NTX"),u.Qb(),u.Mb(133,"th"),u.Qb(),u.Qb(),u.Mb(134,"tbody"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(135,"div",83),u.Rb(136,"button",84),u.bc("click",function(){return t.$implicit.close("by: close button")}),u.Ic(137,"Close"),u.Qb(),u.Rb(138,"button",85),u.bc("click",function(){return u.xc(e),u.dc().savePayroll()}),u.Ic(139,"Save changes"),u.Qb(),u.Qb()}if(2&e){const e=u.dc();u.yb(10),u.jc("dtOptions",e.dtOptions.modalView)}}function Pe(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Adjustment Type is needed!"),u.Qb())}function we(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Adjustment is needed!"),u.Qb())}function ke(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Amount is needed!"),u.Qb())}function Fe(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Tag Type is needed!"),u.Qb())}function Ne(e,t){1&e&&(u.Rb(0,"p",66),u.Ic(1,"Name is needed!"),u.Qb())}function xe(e,t){1&e&&(u.Rb(0,"button",73),u.Mb(1,"span",74),u.Ic(2," Loading... "),u.Qb())}function je(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",69),u.bc("click",function(){return u.xc(e),u.dc(2).search()}),u.Mb(1,"i",100),u.Ic(2," Add "),u.Qb()}}function Ge(e,t){if(1&e){const e=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.Qb(),u.Rb(5,"td"),u.Ic(6),u.Qb(),u.Rb(7,"td"),u.Ic(8),u.Qb(),u.Rb(9,"td"),u.Ic(10),u.Qb(),u.Rb(11,"td"),u.Rb(12,"button",101),u.bc("click",function(){u.xc(e);const a=t.index;return u.dc(2).deleteAdjustment(a)}),u.Mb(13,"i",102),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=t.$implicit;u.yb(2),u.Jc(e.employee_code),u.yb(2),u.Jc(e.display_name),u.yb(2),u.Jc(e.adjustment_type),u.yb(2),u.Jc(e.amount),u.yb(2),u.Jc(e.taxable)}}function $e(e,t){if(1&e){const e=u.Sb();u.Rb(0,"div",77),u.Rb(1,"h5",78),u.Ic(2,"Adjustment Detail"),u.Qb(),u.Rb(3,"button",79),u.bc("click",function(){return t.$implicit.close("by: close icon")}),u.Rb(4,"span",80),u.Ic(5,"\xd7"),u.Qb(),u.Qb(),u.Qb(),u.Rb(6,"div",81),u.Rb(7,"form",19),u.Rb(8,"div",14),u.Rb(9,"div",86),u.Rb(10,"div",21),u.Rb(11,"label",22),u.Ic(12,"Adjustment Type"),u.Qb(),u.Mb(13,"ng-select",87),u.Gc(14,Pe,2,0,"p",24),u.Qb(),u.Qb(),u.Rb(15,"div",88),u.Rb(16,"div",21),u.Rb(17,"label",22),u.Ic(18,"Adjustment"),u.Qb(),u.Mb(19,"input",89),u.Gc(20,we,2,0,"p",24),u.Qb(),u.Qb(),u.Rb(21,"div",86),u.Rb(22,"div",21),u.Rb(23,"label",22),u.Ic(24,"Amount"),u.Qb(),u.Mb(25,"input",90),u.Gc(26,ke,2,0,"p",24),u.Qb(),u.Qb(),u.Rb(27,"div",91),u.Rb(28,"div",21),u.Rb(29,"div",21),u.Rb(30,"label",22),u.Ic(31,"Taxable?"),u.Qb(),u.Rb(32,"div",92),u.Rb(33,"label",93),u.Mb(34,"input",94),u.Mb(35,"i",95),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(36,"div",14),u.Rb(37,"div",86),u.Rb(38,"div",21),u.Rb(39,"label",22),u.Ic(40,"Tag Type"),u.Qb(),u.Rb(41,"ng-select",96),u.bc("change",function(){return u.xc(e),u.dc().onChange()}),u.Qb(),u.Gc(42,Fe,2,0,"p",24),u.Qb(),u.Qb(),u.Rb(43,"div",88),u.Rb(44,"div",21),u.Rb(45,"label",22),u.Ic(46,"Name"),u.Qb(),u.Mb(47,"ng-select",97),u.Gc(48,Ne,2,0,"p",24),u.Qb(),u.Qb(),u.Rb(49,"div",20),u.Rb(50,"div",21),u.Rb(51,"label",22),u.Ic(52,"\xa0"),u.Qb(),u.Rb(53,"div",21),u.Rb(54,"div",14),u.Gc(55,xe,3,0,"button",54),u.Gc(56,je,3,0,"button",98),u.Ic(57," \xa0 "),u.Rb(58,"button",67),u.bc("click",function(){return u.xc(e),u.dc().submitAdjustment()}),u.Mb(59,"i",68),u.Ic(60," Save "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(61,"div",14),u.Rb(62,"div",35),u.Rb(63,"div",38),u.Rb(64,"table",99),u.Rb(65,"thead"),u.Rb(66,"tr"),u.Rb(67,"th"),u.Ic(68,"EMPLOYEE CODE"),u.Qb(),u.Rb(69,"th"),u.Ic(70,"EMPLOYEE"),u.Qb(),u.Rb(71,"th"),u.Ic(72,"TYPE"),u.Qb(),u.Rb(73,"th"),u.Ic(74,"AMOUNT"),u.Qb(),u.Rb(75,"th"),u.Ic(76,"TAXABLE"),u.Qb(),u.Rb(77,"th"),u.Ic(78,"ACTION"),u.Qb(),u.Qb(),u.Qb(),u.Rb(79,"tbody"),u.Gc(80,Ge,14,5,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=u.dc();u.yb(7),u.jc("formGroup",e.adjustmentForm),u.yb(6),u.jc("items",e.typeList),u.yb(1),u.jc("ngIf",e.errAdjustmentType),u.yb(6),u.jc("ngIf",e.errAdjustment),u.yb(6),u.jc("ngIf",e.errAmount),u.yb(15),u.jc("items",e.tagType),u.yb(1),u.jc("ngIf",e.errTagType),u.yb(5),u.jc("items",e.nameList),u.yb(1),u.jc("ngIf",e.errName),u.yb(7),u.jc("ngIf",e.isSearch),u.yb(1),u.jc("ngIf",!e.isSearch),u.yb(24),u.jc("ngForOf",e.adjList)}}function Ye(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.ec(5,"number"),u.Qb(),u.Qb()),2&e){const e=t.$implicit;u.yb(2),u.Jc(e.detail),u.yb(2),u.Jc(u.gc(5,2,e.amount,"1.2-2"))}}function Je(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.ec(5,"number"),u.Qb(),u.Qb()),2&e){const e=t.$implicit;u.yb(2),u.Jc(e.detail),u.yb(2),u.Jc(u.gc(5,2,e.amount,"1.2-2"))}}function Be(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.ec(5,"number"),u.Qb(),u.Rb(6,"td"),u.Ic(7),u.Qb(),u.Qb()),2&e){const e=t.$implicit;u.yb(2),u.Jc(e.detail),u.yb(2),u.Jc(u.gc(5,3,e.amount,"1.2-2")),u.yb(3),u.Jc(e.taxable)}}function He(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.ec(5,"number"),u.Qb(),u.Rb(6,"td"),u.Ic(7),u.Qb(),u.Qb()),2&e){const e=t.$implicit;u.yb(2),u.Jc(e.detail),u.yb(2),u.Jc(u.gc(5,3,e.amount,"1.2-2")),u.yb(3),u.Jc(e.taxable)}}function Ve(e,t){if(1&e&&(u.Rb(0,"tr"),u.Rb(1,"td"),u.Ic(2),u.Qb(),u.Rb(3,"td"),u.Ic(4),u.Qb(),u.Rb(5,"td"),u.Ic(6),u.ec(7,"date"),u.Qb(),u.Rb(8,"td"),u.Ic(9),u.Qb(),u.Rb(10,"td"),u.Ic(11),u.Qb(),u.Rb(12,"td"),u.Ic(13),u.Qb(),u.Rb(14,"td"),u.Ic(15),u.Qb(),u.Rb(16,"td"),u.Ic(17),u.Qb(),u.Rb(18,"td"),u.Ic(19),u.ec(20,"number"),u.Qb(),u.Rb(21,"td"),u.Ic(22),u.ec(23,"number"),u.Qb(),u.Rb(24,"td"),u.Ic(25),u.ec(26,"number"),u.Qb(),u.Rb(27,"td"),u.Ic(28),u.ec(29,"number"),u.Qb(),u.Rb(30,"td"),u.Ic(31),u.Qb(),u.Rb(32,"td"),u.Ic(33),u.ec(34,"number"),u.Qb(),u.Rb(35,"td"),u.Ic(36),u.ec(37,"number"),u.Qb(),u.Rb(38,"td"),u.Ic(39),u.ec(40,"number"),u.Qb(),u.Rb(41,"td"),u.Ic(42),u.ec(43,"number"),u.Qb(),u.Rb(44,"td"),u.Ic(45),u.ec(46,"number"),u.Qb(),u.Rb(47,"td"),u.Ic(48),u.ec(49,"number"),u.Qb(),u.Rb(50,"td"),u.Ic(51),u.ec(52,"number"),u.Qb(),u.Rb(53,"td"),u.Ic(54),u.ec(55,"number"),u.Qb(),u.Rb(56,"td"),u.Ic(57),u.ec(58,"number"),u.Qb(),u.Rb(59,"td"),u.Ic(60),u.ec(61,"number"),u.Qb(),u.Rb(62,"td"),u.Ic(63),u.ec(64,"number"),u.Qb(),u.Rb(65,"td"),u.Ic(66),u.ec(67,"number"),u.Qb(),u.Rb(68,"td"),u.Ic(69),u.ec(70,"number"),u.Qb(),u.Rb(71,"td"),u.Ic(72),u.ec(73,"number"),u.Qb(),u.Rb(74,"td"),u.Ic(75),u.ec(76,"number"),u.Qb(),u.Rb(77,"td"),u.Ic(78),u.ec(79,"number"),u.Qb(),u.Rb(80,"td"),u.Ic(81),u.ec(82,"number"),u.Qb(),u.Rb(83,"td"),u.Ic(84),u.ec(85,"number"),u.Qb(),u.Rb(86,"td"),u.Ic(87),u.ec(88,"number"),u.Qb(),u.Rb(89,"td"),u.Ic(90),u.ec(91,"number"),u.Qb(),u.Rb(92,"td"),u.Ic(93),u.ec(94,"number"),u.Qb(),u.Rb(95,"td"),u.Ic(96),u.ec(97,"number"),u.Qb(),u.Rb(98,"td"),u.Ic(99),u.ec(100,"number"),u.Qb(),u.Rb(101,"td"),u.Ic(102),u.ec(103,"number"),u.Qb(),u.Rb(104,"td"),u.Ic(105),u.ec(106,"number"),u.Qb(),u.Rb(107,"td"),u.Ic(108),u.ec(109,"number"),u.Qb(),u.Rb(110,"td"),u.Ic(111),u.ec(112,"number"),u.Qb(),u.Rb(113,"td"),u.Ic(114),u.ec(115,"number"),u.Qb(),u.Rb(116,"td"),u.Ic(117),u.ec(118,"number"),u.Qb(),u.Rb(119,"td"),u.Ic(120),u.ec(121,"number"),u.Qb(),u.Rb(122,"td"),u.Ic(123),u.ec(124,"number"),u.Qb(),u.Rb(125,"td"),u.Ic(126),u.ec(127,"number"),u.Qb(),u.Rb(128,"td"),u.Ic(129),u.ec(130,"number"),u.Qb(),u.Rb(131,"td"),u.Ic(132),u.ec(133,"number"),u.Qb(),u.Rb(134,"td"),u.Ic(135),u.ec(136,"number"),u.Qb(),u.Rb(137,"td"),u.Ic(138),u.Qb(),u.Qb()),2&e){const e=t.$implicit;u.yb(2),u.Jc(e.employee_code),u.yb(2),u.Jc(e.display_name),u.yb(2),u.Jc(u.gc(7,49,e.date,"MM/dd/yyyy")),u.yb(3),u.Jc(e.rest_day),u.yb(2),u.Jc(e.schedule_time_in),u.yb(2),u.Jc(e.schedule_time_out),u.yb(2),u.Jc(e.actual_time_in),u.yb(2),u.Jc(e.actual_time_out),u.yb(2),u.Jc(u.gc(20,52,e.reg,"1.2-2")),u.yb(3),u.Jc(u.gc(23,55,e.reg,"1.2-2")),u.yb(3),u.Jc(u.gc(26,58,e.late,"1.2-2")),u.yb(3),u.Jc(u.gc(29,61,e.undertime,"1.2-2")),u.yb(3),u.Jc(e.is_absent),u.yb(2),u.Jc(u.gc(34,64,e.lwop_hour,"1.2-2")),u.yb(3),u.Jc(u.gc(37,67,e.vl_hour,"1.2-2")),u.yb(3),u.Jc(u.gc(40,70,e.sl_hour,"1.2-2")),u.yb(3),u.Jc(u.gc(43,73,e.otherl_hour,"1.2-2")),u.yb(3),u.Jc(u.gc(46,76,e.regnd,"1.2-2")),u.yb(3),u.Jc(u.gc(49,79,e.ot,"1.2-2")),u.yb(3),u.Jc(u.gc(52,82,e.otnd,"1.2-2")),u.yb(3),u.Jc(u.gc(55,85,e.lhot,"1.2-2")),u.yb(3),u.Jc(u.gc(58,88,e.lhotnd,"1.2-2")),u.yb(3),u.Jc(u.gc(61,91,e.lhot_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(64,94,e.lhotnd_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(67,97,e.lhrdot,"1.2-2")),u.yb(3),u.Jc(u.gc(70,100,e.lhrdotnd,"1.2-2")),u.yb(3),u.Jc(u.gc(73,103,e.lhrdot_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(76,106,e.lhrdotnd_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(79,109,e.shot,"1.2-2")),u.yb(3),u.Jc(u.gc(82,112,e.shotnd,"1.2-2")),u.yb(3),u.Jc(u.gc(85,115,e.shot_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(88,118,e.shotnd_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(91,121,e.shrdot,"1.2-2")),u.yb(3),u.Jc(u.gc(94,124,e.shrdotnd,"1.2-2")),u.yb(3),u.Jc(u.gc(97,127,e.shrdot_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(100,130,e.shrdotnd_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(103,133,e.otrd,"1.2-2")),u.yb(3),u.Jc(u.gc(106,136,e.otrdnd,"1.2-2")),u.yb(3),u.Jc(u.gc(109,139,e.otrd_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(112,142,e.otrdnd_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(115,145,e.dhot,"1.2-2")),u.yb(3),u.Jc(u.gc(118,148,e.dhotnd,"1.2-2")),u.yb(3),u.Jc(u.gc(121,151,e.dhot_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(124,154,e.dhotnd_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(127,157,e.dhrdot,"1.2-2")),u.yb(3),u.Jc(u.gc(130,160,e.dhrdotnd,"1.2-2")),u.yb(3),u.Jc(u.gc(133,163,e.dhrdot_e8,"1.2-2")),u.yb(3),u.Jc(u.gc(136,166,e.dhrdotnd_e8,"1.2-2")),u.yb(3),u.Jc(e.remarks)}}function Ue(e,t){if(1&e&&(u.Rb(0,"div",77),u.Rb(1,"h5",78),u.Ic(2,"Payroll Detail"),u.Qb(),u.Rb(3,"button",79),u.bc("click",function(){return t.$implicit.close("by: close icon")}),u.Rb(4,"span",80),u.Ic(5,"\xd7"),u.Qb(),u.Qb(),u.Qb(),u.Rb(6,"div",81),u.Rb(7,"div",14),u.Rb(8,"div",103),u.Rb(9,"div",104),u.Rb(10,"span",105),u.Mb(11,"i",106),u.Qb(),u.Rb(12,"div",107),u.Rb(13,"span"),u.Ic(14),u.ec(15,"number"),u.Qb(),u.Ic(16," Basic Gross Pay "),u.Qb(),u.Qb(),u.Qb(),u.Rb(17,"div",103),u.Rb(18,"div",108),u.Rb(19,"span",105),u.Mb(20,"i",109),u.Qb(),u.Rb(21,"div",107),u.Rb(22,"span"),u.Ic(23),u.ec(24,"number"),u.Qb(),u.Ic(25," Total Addition "),u.Qb(),u.Qb(),u.Qb(),u.Rb(26,"div",103),u.Rb(27,"div",110),u.Rb(28,"span",105),u.Mb(29,"i",111),u.Qb(),u.Rb(30,"div",107),u.Rb(31,"span"),u.Ic(32),u.ec(33,"number"),u.Qb(),u.Ic(34," Total Deduction "),u.Qb(),u.Qb(),u.Qb(),u.Rb(35,"div",103),u.Rb(36,"div",112),u.Rb(37,"span",105),u.Mb(38,"i",113),u.Qb(),u.Rb(39,"div",107),u.Rb(40,"span"),u.Ic(41),u.ec(42,"number"),u.Qb(),u.Ic(43," Net Pay "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(44,"hr"),u.Rb(45,"div",16),u.Rb(46,"div",114),u.Rb(47,"h5"),u.Ic(48,"Employee Information"),u.Qb(),u.Qb(),u.Rb(49,"div",17),u.Rb(50,"form",19),u.Rb(51,"div",14),u.Rb(52,"div",115),u.Rb(53,"div",14),u.Rb(54,"label",116),u.Ic(55,"Company"),u.Qb(),u.Rb(56,"div",117),u.Mb(57,"input",118),u.Qb(),u.Qb(),u.Qb(),u.Rb(58,"div",115),u.Rb(59,"div",14),u.Rb(60,"label",116),u.Ic(61,"Pay Period"),u.Qb(),u.Rb(62,"div",117),u.Mb(63,"input",119),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(64,"div",14),u.Rb(65,"div",115),u.Rb(66,"div",14),u.Rb(67,"label",116),u.Ic(68,"Employee"),u.Qb(),u.Rb(69,"div",117),u.Mb(70,"input",120),u.Qb(),u.Qb(),u.Qb(),u.Rb(71,"div",115),u.Rb(72,"div",14),u.Rb(73,"label",116),u.Ic(74,"Cutoff Date"),u.Qb(),u.Rb(75,"div",117),u.Mb(76,"input",121),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(77,"div",14),u.Rb(78,"div",115),u.Rb(79,"div",14),u.Rb(80,"label",116),u.Ic(81,"Department"),u.Qb(),u.Rb(82,"div",117),u.Mb(83,"input",122),u.Qb(),u.Qb(),u.Qb(),u.Rb(84,"div",115),u.Rb(85,"div",14),u.Rb(86,"label",116),u.Ic(87,"Paydate"),u.Qb(),u.Rb(88,"div",117),u.Mb(89,"input",123),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(90,"div",14),u.Rb(91,"div",115),u.Rb(92,"div",14),u.Rb(93,"label",116),u.Ic(94,"Position"),u.Qb(),u.Rb(95,"div",117),u.Mb(96,"input",124),u.Qb(),u.Qb(),u.Qb(),u.Rb(97,"div",115),u.Rb(98,"div",14),u.Rb(99,"label",116),u.Ic(100,"Bank Account"),u.Qb(),u.Rb(101,"div",117),u.Mb(102,"input",125),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(103,"div",14),u.Rb(104,"div",115),u.Rb(105,"div",14),u.Rb(106,"label",116),u.Ic(107,"Payroll Type"),u.Qb(),u.Rb(108,"div",117),u.Mb(109,"input",126),u.Qb(),u.Qb(),u.Qb(),u.Rb(110,"div",115),u.Rb(111,"div",14),u.Rb(112,"label",116),u.Ic(113,"Salary Rate"),u.Qb(),u.Rb(114,"div",117),u.Mb(115,"input",127),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(116,"div",16),u.Rb(117,"div",114),u.Rb(118,"h5"),u.Ic(119,"Payroll Information"),u.Qb(),u.Qb(),u.Rb(120,"div",17),u.Rb(121,"div",14),u.Rb(122,"div",115),u.Rb(123,"div",38),u.Rb(124,"table",128),u.Rb(125,"thead"),u.Rb(126,"tr"),u.Rb(127,"th",129),u.Ic(128,"SUMMARY"),u.Qb(),u.Qb(),u.Rb(129,"tr"),u.Rb(130,"th"),u.Ic(131,"TYPE"),u.Qb(),u.Rb(132,"th"),u.Ic(133,"AMOUNT"),u.Qb(),u.Qb(),u.Qb(),u.Rb(134,"tbody"),u.Gc(135,Ye,6,5,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(136,"div",115),u.Rb(137,"div",38),u.Rb(138,"table",128),u.Rb(139,"thead"),u.Rb(140,"tr"),u.Rb(141,"th",130),u.Ic(142,"OVERTIME"),u.Qb(),u.Qb(),u.Rb(143,"tr"),u.Rb(144,"th"),u.Ic(145,"NAME"),u.Qb(),u.Rb(146,"th"),u.Ic(147,"AMOUNT"),u.Qb(),u.Qb(),u.Qb(),u.Rb(148,"tbody"),u.Gc(149,Je,6,5,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Mb(150,"br"),u.Rb(151,"div",14),u.Rb(152,"div",115),u.Rb(153,"div",38),u.Rb(154,"table",128),u.Rb(155,"thead"),u.Rb(156,"tr"),u.Rb(157,"th",130),u.Ic(158,"ADDITION"),u.Qb(),u.Qb(),u.Rb(159,"tr"),u.Rb(160,"th"),u.Ic(161,"NAME"),u.Qb(),u.Rb(162,"th"),u.Ic(163,"AMOUNT"),u.Qb(),u.Rb(164,"th"),u.Ic(165,"TAXABLE"),u.Qb(),u.Qb(),u.Qb(),u.Rb(166,"tbody"),u.Gc(167,Be,8,6,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(168,"div",115),u.Rb(169,"div",38),u.Rb(170,"table",128),u.Rb(171,"thead"),u.Rb(172,"tr"),u.Rb(173,"th",131),u.Ic(174,"DEDUCTION"),u.Qb(),u.Qb(),u.Rb(175,"tr"),u.Rb(176,"th"),u.Ic(177,"NAME"),u.Qb(),u.Rb(178,"th"),u.Ic(179,"AMOUNT"),u.Qb(),u.Rb(180,"th"),u.Ic(181,"TAXABLE"),u.Qb(),u.Qb(),u.Qb(),u.Rb(182,"tbody"),u.Gc(183,He,8,6,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(184,"div",16),u.Rb(185,"div",114),u.Rb(186,"h5"),u.Ic(187,"Timekeeping Information"),u.Qb(),u.Qb(),u.Rb(188,"div",17),u.Rb(189,"div",14),u.Rb(190,"div",35),u.Rb(191,"div",38),u.Rb(192,"table",132),u.Rb(193,"thead"),u.Rb(194,"tr"),u.Rb(195,"th"),u.Ic(196,"EMPLOYEE CODE"),u.Qb(),u.Rb(197,"th"),u.Ic(198,"EMPLOYEE"),u.Qb(),u.Rb(199,"th"),u.Ic(200,"DATE"),u.Qb(),u.Rb(201,"th"),u.Ic(202,"RESTDAY"),u.Qb(),u.Rb(203,"th"),u.Ic(204,"SCHEDULE IN"),u.Qb(),u.Rb(205,"th"),u.Ic(206,"SCHEDULE OUT"),u.Qb(),u.Rb(207,"th"),u.Ic(208,"TIME IN"),u.Qb(),u.Rb(209,"th"),u.Ic(210,"TIME OUT"),u.Qb(),u.Rb(211,"th"),u.Ic(212,"REG DAYS WRK"),u.Qb(),u.Rb(213,"th"),u.Ic(214,"REG HOURS"),u.Qb(),u.Rb(215,"th"),u.Ic(216,"TARDY HRS"),u.Qb(),u.Rb(217,"th"),u.Ic(218,"UNDERTIME HRS"),u.Qb(),u.Rb(219,"th"),u.Ic(220,"ABSENT DAYS"),u.Qb(),u.Rb(221,"th"),u.Ic(222,"LWOP DAYS"),u.Qb(),u.Rb(223,"th"),u.Ic(224,"VL DAYS"),u.Qb(),u.Rb(225,"th"),u.Ic(226,"SL DAYS"),u.Qb(),u.Rb(227,"th"),u.Ic(228,"OTHER LV DAYS"),u.Qb(),u.Rb(229,"th"),u.Ic(230,"NITE-DIFF 10%"),u.Qb(),u.Rb(231,"th"),u.Ic(232,"REGULAR-OT"),u.Qb(),u.Rb(233,"th"),u.Ic(234,"REG-OT (NP HRS 10%)"),u.Qb(),u.Rb(235,"th"),u.Ic(236,"LEGAL HOL OT"),u.Qb(),u.Rb(237,"th"),u.Ic(238,"LEGAL HOL OT (NP HRS 10%)"),u.Qb(),u.Rb(239,"th"),u.Ic(240,"LEGAL HOL OT > 8HRS"),u.Qb(),u.Rb(241,"th"),u.Ic(242,"LEGAL HOL OT >8 (NP HRS 10%)"),u.Qb(),u.Rb(243,"th"),u.Ic(244,"LEGAL HOL RD"),u.Qb(),u.Rb(245,"th"),u.Ic(246,"LEGAL HOL RD (NP HRS 10%)"),u.Qb(),u.Rb(247,"th"),u.Ic(248,"LEGAL HOL RD >8HRS"),u.Qb(),u.Rb(249,"th"),u.Ic(250,"LEGAL HOL RD >8 (NP HRS 10%)"),u.Qb(),u.Rb(251,"th"),u.Ic(252,"SPECL HOL OT"),u.Qb(),u.Rb(253,"th"),u.Ic(254,"SPECL HOL OT (NP HRS 10%)"),u.Qb(),u.Rb(255,"th"),u.Ic(256,"SPECL HOLIDAY OT >8"),u.Qb(),u.Rb(257,"th"),u.Ic(258,"SPECL HOL OT >8 (NP HRS 10%)"),u.Qb(),u.Rb(259,"th"),u.Ic(260,"SPECIAL HOLIDAY RD"),u.Qb(),u.Rb(261,"th"),u.Ic(262,"SPECIAL HOL RD (NP HRS 10%)"),u.Qb(),u.Rb(263,"th"),u.Ic(264,"SPECL HOLIDAY ON RD > 8HRS"),u.Qb(),u.Rb(265,"th"),u.Ic(266,"SPECL HOL RD > 8 (NP HRS 10%)"),u.Qb(),u.Rb(267,"th"),u.Ic(268,"REST DAY OT"),u.Qb(),u.Rb(269,"th"),u.Ic(270,"REST DAY OT (NP HRS 10%)"),u.Qb(),u.Rb(271,"th"),u.Ic(272,"REST DAY OT > 8HRS"),u.Qb(),u.Rb(273,"th"),u.Ic(274,"REST DAY OT > 8 (NP HRS 10%)"),u.Qb(),u.Rb(275,"th"),u.Ic(276,"DOUBLE HOLIDAY OT"),u.Qb(),u.Rb(277,"th"),u.Ic(278,"DOUBLE HOLIDAY OT (NP HRS 10%)"),u.Qb(),u.Rb(279,"th"),u.Ic(280,"DOUBLE HOLIDAY OT > 8HRS"),u.Qb(),u.Rb(281,"th"),u.Ic(282,"DOUBLE HOLIDAY OT > 8 (NP HRS 10%)"),u.Qb(),u.Rb(283,"th"),u.Ic(284,"DOUBLE HOLIDAY RD"),u.Qb(),u.Rb(285,"th"),u.Ic(286,"DOUBLE HOL RD (NP HRS 10%)"),u.Qb(),u.Rb(287,"th"),u.Ic(288,"DOUBLE HOL ON RD > 8HRS"),u.Qb(),u.Rb(289,"th"),u.Ic(290,"DOUBLE HOL RD > 8 (NP HRS 10%)"),u.Qb(),u.Rb(291,"th"),u.Ic(292,"REMARKS"),u.Qb(),u.Qb(),u.Qb(),u.Rb(293,"tbody"),u.Gc(294,Ve,139,169,"tr",40),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e){const e=u.dc();u.yb(14),u.Kc("\u20b1 ",u.gc(15,10,e.hGross,"1.2-2"),""),u.yb(9),u.Kc("\u20b1 ",u.gc(24,13,e.hAddition,"1.2-2"),""),u.yb(9),u.Kc("\u20b1 ",u.gc(33,16,e.hDeduction,"1.2-2"),""),u.yb(9),u.Kc("\u20b1 ",u.gc(42,19,e.hNetpay,"1.2-2"),""),u.yb(9),u.jc("formGroup",e.detailForm),u.yb(85),u.jc("ngForOf",e.summary),u.yb(14),u.jc("ngForOf",e.overtime),u.yb(18),u.jc("ngForOf",e.addition),u.yb(16),u.jc("ngForOf",e.deduction),u.yb(111),u.jc("ngForOf",e.tkView)}}const Xe=[{path:"",component:r.a,children:[{path:"loans-view",component:I},{path:"loans-detail",redirectTo:"loans-detail/",pathMatch:"full"},{path:"loans-detail/:id",component:Y},{path:"government-contribution",component:ae},{path:"payroll-generation-view",component:de},{path:"payroll-generation-detail",redirectTo:"payroll-generation-detail/",pathMatch:"full"},{path:"payroll-generation-detail/:id",component:(()=>{class e{constructor(e,t,a,r,b,i,o,d,c,l,s,m){this.fb=e,this.modalService=t,this.timekeepingManagementService=a,this.tenantMasterService=r,this.employeeCategory=b,this.branchManagement=i,this.payrollManagementService=o,this.route=d,this.accountManagementService=c,this.tenantDefaultService=l,this.userManagementService=s,this.renderer=m,this.isLoading=!0,this.isView=!1,this.complete=!0,this.isGenerate=!1,this.errTimekeeping=!1,this.errPosting=!1,this.isSearch=!1,this.isPost=!1,this.defaultNavActiveId=1,this.tkList=[],this.category=[],this.branch=[],this.confidential=[],this.adjList=[],this.adjHList=[],this.payHList=[],this.tagType=[],this.branchlist=[],this.company=[],this.department=[],this.employee=[],this.nameList=[],this.typeList=[],this.genList=[],this.postedList=[],this.summary=[],this.overtime=[],this.addition=[],this.deduction=[],this.tkView=[],this.payList=[],this.pipe=new n.e("en-US"),this.dtOptions=[],this.dtTriggerPosting=new h.a,this.dtTriggerPosted=new h.a}ngOnInit(){this.listenerFn=this.renderButton(),this.id=this.route.snapshot.paramMap.get("id"),this.payrollForm=this.fb.group({timekeepingID:null,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:null,branch:null,confidential:null}),this.headerForm=this.fb.group({timekeepingID:null,payrollType:"",dateFrom:"",dateTo:"",category:"",branch:"",confidential:""}),this.adjustmentForm=this.fb.group({adjustmentType:null,adjustment:"",amount:0,taxable:!1,selectedTagType:null,selectedEmployee:null}),this.detailForm=this.fb.group({company:"",payPeriod:"",employee:"",cutoffDate:"",department:"",paydate:"",position:"",bankAccount:"",payrollType:"",salaryRate:""}),this.resetError(!1),this.dtOptions.postingView={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,order:[0,"desc"]},setTimeout(()=>{this.dtTriggerPosting.next()},100),this.tenantMasterService.dropdownList("50").subscribe(e=>{this.tagType=e.filter(e=>50===e.type_id),this.tenantMasterService.dropdownList("42, 26,").subscribe(e=>{this.confidential=Object(ce.merge)([{id:0,description:"All"}],e.filter(e=>42===e.type_id)),this.typeList=e.filter(e=>26===e.type_id),""!==this.id?(this.isView=!0,this.payrollManagementService.headerView(this.id).subscribe(e=>{this.tkList=e,this.headerForm.setValue({timekeepingID:e[0].timekeeping_header_id,payrollType:e[0].payroll_type,dateFrom:this.pipe.transform(e[0].date_from,"MM/dd/yyyy"),dateTo:this.pipe.transform(e[0].date_to,"MM/dd/yyyy"),category:e[0].category_name,branch:e[0].branch,confidential:e[0].confidentiality}),this.payrollForm.setValue({timekeepingID:e[0].timekeeping_header_id,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:e[0].category_id,branch:e[0].branch_id,confidential:e[0].confidentiality_id}),this.loadCustomDropdown(e),this.loadAdjustment(),this.loadPayroll(0),this.loadPayrollList(0),this.loadPostedPayroll(),this.isLoading=!1},e=>{console.log(e.error)})):(this.id="0",this.isView=!1,this.isLoading=!1,this.timekeepingManagementService.payrollTKView("0").subscribe(e=>{this.tkList=e},e=>{console.log(e.error)}))},e=>{console.log(e.error)})},e=>{console.log(e.error)})}ngOnDestroy(){this.listenerFn&&this.listenerFn()}renderButton(){return this.renderer.listen("document","click",e=>{if(e.target.classList.contains("viewPayroll"))switch(this.viewType){case"Generation":this.viewTempDetail(e.target.id);break;case"Generated":this.viewDetail(e.target.id)}e.target.classList.contains("viewPostedPayroll")&&this.viewPostedDetail(e.target.id),e.target.classList.contains("selectPayroll")&&(this.genList[e.target.value].is_checked=e.target.checked)})}loadCustomDropdown(e){0!==e[0].branch_id?this.branch=[{branch_id:e[0].branch_id,branch_name:e[0].branch}]:this.branchManagement.branchList().subscribe(e=>{this.branch=Object(ce.merge)([{branch_id:0,branch_name:"All"}],e)},e=>{console.log(e.error)}),0!==e[0].category_id?this.category=[{category_id:e[0].category_id,category_name:e[0].category_name}]:this.employeeCategory.categoryList(0).subscribe(e=>{this.category=Object(ce.merge)([{category_id:0,category_name:"All"}],e)},e=>{console.log(e.error)}),0!==e[0].confidentiality_id&&(this.confidential=[{id:e[0].confidentiality_id,description:e[0].confidentiality}])}reloadheader(){this.payrollManagementService.headerView(this.id).subscribe(e=>{this.tkList=e,this.headerForm.setValue({timekeepingID:e[0].timekeeping_header_id,payrollType:e[0].payroll_type,dateFrom:this.pipe.transform(e[0].date_from,"MM/dd/yyyy"),dateTo:this.pipe.transform(e[0].date_to,"MM/dd/yyyy"),category:e[0].category_name,branch:e[0].branch,confidential:e[0].confidentiality}),this.payrollForm.setValue({timekeepingID:e[0].timekeeping_header_id,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:e[0].category_id,branch:e[0].branch_id,confidential:e[0].confidentiality_id}),this.loadCustomDropdown(e)},e=>{console.log(e.error)})}selectTK(e){this.headerForm.setValue({timekeepingID:e.timekeeping_header_id,payrollType:e.payroll_type,dateFrom:this.pipe.transform(e.date_from,"MM/dd/yyyy"),dateTo:this.pipe.transform(e.date_to,"MM/dd/yyyy"),category:e.category,branch:e.branch,confidential:e.confidentiality}),this.payrollForm=this.fb.group({timekeepingID:e.timekeeping_header_id,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:e.category_id,branch:e.branch_id,confidential:e.confidentiality_id})}submitHeader(){let e=!0;this.errTimekeeping=!1,""!==this.headerForm.get("timekeepingID").value&&null!==this.headerForm.get("timekeepingID").value||(e=!1,this.errTimekeeping=!0),e&&T.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&T.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{T.a.showLoading();var e={payroll_header_code:this.id,timekeeping_header_id:this.headerForm.value.timekeepingID,approval_level_id:sessionStorage.getItem("apl"),created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")};this.payrollManagementService.headerIU(e).subscribe(e=>{0===e.payroll_header_id?T.a.fire("Failed!","Transaction failed!","error"):(this.id=e.encrypted_payroll_header_id,this.isView=!0,this.reloadheader(),T.a.fire("Ok!","Transaction successful!","success"))},e=>{console.log(e.error),T.a.fire("Failed!","Transaction failed!","error")})}})})}onChange(){switch(this.nameList=[],this.adjustmentForm.get("selectedTagType").value){case 102:this.branchlist.length>0?this.nameList=this.branchlist:this.branchManagement.branchList().subscribe(e=>{for(var t=0;t<e.length;t++)this.branchlist.push({id:e[t].encrypted_branch_id,description:e[t].branch_name});this.nameList=this.branchlist},e=>{console.log(e.error)});break;case 103:this.company.length>0?this.nameList=this.company:this.accountManagementService.companyView().subscribe(e=>{for(var t=0;t<e.length;t++)this.company.push({id:e[t].companyID,description:e[t].companyName});this.nameList=this.company},e=>{console.log(e.error)});break;case 90:this.department.length>0?this.nameList=this.department:this.tenantDefaultService.dropdownTList("38").subscribe(e=>{for(var t=0;t<e.length;t++)this.department.push({id:e[t].encrypted_id,description:e[t].description});this.nameList=this.department},e=>{console.log(e.error)});break;case 89:this.employee.length>0?this.nameList=this.employee:this.userManagementService.employeeList().subscribe(e=>{for(var t=0;t<e.length;t++)this.employee.push({id:e[t].encrypt_employee_id,description:e[t].display_name});this.nameList=this.employee},e=>{console.log(e.error)})}}resetError(e){this.errAdjustmentType=e,this.errAdjustment=e,this.errTagType=e,this.errName=e,this.errAmount=e,this.errCategory=e,this.errBranch=e,this.errConfidential=e}validation(){this.resetError(!1);let e=!0;return""!==this.adjustmentForm.get("adjustmentType").value&&null!==this.adjustmentForm.get("adjustmentType").value||(e=!1,this.errAdjustmentType=!0),""!==this.adjustmentForm.get("adjustment").value&&null!==this.adjustmentForm.get("adjustment").value||(e=!1,this.errAdjustment=!0),""!==this.adjustmentForm.get("selectedTagType").value&&null!==this.adjustmentForm.get("selectedTagType").value||(e=!1,this.errTagType=!0),""!==this.adjustmentForm.get("selectedEmployee").value&&null!==this.adjustmentForm.get("selectedEmployee").value||(e=!1,this.errName=!0),""!==this.adjustmentForm.get("amount").value&&null!==this.adjustmentForm.get("amount").value||(e=!1,this.errAmount=!0),e}search(){this.validation()&&(this.isSearch=!0,this.userManagementService.employeeAdjustment(this.id,this.adjustmentForm.value.adjustmentType,this.adjustmentForm.value.adjustment,this.adjustmentForm.value.amount,this.adjustmentForm.value.taxable,this.adjustmentForm.value.selectedTagType,this.adjustmentForm.value.selectedEmployee).subscribe(e=>{this.adjList=e,console.log(this.adjList),this.isSearch=!1},e=>{console.log(e.error)}))}deleteAdjustment(e){this.adjList.splice(e,1)}submitAdjustment(){let e=!0;""!==this.headerForm.get("timekeepingID").value&&null!==this.headerForm.get("timekeepingID").value||(e=!1,this.errTimekeeping=!0),e&&T.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&T.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{T.a.showLoading();var e=this.adjList.map(e=>({payroll_adjustment_id:"0",payroll_header_id:this.id,employee_id:e.employee_id,adjustment_type_id:e.adjustment_type_id,adjustment_name:e.adjustment_name,amount:e.amount,taxable:e.taxable_id,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")}));this.payrollManagementService.adjustmentIU(e).subscribe(e=>{0===e?T.a.fire("Failed!","Transaction failed!","error"):(T.a.fire("Ok!","Transaction successful!","success"),this.loadAdjustment())},e=>{console.log(e.error),T.a.fire("Failed!","Transaction failed!","error")})}})})}loadAdjustment(){this.payrollManagementService.adjustmentView(this.id).subscribe(e=>{this.adjHList=e},e=>{console.log(e.error)})}checkTrans(e,t){var a=[{payroll_adjustment_id:this.adjHList[e].encrypted_payroll_adjustment_id,payroll_header_id:this.id,employee_id:this.adjHList[e].employee_id,adjustment_type_id:this.adjHList[e].adjustment_type_id,adjustment_name:this.adjHList[e].adjustment_name,amount:this.adjHList[e].amount,taxable:this.adjHList[e].taxable_id,created_by:sessionStorage.getItem("u"),active:t.currentTarget.checked,series_code:sessionStorage.getItem("sc")}];this.payrollManagementService.adjustmentIU(a).subscribe(e=>{},e=>{console.log(e.error)})}addAdjustment(){this.modalService.open(this.adjustmentModal,{size:"xl"})}validateGeneration(){let e=!0;return this.resetError(!1),""!==this.payrollForm.get("category").value&&null!==this.payrollForm.get("category").value||(e=!1,this.errCategory=!0),""!==this.payrollForm.get("branch").value&&null!==this.payrollForm.get("branch").value||(e=!1,this.errBranch=!0),""!==this.payrollForm.get("confidential").value&&null!==this.payrollForm.get("confidential").value||(e=!1,this.errConfidential=!0),e}generate(){this.validateGeneration()&&(this.isGenerate=!0,this.payrollManagementService.payrollGeneration(this.id,this.payrollForm.value.category,this.payrollForm.value.branch,this.payrollForm.value.confidential,this.payrollForm.value.includeTax,this.payrollForm.value.includeSSS,this.payrollForm.value.includePagibig,this.payrollForm.value.includePhilhealth).subscribe(e=>{this.isGenerate=!1,this.genList=e,this.modalService.open(this.generatedModal,{size:"xl"}),this.generationModal(e,"Generation")},e=>{console.log(e.error)}))}generationModal(e,t){this.viewType=t,this.dtOptions.modalView={data:e,dom:"Bfrtip",columns:[{data:"pay_date",render:function(e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"payroll_code"},{data:"employee_code"},{data:"last_name"},{data:"first_name"},{data:"file_status"},{data:"tax_status"},{data:"daily_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"basic_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"misc_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"leave_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime_holiday",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_tax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"adjustments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"gross_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"witholding_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary_after_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_ntax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"loan_payments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"deductions",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_ec",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payroll_cost",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_witholding",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_type"},{data:"bank_account"},{data:"bank_name"},{data:"date_employed",render:function(e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"date_terminated",render:function(e){if(""!==e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}return""}},{data:"cost_center"},{data:"currency"},{data:"exchange_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_freq"},{data:"mtd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ec_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_wh_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_allow",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_id",render:function(e,t,a,n){return'<button type="button" id="'+e+'" class="btn btn-sm btn-primary btn-icon viewPayroll"><i class="feather icon-search viewPayroll" id="'+e+'" ></i></button>'}}]}}viewTempDetail(e){const t=this.genList.filter(t=>t.employee_id==e);this.hGross=t[0].gross_income,this.hAddition=t[0].total_addition,this.hDeduction=t[0].total_deduction,this.hNetpay=t[0].net_salary,this.detailForm.setValue({company:t[0].company_name,payPeriod:t[0].pay_period,employee:t[0].display_name,cutoffDate:t[0].cutoff_date,department:t[0].department,paydate:t[0].pay_date,position:t[0].position,bankAccount:t[0].bank_name,payrollType:t[0].payroll_type,salaryRate:t[0].salary_rate}),this.payrollManagementService.tempDetailView(this.id,e).subscribe(t=>{this.summary=t.filter(e=>1===e.detail_group_id),this.overtime=t.filter(e=>2===e.detail_group_id),this.addition=t.filter(e=>3===e.detail_group_id),this.deduction=t.filter(e=>4===e.detail_group_id),this.payrollManagementService.tempTimekeepingView(this.id,e).subscribe(e=>{this.tkView=e,this.modalService.open(this.viewModal,{size:"xl"})},e=>{console.log(e.error)})},e=>{console.log(e.error)})}savePayroll(){T.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&T.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{T.a.showLoading();var e={payroll_code:this.payrollForm.value.payrollCode,payroll_header_id:this.id,category_id:this.payrollForm.value.category,branch_id:this.payrollForm.value.branch,confidential_id:this.payrollForm.value.confidential,include_tax:this.payrollForm.value.includeTax,include_sss:this.payrollForm.value.includeSSS,include_pagibig:this.payrollForm.value.includePagibig,include_philhealth:this.payrollForm.value.includePhilhealth,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),approval_level_id:sessionStorage.getItem("apl")};this.payrollManagementService.payrollI(e).subscribe(e=>{0===e?T.a.fire("Failed!","Transaction failed!","error"):(T.a.fire("Ok!","Transaction successful!","success"),this.loadPayroll(0),this.loadPayrollList(0))},e=>{console.log(e.error),T.a.fire("Failed!","Transaction failed!","error")})}})})}loadPayroll(e){this.payrollManagementService.payrollView(this.id,e).subscribe(e=>{this.payHList=e},e=>{console.log(e.error)})}loadPayrollList(e){this.payrollManagementService.payrollList(this.id,e).subscribe(e=>{this.payList=e},e=>{console.log(e.error)})}loadList(){this.isPost=!0,this.payrollManagementService.payrollDetailView(this.id,this.selectedCode,"0").subscribe(e=>{this.viewType="Generated",this.genList=e,console.log(this.genList),console.log(e),this.loadPostPayroll(this.genList)},e=>{console.log(e.error)})}checkAll(e){this.genList.map(t=>t.is_checked=e.target.checked),this.loadPostPayroll(this.genList)}loadPostPayroll(e){$("#postingTable").DataTable().clear(),$("#postingTable").DataTable().destroy(),this.dtOptions.postingView={data:e,dom:"Bfrtip",destroy:!0,columns:[{data:"is_posted",className:"text-center",render:function(e,t,a,n){return!1===e?'<div class="custom-control custom-switch"><input type="checkbox" '+(!0===a.is_checked?"checked":"")+' value="'+n.row+'" class="custom-control-input selectPayroll"id="'+a.payslip_id+'"><label class="custom-control-label" for="'+a.payslip_id+'"></label></div>':'<span class="badge badge-success">Posted</span>'}},{data:"pay_date",render:function(e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"payroll_code"},{data:"employee_code"},{data:"last_name"},{data:"first_name"},{data:"file_status"},{data:"tax_status"},{data:"daily_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"basic_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"misc_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"leave_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime_holiday",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_tax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"adjustments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"gross_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"witholding_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary_after_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_ec",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_ntax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"loan_payments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"deductions",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payroll_cost",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_witholding",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_type"},{data:"bank_account"},{data:"bank_name"},{data:"date_employed",render:function(e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"date_terminated",render:function(e){if(""!==e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}return""}},{data:"cost_center"},{data:"currency"},{data:"exchange_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_freq"},{data:"mtd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ec_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_wh_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_allow",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_id",render:function(e,t,a,n){return'<button type="button" id="'+e+'" class="btn btn-sm btn-primary btn-icon viewPayroll"><i class="feather icon-search viewPayroll" id="'+e+'" ></i></button>'}}]},this.isPost=!1,setTimeout(()=>{this.dtTriggerPosting.next(),this.dtTriggerPosted.next()},100)}rerender(){this.dtElements.forEach(e=>{e.dtInstance&&e.dtInstance.then(e=>{e.destroy()})})}view(e){this.payrollManagementService.payrollDetailView(this.id,e,"0").subscribe(e=>{this.genList=e,this.generationModal(e,"Generated"),this.modalService.open(this.generatedModal,{size:"xl"})},e=>{console.log(e.error)})}viewDetail(e){const t=this.genList.filter(t=>t.employee_id==e);this.hGross=t[0].gross_income,this.hAddition=t[0].total_addition,this.hDeduction=t[0].total_deduction,this.hNetpay=t[0].net_salary,this.detailForm.setValue({company:t[0].company_name,payPeriod:t[0].pay_period,employee:t[0].display_name,cutoffDate:t[0].cutoff_date,department:t[0].department,paydate:t[0].pay_date,position:t[0].position,bankAccount:t[0].bank_name,payrollType:t[0].payroll_type,salaryRate:t[0].salary_rate}),this.payrollManagementService.detailView(this.id,e,t[0].payroll_id,t[0].payslip_id).subscribe(a=>{this.summary=a.filter(e=>1===e.detail_group_id),this.overtime=a.filter(e=>2===e.detail_group_id),this.addition=a.filter(e=>3===e.detail_group_id),this.deduction=a.filter(e=>4===e.detail_group_id),this.payrollManagementService.timekeepingView(this.id,e,t[0].payroll_id,t[0].payslip_id,t[0].timekeeping_header_id).subscribe(e=>{this.tkView=e,this.modalService.open(this.viewModal,{size:"xl"})},e=>{console.log(e.error)})},e=>{console.log(e.error)})}postPayroll(){let e=!0;this.errPosting=!1,this.genList.filter(e=>!0===e.is_checked&&!1===e.is_posted).length<=0&&(e=!1,this.errPosting=!0),e&&T.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&T.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{T.a.showLoading();var e=this.genList.filter(e=>!0===e.is_checked&&!1===e.is_posted).map(e=>({payroll_header_id:this.id,payroll_id:e.payroll_id,payslip_id:e.payslip_id,employee_id:e.employee_id,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}));this.payrollManagementService.postPayroll(e).subscribe(e=>{0===e?T.a.fire("Failed!","Transaction failed!","error"):(this.loadList(),this.loadPostedPayroll(),T.a.fire("Ok!","Transaction successful!","success"))},e=>{console.log(e.error),T.a.fire("Failed!","Transaction failed!","error")})}})})}loadPostedPayroll(){this.payrollManagementService.postedView(this.id,"0").subscribe(e=>{this.postedList=e,$("#postedTable").DataTable().clear(),$("#postedTable").DataTable().destroy(),this.dtOptions.postedView={data:this.postedList,dom:"Bfrtip",destroy:!0,columns:[{data:"pay_date",render:function(e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"payroll_code"},{data:"employee_code"},{data:"last_name"},{data:"first_name"},{data:"file_status"},{data:"tax_status"},{data:"daily_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"basic_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"misc_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"leave_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime_holiday",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_tax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"adjustments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"gross_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"witholding_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary_after_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_ntax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"loan_payments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"deductions",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_ec",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payroll_cost",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_witholding",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_type"},{data:"bank_account"},{data:"bank_name"},{data:"date_employed",render:function(e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"date_terminated",render:function(e){if(""!==e){var t=new Date(e),a=t.getMonth()+1;return(a.toString().length>1?a:"0"+a)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}return""}},{data:"cost_center"},{data:"currency"},{data:"exchange_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_freq"},{data:"mtd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ec_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_wh_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_allow",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_id",render:function(e,t,a,n){return'<button type="button" id="'+e+'" class="btn btn-sm btn-primary btn-icon viewPostedPayroll"><i class="feather icon-search viewPostedPayroll" id="'+e+'" ></i></button>'}}]},setTimeout(()=>{this.dtTriggerPosted.next()},100)},e=>{console.log(e.error)})}viewPostedDetail(e){const t=this.postedList.filter(t=>t.employee_id==e);this.hGross=t[0].gross_income,this.hAddition=t[0].total_addition,this.hDeduction=t[0].total_deduction,this.hNetpay=t[0].net_salary,this.detailForm.setValue({company:t[0].company_name,payPeriod:t[0].pay_period,employee:t[0].display_name,cutoffDate:t[0].cutoff_date,department:t[0].department,paydate:t[0].pay_date,position:t[0].position,bankAccount:t[0].bank_name,payrollType:t[0].payroll_type,salaryRate:t[0].salary_rate}),this.payrollManagementService.postedDetailView(this.id,t[0].posted_payslip_id).subscribe(e=>{this.summary=e.filter(e=>1===e.detail_group_id),this.overtime=e.filter(e=>2===e.detail_group_id),this.addition=e.filter(e=>3===e.detail_group_id),this.deduction=e.filter(e=>4===e.detail_group_id),this.payrollManagementService.postedTimekeepingView(this.id,t[0].payroll_id,t[0].employee_id,t[0].timekeeping_header_id).subscribe(e=>{this.tkView=e,this.modalService.open(this.viewModal,{size:"xl"})},e=>{console.log(e.error)})},e=>{console.log(e.error)})}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(b.c),u.Lb(l.j),u.Lb(le.a),u.Lb(_.a),u.Lb(se.a),u.Lb(J.a),u.Lb(ne.a),u.Lb(i.a),u.Lb(B.a),u.Lb(H.a),u.Lb(L.a),u.Lb(u.E))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-payroll-generation-detail"]],viewQuery:function(e,t){if(1&e&&(u.Nc(he,!0),u.Nc(ue,!0),u.Nc(pe,!0),u.Nc(s.a,!0)),2&e){let e;u.uc(e=u.cc())&&(t.generatedModal=e.first),u.uc(e=u.cc())&&(t.adjustmentModal=e.first),u.uc(e=u.cc())&&(t.viewModal=e.first),u.uc(e=u.cc())&&(t.dtElements=e)}},decls:8,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["generatedModal",""],["adjustmentModal",""],["viewModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/payroll/payroll-generation-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["stepTitle","Details",3,"awCompletedStep"],[3,"formGroup"],[1,"col-md-4"],[1,"form-group"],[1,"control-label"],["formControlName","timekeepingID","name","Payroll Type","bindLabel","timekeeping_header_code","bindValue","timekeeping_header_id","placeholder","Select Timekeeping",3,"items","change"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","payrollType","readonly","","placeholder","Payroll Type",1,"form-control",2,"background-color","white"],["type","text","formControlName","dateFrom","readonly","","placeholder","Date From",1,"form-control",2,"background-color","white"],["type","text","formControlName","dateTo","readonly","","placeholder","Date To",1,"form-control",2,"background-color","white"],["type","text","formControlName","category","readonly","","placeholder","Category",1,"form-control",2,"background-color","white"],["type","text","formControlName","branch","readonly","","placeholder","Branch",1,"form-control",2,"background-color","white"],["type","text","formControlName","confidential","readonly","","placeholder","Confidential",1,"form-control",2,"background-color","white"],[1,"d-flex","justify-content-center","mt-2"],["class","btn btn-primary btn-icon-text",3,"click",4,"ngIf"],["class","btn btn-primary","type","button","awNextStep","",4,"ngIf"],["stepTitle","One Time Adjustment",3,"awCompletedStep"],[1,"col-md-12"],[1,"text-right"],["type","button","class","btn btn-primary btn-icon-text",3,"click",4,"ngIf"],[1,"table-responsive"],["id","tkList",1,"table","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","button","awPreviousStep","",1,"btn","btn-light","mr-2"],["type","button","awNextStep","",1,"btn","btn-primary"],["stepTitle","Payroll Generation",3,"awCompletedStep"],[1,"col-md-2"],[1,"custom-control","custom-switch"],["formControlName","includeTax","type","checkbox","id","cktax",1,"custom-control-input"],["for","cktax",1,"custom-control-label"],["formControlName","includeSSS","type","checkbox","id","cksss",1,"custom-control-input"],["for","cksss",1,"custom-control-label"],["formControlName","includePagibig","type","checkbox","id","ckpagibig",1,"custom-control-input"],["for","ckpagibig",1,"custom-control-label"],["formControlName","includePhilhealth","type","checkbox","id","ckphilhealth",1,"custom-control-input"],["for","ckphilhealth",1,"custom-control-label"],["class","btn btn-primary","type","button","disabled","",4,"ngIf"],["formControlName","category","name","Category","bindLabel","category_name","bindValue","category_id","placeholder","Select Category",3,"items"],["formControlName","branch","name","Branch","bindLabel","branch_name","bindValue","branch_id","placeholder","Select Department",3,"items"],["formControlName","confidential","name","Confidential","bindLabel","description","bindValue","id","placeholder","Select Confidential",3,"items"],[1,"table","table-bordered",2,"width","100%"],["stepTitle","Post Payroll",3,"awCompletedStep"],["name","Payroll Type","bindLabel","payroll_code","bindValue","payroll_id","placeholder","Select Payroll Code",3,"items","ngModel","ngModelChange"],["id","postingTable","datatable","",1,"table","table-bordered",3,"dtTrigger","dtOptions"],["type","checkbox","checked","","id","check-all",1,"custom-control-input",3,"change"],["for","check-all",1,"custom-control-label"],["stepTitle","Posted Payroll",3,"awCompletedStep"],["id","postedTable","datatable","",1,"table","table-bordered",3,"dtTrigger","dtOptions"],[1,"text-danger","mt-1"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["type","button",1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","clock","appFeatherIcon","",1,"btn-icon-prepend"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange","change"],[1,"custom-control-label",3,"for"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-search"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","modalTable","datatable","",1,"table","table-bordered",3,"dtOptions"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-3"],["formControlName","adjustmentType","name","Adustment Type","bindLabel","description","bindValue","id","placeholder","Select Adjustment Type",3,"items"],[1,"col-md-5"],["formControlName","adjustment","type","text","placeholder","Adjustment",1,"form-control"],["formControlName","amount","type","number","placeholder","0",1,"form-control"],[1,"col-sm-1"],[1,"form-check"],[1,"form-check-label"],["formControlName","taxable","type","checkbox",1,"form-check-input"],[1,"input-frame"],["formControlName","selectedTagType","name","Tag Type","bindLabel","description","bindValue","id","placeholder","Select Tag Type",3,"items","change"],["formControlName","selectedEmployee","name","Name","bindLabel","description","bindValue","id","placeholder","Select Name",3,"items"],["type","button","class","btn btn-primary btn-icon-text ",3,"click",4,"ngIf"],["id","modalTable",1,"table","table-bordered"],["data-feather","corner-right-down","appFeatherIcon","",1,"btn-icon-prepend"],["type","button","title","Edit",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"],[1,"col-md-3","col-sm-6","col-xs-12"],[1,"mini-stat","clearfix","bg-gross","rounded"],[1,"mini-stat-icon"],[1,"mdi","mdi-cards"],[1,"mini-stat-info"],[1,"mini-stat","clearfix","bg-addition","rounded"],[1,"mdi","mdi-trending-up"],[1,"mini-stat","clearfix","bg-deduction","rounded"],[1,"mdi","mdi-trending-down"],[1,"mini-stat","clearfix","bg-net","rounded"],[1,"mdi","mdi-cash-multiple"],[1,"card-header"],[1,"col-md-6"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","readonly","","formControlName","company","placeholder","Company",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","payPeriod","placeholder","Pay Period",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","employee","placeholder","Employee",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","cutoffDate","placeholder","Cutoff Date",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","department","placeholder","Department",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","paydate","placeholder","Paydate",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","position","placeholder","Position",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","bankAccount","placeholder","Bank Account",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","payrollType","placeholder","Payroll Type",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","salaryRate","placeholder","Salary Rate",1,"form-control",2,"background-color","white"],[1,"table","table-bordered"],["colspan","2",1,"text-center"],["colspan","3",1,"text-center"],["colspan","4",1,"text-center"],["id","tkFinal",1,"table"]],template:function(e,t){1&e&&(u.Gc(0,ye,3,0,"div",0),u.Gc(1,De,468,31,"div",1),u.Gc(2,Ce,140,1,"ng-template",null,2,u.Hc),u.Gc(4,$e,81,12,"ng-template",null,3,u.Hc),u.Gc(6,Ue,295,22,"ng-template",null,4,u.Hc)),2&e&&(u.jc("ngIf",t.isLoading),u.yb(1),u.jc("ngIf",!t.isLoading))},directives:[n.n,i.f,me.f,me.g,me.b,b.s,b.j,b.e,d.a,b.i,b.d,b.b,n.m,me.e,me.d,b.a,b.l,s.a,y.a,b.n],pipes:[n.e,n.f],styles:["body[_ngcontent-%COMP%]{background:#eee;margin-top:20px}.rounded[_ngcontent-%COMP%]{border-radius:3px!important}.mini-stat[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px}.mini-stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;display:inline-block;line-height:60px;text-align:center;font-size:30px;background:none repeat scroll 0 0 #eee;border-radius:100%;float:left;margin-right:10px;background-color:transparent}.mini-stat-info[_ngcontent-%COMP%]{font-size:12px;padding-top:2px}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#fff}.mini-stat-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:25px;font-weight:600;margin-bottom:5px;margin-top:7px}.bg-gross[_ngcontent-%COMP%]{width:100%;background-color:#1ab394!important;border:1px solid #1ab394;color:#fff}.fg-gross[_ngcontent-%COMP%]{color:#1ab394!important}.bg-addition[_ngcontent-%COMP%]{width:100%;background-color:#23c6c8!important;border:1px solid #23c6c8;color:#fff}.fg-addition[_ngcontent-%COMP%]{color:#23c6c8!important}.bg-deduction[_ngcontent-%COMP%]{width:100%;background-color:#ed5565!important;border:1px solid #ed5565;color:#fff}.fg-deduction[_ngcontent-%COMP%]{color:#ed5565!important}.bg-net[_ngcontent-%COMP%]{width:100%;background-color:#f8ac59!important;border:1px solid #f8ac59;color:#fff}.fg-net[_ngcontent-%COMP%]{color:#f8ac59!important}"]}),e})()}]}];let We=(()=>{class e{}return e.\u0275mod=u.Jb({type:e}),e.\u0275inj=u.Ib({factory:function(t){return new(t||e)},providers:[n.f,{provide:l.b,useClass:m.a}],imports:[[n.c,b.f,b.p,i.g.forChild(Xe),o.a,d.b,c.b.forRoot(),l.k,s.b,me.a]]}),e})()}}]);