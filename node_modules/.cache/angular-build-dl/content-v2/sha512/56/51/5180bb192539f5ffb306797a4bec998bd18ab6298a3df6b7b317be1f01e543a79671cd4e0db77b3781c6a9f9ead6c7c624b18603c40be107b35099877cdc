!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Yj9t:function(t,i,n){"use strict";n.r(i),n.d(i,"AuthModule",function(){return Fe});var o=n("UIK3"),a=n("PSXT"),c=n("PdH4"),s=n.n(c),b=n("fXoL"),l=n("3Pt+"),d=n("tyNb"),u=n("1kSV"),h=n("V0T1"),m=n("ofXK"),p=n("mkVx"),f=n("ZOsW"),v=n("QJFE"),g=n("IYwT"),y=n("tmjD"),R=["wizardForm"],Q=["closeModal"];function I(e,t){1&e&&(b.Rb(0,"div",60),b.Mb(1,"div",61),b.Qb())}function C(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Company Name is needed!"),b.Qb())}function F(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Company Code is needed!"),b.Qb())}function w(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Zip Code is needed!"),b.Qb())}function k(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Region is needed!"),b.Qb())}function x(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Province is needed!"),b.Qb())}function P(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"City is needed!"),b.Qb())}function B(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Country is needed!"),b.Qb())}function S(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Branch Name is needed!"),b.Qb())}function M(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Industry is needed!"),b.Qb())}function L(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Bank is needed!"),b.Qb())}function N(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Bank is needed!"),b.Qb())}function j(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Zip Code is needed!"),b.Qb())}function T(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Region is needed!"),b.Qb())}function O(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Province is needed!"),b.Qb())}function _(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"City is needed!"),b.Qb())}function U(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Country is needed!"),b.Qb())}function G(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"SSS is needed!"),b.Qb())}function A(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Philhealth is needed!"),b.Qb())}function E(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"TIN is needed!"),b.Qb())}function V(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Pagibig is needed!"),b.Qb())}function D(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"RDO is needed!"),b.Qb())}function z(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Branch is needed!"),b.Qb())}function q(e,t){if(1&e){var r=b.Sb();b.Rb(0,"tr"),b.Rb(1,"td"),b.Ic(2),b.Qb(),b.Rb(3,"td"),b.Ic(4),b.Qb(),b.Rb(5,"td"),b.Rb(6,"button",101),b.bc("click",function(){b.xc(r);var e=t.index;return b.dc(2).removePhone(e)}),b.Mb(7,"i",102),b.Qb(),b.Qb(),b.Qb()}if(2&e){var i=t.$implicit;b.yb(2),b.Jc(i.description),b.yb(2),b.Jc(i.number)}}function J(e,t){if(1&e){var r=b.Sb();b.Rb(0,"tr"),b.Rb(1,"td"),b.Ic(2),b.Qb(),b.Rb(3,"td"),b.Ic(4),b.Qb(),b.Rb(5,"td"),b.Rb(6,"button",101),b.bc("click",function(){b.xc(r);var e=t.index;return b.dc(2).removeEmail(e)}),b.Mb(7,"i",102),b.Qb(),b.Qb(),b.Qb()}if(2&e){var i=t.$implicit;b.yb(2),b.Jc(i.description),b.yb(2),b.Jc(i.email_address)}}function Z(e,t){if(1&e){var r=b.Sb();b.Rb(0,"tr"),b.Rb(1,"td"),b.Ic(2),b.Qb(),b.Rb(3,"td"),b.Rb(4,"button",101),b.bc("click",function(){b.xc(r);var e=t.index;return b.dc(2).removeIP(e)}),b.Mb(5,"i",102),b.Qb(),b.Qb(),b.Qb()}if(2&e){var i=t.$implicit;b.yb(2),b.Jc(i.description)}}function W(e,t){if(1&e){var r=b.Sb();b.Rb(0,"div",63),b.Rb(1,"h5",64),b.Ic(2,"Branch Details"),b.Qb(),b.Rb(3,"button",65,66),b.bc("click",function(){return t.$implicit.close("by: close icon")}),b.Rb(5,"span",67),b.Ic(6,"\xd7"),b.Qb(),b.Qb(),b.Qb(),b.Rb(7,"div",68),b.Rb(8,"form",11),b.Rb(9,"div",3),b.Rb(10,"div",7),b.Rb(11,"h6",8),b.Ic(12,"Branch Information"),b.Qb(),b.Rb(13,"div",4),b.Rb(14,"div",69),b.Rb(15,"div",14),b.Rb(16,"label",27),b.Ic(17,"Branch Name"),b.Qb(),b.Mb(18,"input",70),b.Gc(19,S,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(20,"div",69),b.Rb(21,"div",14),b.Rb(22,"label",27),b.Ic(23,"Industry"),b.Qb(),b.Mb(24,"ng-select",71),b.Gc(25,M,2,0,"p",17),b.Qb(),b.Qb(),b.Qb(),b.Rb(26,"div",4),b.Rb(27,"div",69),b.Rb(28,"div",14),b.Rb(29,"label",27),b.Ic(30,"Bank"),b.Qb(),b.Mb(31,"ng-select",72),b.Gc(32,L,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(33,"div",69),b.Rb(34,"div",14),b.Rb(35,"label",27),b.Ic(36,"Bank Account"),b.Qb(),b.Mb(37,"input",73),b.Gc(38,N,2,0,"p",17),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Mb(39,"hr"),b.Rb(40,"div",3),b.Rb(41,"div",7),b.Rb(42,"div",8),b.Ic(43,"Branch Address"),b.Qb(),b.Rb(44,"div",4),b.Rb(45,"div",26),b.Rb(46,"div",14),b.Rb(47,"label",27),b.Ic(48,"Zip Code"),b.Qb(),b.Mb(49,"input",28),b.Gc(50,j,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(51,"div",29),b.Rb(52,"div",14),b.Rb(53,"label",27),b.Ic(54,"Unit/Flr #"),b.Qb(),b.Mb(55,"input",30),b.Qb(),b.Qb(),b.Rb(56,"div",31),b.Rb(57,"div",14),b.Rb(58,"label",27),b.Ic(59,"Building"),b.Qb(),b.Mb(60,"input",74),b.Qb(),b.Qb(),b.Rb(61,"div",31),b.Rb(62,"div",14),b.Rb(63,"label",27),b.Ic(64,"Street"),b.Qb(),b.Mb(65,"input",75),b.Qb(),b.Qb(),b.Rb(66,"div",31),b.Rb(67,"div",14),b.Rb(68,"label",27),b.Ic(69,"Barangay"),b.Qb(),b.Mb(70,"input",34),b.Qb(),b.Qb(),b.Qb(),b.Rb(71,"div",31),b.Rb(72,"div",14),b.Rb(73,"label",27),b.Ic(74,"Region"),b.Qb(),b.Rb(75,"ng-select",76),b.bc("change",function(){return b.xc(r),b.dc().selectBranchRegion()}),b.Qb(),b.Gc(76,T,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(77,"div",4),b.Rb(78,"div",31),b.Rb(79,"div",14),b.Rb(80,"label",27),b.Ic(81,"Province"),b.Qb(),b.Mb(82,"ng-select",36),b.Gc(83,O,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(84,"div",31),b.Rb(85,"div",14),b.Rb(86,"label",27),b.Ic(87,"City"),b.Qb(),b.Mb(88,"ng-select",77),b.Gc(89,_,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(90,"div",31),b.Rb(91,"div",14),b.Rb(92,"label",27),b.Ic(93,"Country"),b.Qb(),b.Mb(94,"ng-select",78),b.Gc(95,U,2,0,"p",17),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Mb(96,"hr"),b.Rb(97,"div",3),b.Rb(98,"div",7),b.Rb(99,"div",8),b.Ic(100,"Government Information"),b.Qb(),b.Rb(101,"div",4),b.Rb(102,"div",69),b.Rb(103,"div",14),b.Rb(104,"label",27),b.Ic(105,"SSS"),b.Qb(),b.Mb(106,"input",79),b.Gc(107,G,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(108,"div",69),b.Rb(109,"div",14),b.Rb(110,"label",27),b.Ic(111,"Philhealth"),b.Qb(),b.Mb(112,"input",80),b.Gc(113,A,2,0,"p",17),b.Qb(),b.Qb(),b.Qb(),b.Rb(114,"div",4),b.Rb(115,"div",69),b.Rb(116,"div",14),b.Rb(117,"label",27),b.Ic(118,"TIN"),b.Qb(),b.Mb(119,"input",81),b.Gc(120,E,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(121,"div",69),b.Rb(122,"div",14),b.Rb(123,"label",27),b.Ic(124,"Pagibig"),b.Qb(),b.Mb(125,"input",82),b.Gc(126,V,2,0,"p",17),b.Qb(),b.Qb(),b.Qb(),b.Rb(127,"div",4),b.Rb(128,"div",26),b.Rb(129,"div",14),b.Rb(130,"label",27),b.Ic(131,"RDO"),b.Qb(),b.Rb(132,"ng-select",83),b.bc("change",function(){return b.xc(r),b.dc().selectRdoOffice()}),b.Qb(),b.Gc(133,D,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(134,"div",84),b.Rb(135,"div",14),b.Rb(136,"label",27),b.Ic(137,"\xa0"),b.Qb(),b.Rb(138,"ng-select",85),b.bc("change",function(){return b.xc(r),b.dc().selectRdoBranch()}),b.Qb(),b.Qb(),b.Qb(),b.Rb(139,"div",26),b.Rb(140,"div",14),b.Rb(141,"label",27),b.Ic(142,"Branch"),b.Qb(),b.Rb(143,"ng-select",86),b.bc("change",function(){return b.xc(r),b.dc().selectPBranch()}),b.Qb(),b.Gc(144,z,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(145,"div",26),b.Rb(146,"div",14),b.Rb(147,"label",27),b.Ic(148,"\xa0"),b.Qb(),b.Rb(149,"ng-select",87),b.bc("change",function(){return b.xc(r),b.dc().selectPCity()}),b.Qb(),b.Qb(),b.Qb(),b.Rb(150,"div",26),b.Rb(151,"div",14),b.Rb(152,"label",27),b.Ic(153,"\xa0"),b.Qb(),b.Mb(154,"input",88),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Mb(155,"hr"),b.Rb(156,"div",3),b.Rb(157,"div",7),b.Rb(158,"div",8),b.Ic(159,"Contact Information"),b.Qb(),b.Rb(160,"div",4),b.Rb(161,"div",26),b.Rb(162,"div",14),b.Rb(163,"label",27),b.Ic(164,"Phone"),b.Qb(),b.Mb(165,"ng-select",89),b.Qb(),b.Qb(),b.Rb(166,"div",84),b.Rb(167,"div",14),b.Rb(168,"label",27),b.Ic(169,"Number"),b.Qb(),b.Rb(170,"div",4),b.Rb(171,"div",90),b.Mb(172,"input",91),b.Qb(),b.Rb(173,"div",92),b.Rb(174,"button",47),b.bc("click",function(e){return b.xc(r),b.dc().addPhone(e)}),b.Mb(175,"i",48),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(176,"div",26),b.Rb(177,"div",14),b.Rb(178,"label",27),b.Ic(179,"Email"),b.Qb(),b.Mb(180,"ng-select",93),b.Qb(),b.Qb(),b.Rb(181,"div",84),b.Rb(182,"div",14),b.Rb(183,"label",27),b.Ic(184,"Address"),b.Qb(),b.Rb(185,"div",4),b.Rb(186,"div",90),b.Mb(187,"input",94),b.Qb(),b.Rb(188,"div",92),b.Rb(189,"button",47),b.bc("click",function(e){return b.xc(r),b.dc().addEmail(e)}),b.Mb(190,"i",48),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(191,"div",4),b.Rb(192,"div",13),b.Rb(193,"div",95),b.Rb(194,"table",96),b.Rb(195,"thead"),b.Rb(196,"tr"),b.Rb(197,"th"),b.Ic(198,"Type"),b.Qb(),b.Rb(199,"th"),b.Ic(200,"Number"),b.Qb(),b.Mb(201,"th"),b.Qb(),b.Qb(),b.Rb(202,"tbody"),b.Gc(203,q,8,2,"tr",50),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(204,"div",13),b.Rb(205,"div",95),b.Rb(206,"table",96),b.Rb(207,"thead"),b.Rb(208,"tr"),b.Rb(209,"th"),b.Ic(210,"Type"),b.Qb(),b.Rb(211,"th"),b.Ic(212,"Address"),b.Qb(),b.Mb(213,"th"),b.Qb(),b.Qb(),b.Rb(214,"tbody"),b.Gc(215,J,8,2,"tr",50),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Mb(216,"hr"),b.Rb(217,"div",4),b.Rb(218,"div",97),b.Rb(219,"div",14),b.Rb(220,"label",27),b.Ic(221,"IP Address"),b.Qb(),b.Rb(222,"div",4),b.Rb(223,"div",90),b.Mb(224,"input",98),b.Qb(),b.Rb(225,"div",92),b.Rb(226,"button",47),b.bc("click",function(e){return b.xc(r),b.dc().addIP(e)}),b.Mb(227,"i",48),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(228,"div",97),b.Rb(229,"div",95),b.Rb(230,"table",96),b.Rb(231,"thead"),b.Rb(232,"tr"),b.Rb(233,"th"),b.Ic(234,"IP"),b.Qb(),b.Mb(235,"th"),b.Qb(),b.Qb(),b.Rb(236,"tbody"),b.Gc(237,Z,6,1,"tr",50),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(238,"div",99),b.Rb(239,"button",100),b.bc("click",function(){return t.$implicit.close("by: close button")}),b.Ic(240,"Close"),b.Qb(),b.Rb(241,"button",41),b.bc("click",function(){return b.xc(r),b.dc().addBranch()}),b.Ic(242,"Save changes"),b.Qb(),b.Qb()}if(2&e){var i=b.dc();b.yb(8),b.jc("formGroup",i.branchForm),b.yb(11),b.jc("ngIf",i.errbranchName),b.yb(5),b.jc("items",i.industry),b.yb(1),b.jc("ngIf",i.errselectedIndustry),b.yb(6),b.jc("items",i.bank),b.yb(1),b.jc("ngIf",i.errselectedBank),b.yb(6),b.jc("ngIf",i.errbankAccount),b.yb(12),b.jc("ngIf",i.errBranchZipCode),b.yb(25),b.jc("items",i.region),b.yb(1),b.jc("ngIf",i.errBranchRegion),b.yb(6),b.jc("items",i.province),b.yb(1),b.jc("ngIf",i.errBranchProvince),b.yb(5),b.jc("items",i.branchCity),b.yb(1),b.jc("ngIf",i.errBranchCity),b.yb(5),b.jc("items",i.country),b.yb(1),b.jc("ngIf",i.errBranchCountry),b.yb(11),b.jc("showMaskTyped",!0),b.yb(1),b.jc("ngIf",i.errSSS),b.yb(5),b.jc("showMaskTyped",!0),b.yb(1),b.jc("ngIf",i.errPhilhealth),b.yb(6),b.jc("showMaskTyped",!0),b.yb(1),b.jc("ngIf",i.errTIN),b.yb(5),b.jc("showMaskTyped",!0),b.yb(1),b.jc("ngIf",i.errPagibig),b.yb(6),b.jc("items",i.rdoOffice),b.yb(1),b.jc("ngIf",i.errRDO),b.yb(5),b.jc("items",i.rdoBranch),b.yb(5),b.jc("items",i.pRegion),b.yb(1),b.jc("ngIf",i.errBranch),b.yb(5),b.jc("items",i.pCity),b.yb(16),b.jc("items",i.phone),b.yb(15),b.jc("items",i.email),b.yb(23),b.jc("ngForOf",i.phoneList),b.yb(12),b.jc("ngForOf",i.emailList),b.yb(22),b.jc("ngForOf",i.ipList)}}function H(e,t){if(1&e){var r=b.Sb();b.Rb(0,"tr"),b.Rb(1,"td"),b.Rb(2,"button",101),b.bc("click",function(){b.xc(r);var e=t.index;return b.dc().removeBranch(e)}),b.Mb(3,"i",102),b.Qb(),b.Qb(),b.Rb(4,"td"),b.Ic(5),b.Qb(),b.Rb(6,"td"),b.Ic(7),b.Qb(),b.Qb()}if(2&e){var i=t.$implicit;b.yb(5),b.Jc(i.branchName),b.yb(2),b.Jc(i.industry)}}function K(e,t){1&e&&(b.Rb(0,"p",62),b.Ic(1,"Please add atleast one branch!"),b.Qb())}var Y,$=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}},X=((Y=function(){function t(r,i,n,o,a){e(this,t),this.fb=r,this.router=i,this.modalService=n,this.masterTemplateService=o,this.registerService=a,this.loader=!0,this.isSuccess=!1,this.errCompanyName=!1,this.errCompanyCode=!1,this.errZipCode=!1,this.errProvince=!1,this.errCity=!1,this.errRegion=!1,this.errCountry=!1,this.errbranchName=!1,this.errselectedIndustry=!1,this.errselectedBank=!1,this.errbankAccount=!1,this.errBranchZipCode=!1,this.errBranchProvince=!1,this.errBranchRegion=!1,this.errBranchCity=!1,this.errBranchCountry=!1,this.errSSS=!1,this.errPhilhealth=!1,this.errTIN=!1,this.errPagibig=!1,this.errRDO=!1,this.errBranch=!1,this.errBranchList=!1,this.Title="Company Setup",this.url="https://via.placeholder.com/200x150",this.branchList=[],this.dropdown=[],this.bank=[],this.industry=[],this.country=[],this.companyCity=[],this.branchCity=[],this.region=[],this.province=[],this.rdoOffice=[],this.rdoBranch=[],this.pRegion=[],this.pCity=[],this.phone=[],this.email=[],this.phoneList=[],this.emailList=[],this.ipList=[],this.param=[],this.submitText="Submit"}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.masterTemplateService.dropdownList("1, 2, 3, 4, 5, 6, 10, 11, 12, 61,").subscribe(function(t){e.industry=t.filter(function(e){return 1===e.type_id}),e.bank=t.filter(function(e){return 2===e.type_id}),e.country=t.filter(function(e){return 3===e.type_id}),e.rdoOffice=t.filter(function(e){return 4===e.type_id}),e.rdoBranch=t.filter(function(e){return 5===e.type_id}),e.pRegion=t.filter(function(e){return 6===e.type_id}),e.region=t.filter(function(e){return 10===e.type_id}),e.phone=t.filter(function(e){return 11===e.type_id}),e.email=t.filter(function(e){return 12===e.type_id}),e.province=t.filter(function(e){return 61===e.type_id})}),this.masterTemplateService.dropdownEntitlement().subscribe(function(t){e.dropdown=t}),this.companyForm=this.fb.group({companyID:["0"],companyName:[""],companyCode:[""],selectedCompanyCountry:[null],img:[null],zipCode:[""],unit:[""],building:[""],street:[""],barangay:[""],selectedProvince:[null],selectedCity:[null],selectedRegion:[null],createdBy:sessionStorage.getItem("u")}),this.branchForm=this.fb.group({branchID:["0"],branchName:[""],selectedIndustry:[null],selectedBank:[null],bankAccount:[""],zipCode:[""],unit:[""],building:[""],street:[""],barangay:[""],selectedProvince:[null],sss:[""],philhealth:[""],tin:[""],pagibig:[""],selectedCity:[null],selectedRegion:[null],selectedBranchCountry:[null],selectedRdoOffice:[null],selectedRdoBranch:[null],selectedPRegion:[null],selectedPCity:[null],selectedPCode:[""],selectedPhone:[null],phoneNumber:[""],selectedEmail:[null],emailAddress:[""],ipAddress:[""],createdBy:sessionStorage.getItem("u")}),this.loader=!1}},{key:"selectRegion",value:function(){var e=this;this.companyForm.get("selectedCity").reset(),this.companyCity=[],this.companyCity=this.dropdown.filter(function(t){return t.id===e.companyForm.get("selectedRegion").value})}},{key:"selectBranchRegion",value:function(){var e=this;this.branchForm.get("selectedCity").reset(),this.branchCity=[],this.branchCity=this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedRegion").value})}},{key:"selectRdoOffice",value:function(){var e=this;this.branchForm.get("selectedRdoBranch").reset(),this.branchForm.get("selectedRdoBranch").setValue(this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedRdoOffice").value})[0].to_id)}},{key:"selectRdoBranch",value:function(){var e=this;this.branchForm.get("selectedRdoOffice").reset(),this.branchForm.get("selectedRdoOffice").setValue(this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedRdoBranch").value})[0].to_id)}},{key:"selectPBranch",value:function(){var e=this;this.branchForm.get("selectedPCity").reset(),this.pCity=[],this.pCity=this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedPRegion").value&&0===t.id_to})}},{key:"selectPCity",value:function(){var e=this;this.branchForm.get("selectedPCode").reset(),this.branchForm.get("selectedPCode").setValue(this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedPRegion").value&&t.id_to===e.branchForm.get("selectedPCity").value})[0].to_description)}},{key:"addPhone",value:function(e){var t=this,r=this.phone.filter(function(e){return e.id===t.branchForm.get("selectedPhone").value})[0],i={id:r.id,description:r.description,number:this.branchForm.get("phoneNumber").value};this.phoneList.push(i),this.branchForm.get("selectedPhone").reset(),this.branchForm.get("phoneNumber").reset()}},{key:"removePhone",value:function(e){this.phoneList.splice(e,1)}},{key:"addEmail",value:function(e){var t=this,r=this.email.filter(function(e){return e.id===t.branchForm.get("selectedEmail").value})[0],i={id:r.id,description:r.description,email_address:this.branchForm.get("emailAddress").value};this.emailList.push(i),this.branchForm.get("selectedEmail").reset(),this.branchForm.get("emailAddress").reset()}},{key:"removeEmail",value:function(e){this.emailList.splice(e,1)}},{key:"addIP",value:function(e){var t={description:this.branchForm.get("ipAddress").value};this.ipList.push(t),this.branchForm.get("ipAddress").reset()}},{key:"removeIP",value:function(e){this.ipList.splice(e,1)}},{key:"openFileBrowser",value:function(e){var t=this;if(e.preventDefault(),document.querySelector("#fileUploadInputExample").click(),e.target.files&&e.target.files[0]){var r=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),r.readAsDataURL(e.target.files[0]),r.onload=function(e){t.url=e.target.result}}}},{key:"handleFileInput",value:function(e){var t=this;if(e.target.files.length&&(document.querySelector("#fileUploadInputExample + .input-group .file-upload-info").setAttribute("value",e.target.files[0].name),e.target.files&&e.target.files[0])){var r=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),r.readAsDataURL(e.target.files[0]),r.onload=function(e){t.url=e.target.result}}}},{key:"reLogin",value:function(){sessionStorage.clear(),this.router.navigate(["/login"])}},{key:"openXlModal",value:function(e){this.modalService.open(e,{size:"xl"}).result.then(function(e){}).catch(function(e){})}},{key:"validation",value:function(){var e=!0;return""===this.branchForm.get("branchName").value?(e=!1,this.errbranchName=!0):this.errbranchName=!1,""===this.branchForm.get("selectedIndustry").value||null===this.branchForm.get("selectedIndustry").value?(e=!1,this.errselectedIndustry=!0):this.errselectedIndustry=!1,""===this.branchForm.get("selectedBank").value||null===this.branchForm.get("selectedBank").value?(e=!1,this.errselectedBank=!0):this.errselectedBank=!1,""===this.branchForm.get("bankAccount").value?(e=!1,this.errbankAccount=!0):this.errbankAccount=!1,""===this.branchForm.get("zipCode").value?(e=!1,this.errBranchZipCode=!0):this.errBranchZipCode=!1,""===this.branchForm.get("selectedProvince").value||null===this.branchForm.get("selectedProvince").value?(e=!1,this.errBranchProvince=!0):this.errBranchProvince=!1,""===this.branchForm.get("selectedRegion").value||null===this.branchForm.get("selectedRegion").value?(e=!1,this.errBranchRegion=!0):this.errBranchRegion=!1,""===this.branchForm.get("selectedCity").value||null===this.branchForm.get("selectedCity").value?(e=!1,this.errBranchCity=!0):this.errBranchCity=!1,""===this.branchForm.get("selectedBranchCountry").value||null===this.branchForm.get("selectedBranchCountry").value?(e=!1,this.errBranchCountry=!0):this.errBranchCountry=!1,""===this.branchForm.get("sss").value?(e=!1,this.errSSS=!0):this.errSSS=!1,""===this.branchForm.get("philhealth").value?(e=!1,this.errPhilhealth=!0):this.errPhilhealth=!1,""===this.branchForm.get("tin").value?(e=!1,this.errTIN=!0):this.errTIN=!1,""===this.branchForm.get("pagibig").value?(e=!1,this.errPagibig=!0):this.errPagibig=!1,""===this.branchForm.get("selectedRdoOffice").value||null===this.branchForm.get("selectedRdoOffice").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedRdoBranch").value||null===this.branchForm.get("selectedRdoBranch").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedPRegion").value||null===this.branchForm.get("selectedPRegion").value?(e=!1,this.errBranch=!0):this.errBranch=!1,""===this.branchForm.get("selectedPCity").value||null===this.branchForm.get("selectedPCity").value?(e=!1,this.errBranch=!0):this.errBranch=!1,e}},{key:"addBranch",value:function(){var e=this;if(this.errBranchList=!1,this.validation()){var t={branchID:"0",branchName:this.branchForm.get("branchName").value,selectedIndustry:this.branchForm.get("selectedIndustry").value,industry:this.industry.filter(function(t){return t.id===e.branchForm.get("selectedIndustry").value})[0].description,selectedBank:this.branchForm.get("selectedBank").value,bankAccount:this.branchForm.get("bankAccount").value,zipCode:this.branchForm.get("zipCode").value,unit:this.branchForm.get("unit").value,building:this.branchForm.get("building").value,street:this.branchForm.get("street").value,barangay:this.branchForm.get("barangay").value,province:this.branchForm.get("selectedProvince").value,sss:this.branchForm.get("sss").value,philhealth:this.branchForm.get("philhealth").value,tin:this.branchForm.get("tin").value,pagibig:this.branchForm.get("pagibig").value,selectedCity:this.branchForm.get("selectedCity").value,selectedRegion:this.branchForm.get("selectedRegion").value,selectedBranchCountry:this.branchForm.get("selectedBranchCountry").value,selectedRdoOffice:this.branchForm.get("selectedRdoOffice").value,selectedRdoBranch:this.branchForm.get("selectedRdoBranch").value,selectedPRegion:this.branchForm.get("selectedPRegion").value,selectedPCity:this.branchForm.get("selectedPCity").value,selectedPCode:this.branchForm.get("selectedPCode").value,createdBy:sessionStorage.getItem("u"),contact_IU:this.phoneList,email_IU:this.emailList,iP_IU:this.ipList};this.branchList.push(t),this.param=[],this.param.push({company_IU:this.companyForm.value,branch_IU:this.branchList}),this.modalService.dismissAll(),this.branchForm.reset(),this.phoneList=[],this.emailList=[],this.ipList=[]}}},{key:"removeBranch",value:function(e){this.errBranchList=!1,this.branchList.splice(e,1),this.param=[],this.param.push({company_IU:this.companyForm.value,branch_IU:this.branchList})}},{key:"nextStep",value:function(e){var t=!0;1==e&&(""===this.companyForm.get("companyName").value?(t=!1,this.errCompanyName=!0):this.errCompanyName=!1,""===this.companyForm.get("companyCode").value?(t=!1,this.errCompanyCode=!0):this.errCompanyCode=!1,""===this.companyForm.get("zipCode").value?(t=!1,this.errZipCode=!0):this.errZipCode=!1,""===this.companyForm.get("selectedProvince").value||null===this.companyForm.get("selectedProvince").value?(t=!1,this.errProvince=!0):this.errProvince=!1,""===this.companyForm.get("selectedRegion").value||null===this.companyForm.get("selectedRegion").value?(t=!1,this.errRegion=!0):this.errRegion=!1,""===this.companyForm.get("selectedCity").value||null===this.companyForm.get("selectedCity").value?(t=!1,this.errCity=!0):this.errCity=!1,""===this.companyForm.get("selectedCompanyCountry").value||null===this.companyForm.get("selectedCompanyCountry").value?(t=!1,this.errCountry=!0):this.errCountry=!1,!0===t&&(this.wizardForm.goToNextStep(),this.Title="Branch Setup"))}},{key:"prevStep",value:function(){this.wizardForm.goToPreviousStep()}},{key:"submit",value:function(e){var t=this;this.isSuccess?this.wizardForm.goToNextStep():0===Object.keys(this.branchList).length?this.errBranchList=!0:s.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(e){e.isConfirmed&&s.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){s.a.showLoading(),console.log(JSON.stringify(t.param[0])),t.registerService.tenantCreate(t.param[0]).subscribe(function(e){s.a.close(),1===e.id?(s.a.fire("Ok!","Transaction successful!","success"),t.wizardForm.goToNextStep(),t.Title="Success",t.isSuccess=!0,t.submitText="Continue"):s.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"finishFunction",value:function(){sessionStorage.clear(),this.router.navigate(["/login"])}}]),t}()).\u0275fac=function(e){return new(e||Y)(b.Lb(l.c),b.Lb(d.c),b.Lb(u.j),b.Lb(h.a),b.Lb(o.a))},Y.\u0275cmp=b.Fb({type:Y,selectors:[["app-company_setup"]],viewQuery:function(e,t){var r;1&e&&(b.Nc(R,!0),b.Nc(Q,!0)),2&e&&(b.uc(r=b.cc())&&(t.wizardForm=r.first),b.uc(r=b.cc())&&(t.closeModal=r.first))},decls:140,vars:21,consts:[["class","spinner-wrapper full-screen",4,"ngIf"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-12","col-xl-10","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-12","pl-md-0"],[1,"col-md-12"],[1,"card-body"],[1,"card-title"],["wizardForm",""],["stepTitle","step 1"],[3,"formGroup"],[1,"col-lg-12"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputUsername1"],["type","text","formControlName","companyName","autocomplete","off","placeholder","Company Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["accept",".png, .jpg, .jpeg","type","file","name","img[]","id","fileUploadInputExample",1,"file-upload-default",3,"change"],[1,"input-group","col-xs-12",3,"click"],["type","text","disabled","","placeholder","Upload Image",1,"form-control","file-upload-info"],[1,"input-group-append"],["type","button",1,"file-upload-browse","btn","btn-primary"],["type","text","formControlName","companyCode","autocomplete","off","placeholder","Company Code",1,"form-control"],[1,"media","d-block","d-sm-flex"],["height","150","width","width","src","https://via.placeholder.com/200x150","alt","...",3,"src"],[1,"col-sm-2"],[1,"control-label"],["type","text","formControlName","zipCode","placeholder","Zip Code",1,"form-control"],[1,"col-sm-1"],["type","text","formControlName","unit","placeholder","Unit/Flr #",1,"form-control"],[1,"col-sm-3"],["type","text","formControlName","building","placeholder","Building",1,"form-control"],["type","text","formControlName","street","placeholder","Street",1,"form-control"],["type","text","formControlName","barangay","placeholder","Barangay",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Region","formControlName","selectedRegion",3,"items","change"],["name","Province","bindLabel","description","bindValue","id","placeholder","Select Province","formControlName","selectedProvince",3,"items"],["name","Country","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedCompanyCountry",3,"items"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-secondary","mr-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["stepTitle","step 2"],["xlModal",""],[1,"table-responsive","pt-3"],[1,"table","table-bordered"],[2,"width","5%"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[2,"width","45%"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-light","mr-2",3,"click"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],["stepTitle","finish"],[1,"text-center"],["data-feather","check-circle","appFeatherIcon","",1,"text-success","mt-4","mb-2","icon-xxl"],[1,"text-muted","mb-3"],[1,"w-75","mx-auto","mb-4","text-muted"],[1,"spinner-wrapper","full-screen"],[1,"spinner"],[1,"text-danger","mt-1"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["closeModal",""],["aria-hidden","true"],[1,"modal-body"],[1,"col-sm-6"],["type","text","formControlName","branchName","placeholder","Branch Name",1,"form-control"],["name","Industry","bindLabel","description","bindValue","id","placeholder","Select Industry","formControlName","selectedIndustry",3,"items"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Bank","formControlName","selectedBank",3,"items"],["type","text","formControlName","bankAccount","placeholder","Bank Account",1,"form-control"],["type","text","formControlName","building","placeholder","Unit/Flr #",1,"form-control"],["type","text","formControlName","street","placeholder","Enter zip code",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedRegion",3,"items","change"],["name","Country","bindLabel","to_description","bindValue","to_id","placeholder","Select Country","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedBranchCountry",3,"items"],["formControlName","sss","mask","00-0000000-0",1,"form-control","mb-4","mb-md-0",3,"showMaskTyped"],["type","text","formControlName","philhealth","mask","00-000000000-0","placeholder","Philhealth",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","tin","mask","000-000-000-000","placeholder","TIN","placeholder","TIN",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","pagibig","mask","0000-0000-0000","placeholder","Pagibig",1,"form-control",3,"showMaskTyped"],["name","RDO Office","bindLabel","description","bindValue","id","placeholder","Select RDO Office","formControlName","selectedRdoOffice",3,"items","change"],[1,"col-sm-4"],["name","RDO Branch","bindLabel","description","bindValue","id","placeholder","Select RDO Branch","formControlName","selectedRdoBranch",3,"items","change"],["name","Branch","bindLabel","description","bindValue","id","placeholder","Select Branch","formControlName","selectedPRegion",3,"items","change"],["name","Branch","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedPCity",3,"items","change"],["type","text","formControlName","selectedPCode","placeholder","Code",1,"form-control"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedPhone",3,"items"],[1,"col-md-10"],["type","text","formControlName","phoneNumber","placeholder","Number",1,"form-control"],[1,"col-md-2"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedEmail",3,"items"],["type","text","formControlName","emailAddress","placeholder","@illimitado.com",1,"form-control"],[1,"table-responsive"],[1,"table"],[1,"col-md-3"],["type","text","formControlName","ipAddress",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){if(1&e){var r=b.Sb();b.Gc(0,I,2,0,"div",0),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"div",3),b.Rb(4,"div",4),b.Rb(5,"div",5),b.Rb(6,"div",4),b.Rb(7,"div",6),b.Rb(8,"div",3),b.Rb(9,"div",7),b.Rb(10,"h6",8),b.Ic(11),b.Qb(),b.Rb(12,"aw-wizard",null,9),b.Rb(14,"aw-wizard-step",10),b.Rb(15,"form",11),b.Rb(16,"div",4),b.Rb(17,"div",12),b.Rb(18,"div",4),b.Rb(19,"div",13),b.Rb(20,"div",14),b.Rb(21,"label",15),b.Ic(22,"Company Name"),b.Qb(),b.Mb(23,"input",16),b.Gc(24,C,2,0,"p",17),b.Qb(),b.Rb(25,"div",14),b.Rb(26,"label"),b.Ic(27,"Upload Logo"),b.Qb(),b.Rb(28,"input",18),b.bc("change",function(e){return t.handleFileInput(e)}),b.Qb(),b.Rb(29,"div",19),b.bc("click",function(e){return t.openFileBrowser(e)}),b.Mb(30,"input",20),b.Rb(31,"span",21),b.Rb(32,"button",22),b.Ic(33,"Upload"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(34,"div",14),b.Rb(35,"label",15),b.Ic(36,"Company Code"),b.Qb(),b.Mb(37,"input",23),b.Gc(38,F,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(39,"div",13),b.Rb(40,"div",24),b.Mb(41,"img",25),b.Qb(),b.Qb(),b.Qb(),b.Mb(42,"hr"),b.Rb(43,"div",8),b.Rb(44,"h6"),b.Ic(45,"Address"),b.Qb(),b.Qb(),b.Rb(46,"div",4),b.Rb(47,"div",26),b.Rb(48,"div",14),b.Rb(49,"label",27),b.Ic(50,"Zip Code"),b.Qb(),b.Mb(51,"input",28),b.Gc(52,w,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(53,"div",29),b.Rb(54,"div",14),b.Rb(55,"label",27),b.Ic(56,"Unit/Flr #"),b.Qb(),b.Mb(57,"input",30),b.Qb(),b.Qb(),b.Rb(58,"div",31),b.Rb(59,"div",14),b.Rb(60,"label",27),b.Ic(61,"Building"),b.Qb(),b.Mb(62,"input",32),b.Qb(),b.Qb(),b.Rb(63,"div",31),b.Rb(64,"div",14),b.Rb(65,"label",27),b.Ic(66,"Street"),b.Qb(),b.Mb(67,"input",33),b.Qb(),b.Qb(),b.Rb(68,"div",31),b.Rb(69,"div",14),b.Rb(70,"label",27),b.Ic(71,"Barangay"),b.Qb(),b.Mb(72,"input",34),b.Qb(),b.Qb(),b.Qb(),b.Rb(73,"div",4),b.Rb(74,"div",31),b.Rb(75,"div",14),b.Rb(76,"label",27),b.Ic(77,"Region"),b.Qb(),b.Rb(78,"ng-select",35),b.bc("change",function(){return t.selectRegion()}),b.Qb(),b.Gc(79,k,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(80,"div",31),b.Rb(81,"div",14),b.Rb(82,"label",27),b.Ic(83,"Province"),b.Qb(),b.Mb(84,"ng-select",36),b.Gc(85,x,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(86,"div",31),b.Rb(87,"div",14),b.Rb(88,"label",27),b.Ic(89,"City"),b.Qb(),b.Mb(90,"ng-select",37),b.Gc(91,P,2,0,"p",17),b.Qb(),b.Qb(),b.Rb(92,"div",31),b.Rb(93,"div",14),b.Rb(94,"label",27),b.Ic(95,"Country"),b.Qb(),b.Mb(96,"ng-select",38),b.Gc(97,B,2,0,"p",17),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(98,"div",39),b.Rb(99,"button",40),b.bc("click",function(){return t.reLogin()}),b.Ic(100,"Re-Login"),b.Qb(),b.Rb(101,"button",41),b.bc("click",function(){return t.nextStep(1)}),b.Ic(102,"Continue"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(103,"aw-wizard-step",42),b.Gc(104,W,243,35,"ng-template",null,43,b.Hc),b.Rb(106,"div",44),b.Rb(107,"table",45),b.Rb(108,"thead"),b.Rb(109,"tr",46),b.Rb(110,"th"),b.Rb(111,"button",47),b.bc("click",function(){b.xc(r);var e=b.vc(105);return t.openXlModal(e)}),b.Mb(112,"i",48),b.Qb(),b.Qb(),b.Rb(113,"th",49),b.Ic(114,"Branch Name"),b.Qb(),b.Rb(115,"th",49),b.Ic(116,"Industry"),b.Qb(),b.Qb(),b.Qb(),b.Rb(117,"tbody"),b.Gc(118,H,8,2,"tr",50),b.Qb(),b.Qb(),b.Gc(119,K,2,0,"p",17),b.Qb(),b.Rb(120,"div",39),b.Rb(121,"button",51),b.bc("click",function(){return t.prevStep()}),b.Ic(122,"Back"),b.Qb(),b.Rb(123,"button",52),b.bc("click",function(e){return t.submit(e)}),b.Mb(124,"i",53),b.Ic(125),b.Qb(),b.Rb(126,"button",54),b.Ic(127),b.Qb(),b.Qb(),b.Qb(),b.Rb(128,"aw-wizard-step",55),b.Rb(129,"div",56),b.Mb(130,"i",57),b.Rb(131,"h3",58),b.Ic(132,"Thank you !"),b.Qb(),b.Rb(133,"p",59),b.Ic(134,"We are excited to tell you that you are now part of a powerful HCM system. Please login to proceed to our system."),b.Qb(),b.Qb(),b.Rb(135,"div",39),b.Rb(136,"button",51),b.bc("click",function(){return t.prevStep()}),b.Ic(137,"Back"),b.Qb(),b.Rb(138,"button",41),b.bc("click",function(){return t.finishFunction()}),b.Ic(139,"Login"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()}2&e&&(b.jc("ngIf",t.loader),b.yb(11),b.Jc(t.Title),b.yb(4),b.jc("formGroup",t.companyForm),b.yb(9),b.jc("ngIf",t.errCompanyName),b.yb(14),b.jc("ngIf",t.errCompanyCode),b.yb(3),b.jc("src",t.url,b.zc),b.yb(11),b.jc("ngIf",t.errZipCode),b.yb(26),b.jc("items",t.region),b.yb(1),b.jc("ngIf",t.errRegion),b.yb(5),b.jc("items",t.province),b.yb(1),b.jc("ngIf",t.errProvince),b.yb(5),b.jc("items",t.companyCity),b.yb(1),b.jc("ngIf",t.errCity),b.yb(5),b.jc("items",t.country),b.yb(1),b.jc("ngIf",t.errCountry),b.yb(21),b.jc("ngForOf",t.branchList),b.yb(1),b.jc("ngIf",t.errBranchList),b.yb(6),b.Kc(" ",t.submitText," "),b.yb(1),b.jc("swal",b.mc(20,$)),b.yb(1),b.Kc(" ",t.submitText," "))},directives:[m.n,p.f,p.g,l.s,l.j,l.e,l.b,l.i,l.d,f.a,m.m,v.a,g.a,y.a],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),Y),ee=n("PSD3"),te=n.n(ee),re=n("u0Dx");function ie(e,t){1&e&&(b.Rb(0,"div",26),b.Mb(1,"div",27),b.Qb())}function ne(e,t){if(1&e&&(b.Rb(0,"p",28),b.Ic(1),b.Qb()),2&e){var r=b.dc();b.yb(1),b.Jc(r.error)}}function oe(e,t){if(1&e&&(b.Rb(0,"p",28),b.Ic(1),b.Qb()),2&e){var r=b.dc();b.yb(1),b.Jc(r.httperror)}}function ae(e,t){1&e&&b.Mb(0,"span",29)}var ce,se=((ce=function(){function t(r,i,n,o,a){e(this,t),this.fb=r,this.register=i,this.service=n,this.router=o,this.route=a,this.isSignup=!0,this.disSubmit=!1,this.submitText="Login",this.error="",this.httperror="",this.loader=!0,this.httpvalidate=!1,this.type="password",this.loginForm=this.fb.group({username:["",l.q.required],password:["",l.q.required],company_code:["",l.q.required]})}return r(t,[{key:"ngOnInit",value:function(){var e=this;if(sessionStorage.clear(),this.id=this.route.snapshot.paramMap.get("id"),""===this.id||null===this.id)this.loader=!1;else{var t={id:this.route.snapshot.paramMap.get("id")};this.register.verifyUser(t).subscribe(function(t){0===t.id?te.a.fire("Failed!","Email can't be verified!","error"):te.a.fire("Email Verify!","Email verified. You can now login!","success"),e.loader=!1},function(e){console.log(e.error)})}}},{key:"login",value:function(){var e=this;this.disSubmit=!0,this.submitText="Loading ...",this.httperror="",this.service.authenticateUser(this.loginForm.value).subscribe(function(t){"0"===t.id?(e.httpvalidate=!0,e.httperror=t.type,e.disSubmit=!1,e.submitText="Login"):(e.service.saveToken(t),"/company-setup"!==t.routing?t.is_pw_changed?(e.router.navigate([t.routing]),e.disSubmit=!1,e.submitText="Login"):(e.router.navigate([t.routing+"/"+t.id]),e.disSubmit=!1,e.submitText="Login"):(e.router.navigate([t.routing]),e.disSubmit=!1,e.submitText="Login"))},function(t){console.log(t.error),e.httperror="Can't connect on our system..",e.disSubmit=!1,e.submitText="Login"})}},{key:"toggle",value:function(){this.type="text"===this.type?"password":"text"}},{key:"validate",get:function(){var e,t,r,i,n,o,a,c,s=!1;return(null===(e=this.loginForm.get("username"))||void 0===e?void 0:e.errors)&&(null===(t=this.loginForm.get("username"))||void 0===t?void 0:t.touched)&&(null===(r=this.loginForm.get("password"))||void 0===r?void 0:r.errors)&&(null===(i=this.loginForm.get("password"))||void 0===i?void 0:i.touched)?(s=!0,this.error="Username and Password is required!"):(null===(n=this.loginForm.get("username"))||void 0===n?void 0:n.errors)&&(null===(o=this.loginForm.get("username"))||void 0===o?void 0:o.touched)?(s=!0,this.error="Username is required!"):(null===(a=this.loginForm.get("password"))||void 0===a?void 0:a.errors)&&(null===(c=this.loginForm.get("password"))||void 0===c?void 0:c.touched)?(s=!0,this.error="Password is required!"):this.error="",!0===s?(this.httpvalidate=!1,this.httperror=""):this.httpvalidate=""!==this.httperror,s}}]),t}()).\u0275fac=function(e){return new(e||ce)(b.Lb(l.c),b.Lb(o.a),b.Lb(re.a),b.Lb(d.c),b.Lb(d.a))},ce.\u0275cmp=b.Fb({type:ce,selectors:[["app-login"]],decls:36,vars:8,consts:[["class","spinner-wrapper full-screen",4,"ngIf"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-2","pl-md-0"],[1,"col-md-8","pl-md-0"],[1,"auth-form-wrapper","px-4","py-5",2,"border-style","solid","border-width","thin","border-spacing","15px","border-collapse","separate"],["src","../../../assets/images/logo.png","width","280px",1,"noble-ui-logo","d-block","mb-2"],[1,"text-muted","font-weight-normal","mb-4"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","formControlName","company_code","placeholder","Company Code",1,"form-control"],["type","text","formControlName","username","placeholder","Email",1,"form-control"],["for","exampleInputPassword1"],[1,"input-group"],["formControlName","password","autocomplete","current-password","placeholder","Password",1,"form-control",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","eye","appFeatherIcon","",1,"text-secondary"],[1,"form-check","form-check-flat","form-check-primary"],["class","text-danger mt-1",4,"ngIf"],[1,"mt-3"],["type","button","type","submit",1,"btn","btn-primary","mr-2","mb-2","mb-md-0",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"spinner-wrapper","full-screen"],[1,"spinner"],[1,"text-danger","mt-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(b.Gc(0,ie,2,0,"div",0),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"div",3),b.Rb(4,"div",4),b.Mb(5,"div",5),b.Rb(6,"div",6),b.Rb(7,"div",7),b.Mb(8,"img",8),b.Rb(9,"h5",9),b.Ic(10,"Welcome back! Log in to your account."),b.Qb(),b.Rb(11,"form",10),b.bc("ngSubmit",function(){return t.login()}),b.Rb(12,"div",11),b.Rb(13,"label",12),b.Ic(14,"Company Code"),b.Qb(),b.Mb(15,"input",13),b.Qb(),b.Rb(16,"div",11),b.Rb(17,"label",12),b.Ic(18,"Username"),b.Qb(),b.Mb(19,"input",14),b.Qb(),b.Rb(20,"div",11),b.Rb(21,"label",15),b.Ic(22,"Password"),b.Qb(),b.Rb(23,"div",16),b.Mb(24,"input",17),b.Rb(25,"div",18),b.Rb(26,"button",19),b.bc("click",function(){return t.toggle()}),b.Mb(27,"i",20),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(28,"div",21),b.Gc(29,ne,2,1,"p",22),b.Gc(30,oe,2,1,"p",22),b.Qb(),b.Rb(31,"div",23),b.Rb(32,"button",24),b.Gc(33,ae,1,0,"span",25),b.Ic(34),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Mb(35,"div",5),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.jc("ngIf",t.loader),b.yb(11),b.jc("formGroup",t.loginForm),b.yb(13),b.kc("type",t.type),b.yb(5),b.jc("ngIf",t.validate),b.yb(1),b.jc("ngIf",t.httpvalidate),b.yb(2),b.jc("disabled",t.disSubmit),b.yb(1),b.jc("ngIf",t.disSubmit),b.yb(1),b.Kc(" ",t.submitText," "))},directives:[m.n,l.s,l.j,l.e,l.b,l.i,l.d,g.a],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),ce);function be(e,t){1&e&&(b.Rb(0,"div",24),b.Mb(1,"div",25),b.Qb())}function le(e,t){if(1&e&&(b.Rb(0,"p",26),b.Ic(1),b.Qb()),2&e){var r=b.dc();b.yb(1),b.Jc(r.error)}}function de(e,t){1&e&&b.Mb(0,"span",27)}var ue,he,me=((he=function(){function t(r,i,n){e(this,t),this.fb=r,this.service=i,this.router=n,this.error="",this.loader=!0,this.disSubmit=!1,this.submitText="Sign Up",this.registerForm=this.fb.group({Username:["",l.q.required],email_address:["",l.q.required],Password:["",l.q.required]})}return r(t,[{key:"ngOnInit",value:function(){this.loader=!1}},{key:"register",value:function(){var e=this;this.disSubmit=!0,this.submitText="Loading ...",this.service.registerUser(this.registerForm.value).subscribe(function(t){0===t.id?te.a.fire("Failed!",t.description,"error"):(e.router.navigate(["/login"]),e.disSubmit=!1,e.submitText="Sign Up")},function(e){console.log(e.error)})}},{key:"validate",get:function(){var e,t,r,i,n,o,a,c,s,b,l,d,u=!1;(null===(e=this.registerForm.get("Username"))||void 0===e?void 0:e.errors)&&(null===(t=this.registerForm.get("Username"))||void 0===t?void 0:t.touched)&&(null===(r=this.registerForm.get("email_address"))||void 0===r?void 0:r.errors)&&(null===(i=this.registerForm.get("email_address"))||void 0===i?void 0:i.touched)&&(null===(n=this.registerForm.get("Password"))||void 0===n?void 0:n.errors)&&(null===(o=this.registerForm.get("Password"))||void 0===o?void 0:o.touched)?(u=!0,this.error="Username, Password and Email Address is required!"):(null===(a=this.registerForm.get("Username"))||void 0===a?void 0:a.errors)&&(null===(c=this.registerForm.get("Username"))||void 0===c?void 0:c.touched)?(u=!0,this.error="Username is required!"):(null===(s=this.registerForm.get("email_address"))||void 0===s?void 0:s.errors)&&(null===(b=this.registerForm.get("email_address"))||void 0===b?void 0:b.touched)?(u=!0,this.error="Email Address is required!"):(null===(l=this.registerForm.get("Password"))||void 0===l?void 0:l.errors)&&(null===(d=this.registerForm.get("Password"))||void 0===d?void 0:d.touched)&&(u=!0,this.error="Password is required!");var h=/\d/.test(this.registerForm.get("Password").value),m=(/[a-z]/.test(this.registerForm.get("Password").value),/[A-Z]/.test(this.registerForm.get("Password").value));return/\W/.test(this.registerForm.get("Password").value),h||(this.error="Password needs to have atleast one number!",u=!0),m||(this.error="Password needs to have atleast one upper case letter!",u=!0),this.registerForm.get("Password").value.length<8?(this.error="Password needs to have a minimum of eight characters!",u=!0):this.error="",u}}]),t}()).\u0275fac=function(e){return new(e||he)(b.Lb(l.c),b.Lb(o.a),b.Lb(d.c))},he.\u0275cmp=b.Fb({type:he,selectors:[["app-register"]],decls:35,vars:6,consts:[["class","spinner-wrapper full-screen",4,"ngIf"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-4","pr-md-0"],[1,"auth-left-wrapper"],[1,"col-md-8","pl-md-0"],[1,"auth-form-wrapper","px-4","py-5"],["routerLink",".",1,"noble-ui-logo","d-block","mb-2"],[1,"text-muted","font-weight-normal","mb-4"],[1,"forms-sample",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputUsername1"],["type","text","formControlName","Username","autocomplete","Username","placeholder","Username",1,"form-control"],["for","exampleInputEmail1"],["type","email","formControlName","email_address","placeholder","Email",1,"form-control"],["for","exampleInputPassword1"],["type","password","formControlName","Password","autocomplete","current-password","placeholder","Password",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"mt-3"],["type","button","type","submit",1,"btn","btn-primary","mr-2","mb-2","mb-md-0",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["routerLink","/login",1,"d-block","mt-3","text-muted"],[1,"spinner-wrapper","full-screen"],[1,"spinner"],[1,"text-danger","mt-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(b.Gc(0,be,2,0,"div",0),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"div",3),b.Rb(4,"div",4),b.Rb(5,"div",5),b.Mb(6,"div",6),b.Qb(),b.Rb(7,"div",7),b.Rb(8,"div",8),b.Rb(9,"a",9),b.Ic(10,"Durust"),b.Rb(11,"span"),b.Ic(12,"HR"),b.Qb(),b.Qb(),b.Rb(13,"h5",10),b.Ic(14,"Create a free account."),b.Qb(),b.Rb(15,"form",11),b.bc("ngSubmit",function(){return t.register()}),b.Rb(16,"div",12),b.Rb(17,"label",13),b.Ic(18,"Username"),b.Qb(),b.Mb(19,"input",14),b.Qb(),b.Rb(20,"div",12),b.Rb(21,"label",15),b.Ic(22,"Email address"),b.Qb(),b.Mb(23,"input",16),b.Qb(),b.Rb(24,"div",12),b.Rb(25,"label",17),b.Ic(26,"Password"),b.Qb(),b.Mb(27,"input",18),b.Qb(),b.Gc(28,le,2,1,"p",19),b.Rb(29,"div",20),b.Rb(30,"button",21),b.Gc(31,de,1,0,"span",22),b.Ic(32),b.Qb(),b.Qb(),b.Rb(33,"a",23),b.Ic(34,"Already a user? Sign in"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.jc("ngIf",t.loader),b.yb(15),b.jc("formGroup",t.registerForm),b.yb(13),b.jc("ngIf",t.validate),b.yb(2),b.jc("disabled",t.disSubmit),b.yb(1),b.jc("ngIf",t.disSubmit),b.yb(1),b.Kc(" ",t.submitText," "))},directives:[m.n,d.f,l.s,l.j,l.e,l.b,l.i,l.d],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),he),pe=((ue=function(){function t(){e(this,t)}return r(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||ue)},ue.\u0275cmp=b.Fb({type:ue,selectors:[["app-auth"]],decls:1,vars:0,template:function(e,t){1&e&&b.Mb(0,"router-outlet")},directives:[d.h],encapsulation:2}),ue),fe=n("ltvU");function ve(e,t){1&e&&(b.Rb(0,"p",20),b.Ic(1,"Username is needed!"),b.Qb())}function ge(e,t){1&e&&(b.Rb(0,"p",20),b.Ic(1,"Password is needed!"),b.Qb())}var ye,Re,Qe=((ye=function(){function t(r,i,n){e(this,t),this.router=r,this.fb=i,this.userManagement=n,this.type="password",this.errUsername=!1,this.errPassword=!1,this.strError=""}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.verifyForm=this.fb.group({username:"",password:""}),this.userManagement.profileView(sessionStorage.getItem("u")).subscribe(function(t){e.verifyForm.setValue({username:t[0].user_name,password:t[0].decrypted_user_hash})},function(e){console.log(e.error)})}},{key:"toggle",value:function(){this.type="text"===this.type?"password":"text"}},{key:"validation",value:function(){var e=!0;if(this.errUsername=!1,this.errPassword=!1,this.strError="",""!=this.verifyForm.get("username").value&&null!==this.verifyForm.get("username").value||(e=!1,this.errUsername=!0),""===this.verifyForm.get("password").value||null===this.verifyForm.get("password").value)e=!1,this.errPassword=!0;else{var t={digits:/\d/.test(this.verifyForm.get("password").value),lower:/[a-z]/.test(this.verifyForm.get("password").value),upper:/[A-Z]/.test(this.verifyForm.get("password").value),nonWords:/\W/.test(this.verifyForm.get("password").value)};t.digits||(this.strError="Password needs to have atleast one number!",e=!1),t.upper||(this.strError="Password needs to have atleast one upper case letter!",e=!1),this.verifyForm.get("password").value.length<8&&(this.strError="Password needs to have a minimum of eight characters!",e=!1)}return e}},{key:"onVerify",value:function(){var e=this;this.validation()&&te.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&te.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){te.a.showLoading();var t={employee_id:sessionStorage.getItem("u"),user_name:e.verifyForm.get("username").value,user_hash:e.verifyForm.get("password").value,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")};e.userManagement.credentialU(t).subscribe(function(t){0===t?te.a.fire("Failed!","Transaction failed!","error"):(te.a.fire("Ok!","Credentials has been updated. Please relogin!","success"),sessionStorage.removeItem("token"),sessionStorage.getItem("token")||e.router.navigate(["login"]))},function(e){console.log(e.error),te.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"reLogin",value:function(){this.router.navigate(["login"])}}]),t}()).\u0275fac=function(e){return new(e||ye)(b.Lb(d.c),b.Lb(l.c),b.Lb(fe.a))},ye.\u0275cmp=b.Fb({type:ye,selectors:[["app-verify-password"]],decls:36,vars:5,consts:[[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-6","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-4","pr-md-0"],[1,"auth-left-wrapper"],[1,"col-md-8","pl-md-0"],[1,"auth-form-wrapper","px-4","py-5"],["routerLink",".",1,"noble-ui-logo","d-block","mb-2"],[1,"text-muted","font-weight-normal","mb-4"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["type","text","formControlName","username","autocomplete","Username","placeholder","Username",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","exampleInputPassword1"],[1,"input-group"],["formControlName","password","autocomplete","current-password","placeholder","Password",1,"form-control",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","eye","appFeatherIcon","",1,"text-secondary"],[1,"text-danger","mt-1"],[1,"mt-3"],["type","button",1,"btn","btn-light","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","mr-2","mb-2","mb-md-0",3,"click"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"div",3),b.Rb(4,"div",4),b.Mb(5,"div",5),b.Qb(),b.Rb(6,"div",6),b.Rb(7,"div",7),b.Rb(8,"a",8),b.Ic(9,"Durust"),b.Rb(10,"span"),b.Ic(11,"HR"),b.Qb(),b.Qb(),b.Rb(12,"h5",9),b.Ic(13,"Change your credentials."),b.Qb(),b.Rb(14,"form",10),b.Rb(15,"div",11),b.Rb(16,"label"),b.Ic(17,"Username"),b.Qb(),b.Mb(18,"input",12),b.Qb(),b.Gc(19,ve,2,0,"p",13),b.Rb(20,"div",11),b.Rb(21,"label",14),b.Ic(22,"Password"),b.Qb(),b.Rb(23,"div",15),b.Mb(24,"input",16),b.Rb(25,"div",17),b.Rb(26,"button",18),b.bc("click",function(){return t.toggle()}),b.Mb(27,"i",19),b.Qb(),b.Qb(),b.Qb(),b.Gc(28,ge,2,0,"p",13),b.Rb(29,"p",20),b.Ic(30),b.Qb(),b.Qb(),b.Rb(31,"div",21),b.Rb(32,"button",22),b.bc("click",function(){return t.reLogin()}),b.Ic(33,"Back"),b.Qb(),b.Rb(34,"button",23),b.bc("click",function(){return t.onVerify()}),b.Ic(35,"Save Changes"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.yb(14),b.jc("formGroup",t.verifyForm),b.yb(5),b.jc("ngIf",t.errUsername),b.yb(5),b.kc("type",t.type),b.yb(4),b.jc("ngIf",t.errPassword),b.yb(2),b.Jc(t.strError))},directives:[d.f,l.s,l.j,l.e,l.b,l.i,l.d,m.n,g.a],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]}),ye),Ie=n("tyVc"),Ce=[{path:"",component:pe,children:[{path:"",redirectTo:"login/",pathMatch:"full"},{path:"login",redirectTo:"login/",pathMatch:"full"},{path:"login/:id",component:se},{path:"register",component:me},{path:"company-setup",component:X,canActivate:[a.a]},{path:"verify-password",redirectTo:"verify-password/",pathMatch:"full"},{path:"verify-password/:id",component:Qe,canActivate:[a.a]}]}],Fe=((Re=function t(){e(this,t)}).\u0275mod=b.Jb({type:Re}),Re.\u0275inj=b.Ib({factory:function(e){return new(e||Re)},providers:[o.a],imports:[[d.g.forChild(Ce),l.p,p.a,m.c,l.f,f.b,y.b.forRoot({validation:!0}),v.b.forRoot(),Ie.a]]}),Re)}}])}();