(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"8USl":function(e,t,i){"use strict";i.r(t),i.d(t,"AdministrationModule",function(){return qa});var a=i("PSD3"),r=i.n(a),n=i("fXoL"),o=i("Txdn"),s=i("/oZC"),c=i("CTYy"),b=i("ofXK"),l=i("tyNb"),d=i("ZOsW"),h=i("3Pt+"),u=i("IYwT"),p=i("QJFE");function m(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function f(e,t){1&e&&(n.Rb(0,"p",32),n.Ic(1,"Please select group!"),n.Qb())}function g(e,t){1&e&&(n.Rb(0,"p",32),n.Ic(1,"Please select type!"),n.Qb())}function v(e,t){1&e&&(n.Rb(0,"p",32),n.Ic(1,"Please select payroll type!"),n.Qb())}function y(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",17),n.Rb(1,"div",18),n.Rb(2,"label",19),n.Ic(3,"Payroll Type"),n.Qb(),n.Rb(4,"ng-select",33),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).selectedPayrollType=t})("change",function(){return n.xc(e),n.dc(2).selectedTable()}),n.Qb(),n.Gc(5,v,2,0,"p",21),n.Qb(),n.Qb()}if(2&e){const e=n.dc(2);n.yb(4),n.jc("items",e.payrollType)("ngModel",e.selectedPayrollType),n.yb(1),n.jc("ngIf",e.errPayroll)}}function R(e,t){if(1&e){const e=n.Sb();n.Rb(0,"thead"),n.Rb(1,"tr"),n.Rb(2,"th"),n.Ic(3,"Range From"),n.Qb(),n.Rb(4,"th"),n.Ic(5,"Range To"),n.Qb(),n.Rb(6,"th"),n.Ic(7,"Salary Base"),n.Qb(),n.Rb(8,"th"),n.Ic(9,"Employee Share"),n.Qb(),n.Rb(10,"th"),n.Ic(11,"Employer Share"),n.Qb(),n.Rb(12,"th"),n.Ic(13,"EC"),n.Qb(),n.Rb(14,"th"),n.Ic(15,"MPF Employee Share"),n.Qb(),n.Rb(16,"th"),n.Ic(17,"MPF Employer Share"),n.Qb(),n.Rb(18,"th"),n.Rb(19,"button",34),n.bc("click",function(){return n.xc(e),n.dc(2).add()}),n.Mb(20,"i",35),n.Qb(),n.Qb(),n.Qb(),n.Qb()}}function Q(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Mb(2,"input",37),n.ec(3,"number"),n.Qb(),n.Rb(4,"td"),n.Mb(5,"input",37),n.ec(6,"number"),n.Qb(),n.Rb(7,"td"),n.Mb(8,"input",37),n.ec(9,"number"),n.Qb(),n.Rb(10,"td"),n.Mb(11,"input",37),n.ec(12,"number"),n.Qb(),n.Rb(13,"td"),n.Mb(14,"input",37),n.ec(15,"number"),n.Qb(),n.Rb(16,"td"),n.Mb(17,"input",37),n.ec(18,"number"),n.Qb(),n.Rb(19,"td"),n.Mb(20,"input",37),n.ec(21,"number"),n.Qb(),n.Rb(22,"td"),n.Mb(23,"input",37),n.ec(24,"number"),n.Qb(),n.Rb(25,"td"),n.Rb(26,"button",38),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(3).remove(i)}),n.Mb(27,"i",39),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.kc("value",n.gc(3,8,e.range_from,"1.4-4")),n.yb(3),n.kc("value",n.gc(6,11,e.range_to,"1.4-4")),n.yb(3),n.kc("value",n.gc(9,14,e.salary_base,"1.4-4")),n.yb(3),n.kc("value",n.gc(12,17,e.employee_share,"1.4-4")),n.yb(3),n.kc("value",n.gc(15,20,e.employer_share,"1.4-4")),n.yb(3),n.kc("value",n.gc(18,23,e.employee_compensation,"1.4-4")),n.yb(3),n.kc("value",n.gc(21,26,e.employee_mpf,"1.4-4")),n.yb(3),n.kc("value",n.gc(24,29,e.employer_mpf,"1.4-4"))}}function _(e,t){if(1&e&&(n.Rb(0,"tbody"),n.Gc(1,Q,28,32,"tr",36),n.Qb()),2&e){const e=n.dc(2);n.yb(1),n.jc("ngForOf",e.table)}}function I(e,t){if(1&e){const e=n.Sb();n.Rb(0,"thead"),n.Rb(1,"tr"),n.Rb(2,"th"),n.Ic(3,"Minimum"),n.Qb(),n.Rb(4,"th"),n.Ic(5,"Maximum"),n.Qb(),n.Rb(6,"th"),n.Ic(7,"Premium Rate"),n.Qb(),n.Rb(8,"th"),n.Rb(9,"button",34),n.bc("click",function(){return n.xc(e),n.dc(2).add()}),n.Mb(10,"i",35),n.Qb(),n.Qb(),n.Qb(),n.Qb()}}function k(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Rb(2,"input",40),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"minimum",i)}),n.ec(3,"number"),n.Qb(),n.Qb(),n.Rb(4,"td"),n.Rb(5,"input",40),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"maximum",i)}),n.ec(6,"number"),n.Qb(),n.Qb(),n.Rb(7,"td"),n.Rb(8,"input",40),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"premium_rate",i)}),n.ec(9,"number"),n.Qb(),n.Qb(),n.Mb(10,"td"),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.kc("value",n.gc(3,3,e.minimum,"1.4-4")),n.yb(3),n.kc("value",n.gc(6,6,e.maximum,"1.4-4")),n.yb(3),n.kc("value",n.gc(9,9,e.premium_rate,"1.4-4"))}}function D(e,t){if(1&e&&(n.Rb(0,"tbody"),n.Gc(1,k,11,12,"tr",36),n.Qb()),2&e){const e=n.dc(2);n.yb(1),n.jc("ngForOf",e.table)}}function C(e,t){if(1&e){const e=n.Sb();n.Rb(0,"thead"),n.Rb(1,"tr"),n.Rb(2,"th"),n.Ic(3,"Range From"),n.Qb(),n.Rb(4,"th"),n.Ic(5,"Range To"),n.Qb(),n.Rb(6,"th"),n.Ic(7,"Share Type"),n.Qb(),n.Rb(8,"th"),n.Ic(9,"Employee Share"),n.Qb(),n.Rb(10,"th"),n.Ic(11,"Employer Share"),n.Qb(),n.Rb(12,"th"),n.Rb(13,"button",34),n.bc("click",function(){return n.xc(e),n.dc(2).add()}),n.Mb(14,"i",35),n.Qb(),n.Qb(),n.Qb(),n.Qb()}}function F(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Rb(2,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"range_from",i)}),n.ec(3,"number"),n.Qb(),n.Qb(),n.Rb(4,"td"),n.Rb(5,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"range_to",i)}),n.ec(6,"number"),n.Qb(),n.Qb(),n.Rb(7,"td"),n.Rb(8,"ng-select",42),n.bc("ngModelChange",function(e){return t.$implicit.share_type_id=e})("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChangeSelect(a,i)}),n.Qb(),n.Qb(),n.Rb(9,"td"),n.Rb(10,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"employee_share",i)}),n.ec(11,"number"),n.Qb(),n.Qb(),n.Rb(12,"td"),n.Rb(13,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"employer_share",i)}),n.ec(14,"number"),n.Qb(),n.Qb(),n.Rb(15,"td"),n.Rb(16,"button",38),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(3).remove(i)}),n.Mb(17,"i",39),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit,i=n.dc(3);n.yb(2),n.kc("value",n.gc(3,6,e.range_from,"1.4-4")),n.yb(3),n.kc("value",n.gc(6,9,e.range_to,"1.4-4")),n.yb(3),n.jc("items",i.pagibigType)("ngModel",e.share_type_id),n.yb(2),n.kc("value",n.gc(11,12,e.employee_share,"1.4-4")),n.yb(3),n.kc("value",n.gc(14,15,e.employer_share,"1.4-4"))}}function M(e,t){if(1&e&&(n.Rb(0,"tbody"),n.Gc(1,F,18,18,"tr",36),n.Qb()),2&e){const e=n.dc(2);n.yb(1),n.jc("ngForOf",e.table)}}function w(e,t){if(1&e){const e=n.Sb();n.Rb(0,"thead"),n.Rb(1,"tr"),n.Rb(2,"th"),n.Ic(3,"Range From"),n.Qb(),n.Rb(4,"th"),n.Ic(5,"Range To"),n.Qb(),n.Rb(6,"th"),n.Ic(7,"Salary Base"),n.Qb(),n.Rb(8,"th"),n.Ic(9,"Base Amount"),n.Qb(),n.Rb(10,"th"),n.Ic(11,"Tax Percent"),n.Qb(),n.Rb(12,"th"),n.Rb(13,"button",34),n.bc("click",function(){return n.xc(e),n.dc(2).add()}),n.Mb(14,"i",35),n.Qb(),n.Qb(),n.Qb(),n.Qb()}}function B(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Rb(2,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"range_from",i)}),n.ec(3,"number"),n.Qb(),n.Qb(),n.Rb(4,"td"),n.Rb(5,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"range_to",i)}),n.ec(6,"number"),n.Qb(),n.Qb(),n.Rb(7,"td"),n.Rb(8,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"salary_base",i)}),n.ec(9,"number"),n.Qb(),n.Qb(),n.Rb(10,"td"),n.Rb(11,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"base_amount",i)}),n.ec(12,"number"),n.Qb(),n.Qb(),n.Rb(13,"td"),n.Rb(14,"input",41),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(3).onChange(a,"tax_percentage",i)}),n.ec(15,"number"),n.Qb(),n.Qb(),n.Rb(16,"td"),n.Rb(17,"button",38),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(3).remove(i)}),n.Mb(18,"i",39),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.kc("value",n.gc(3,5,e.range_from,"1.4-4")),n.yb(3),n.kc("value",n.gc(6,8,e.range_to,"1.4-4")),n.yb(3),n.kc("value",n.gc(9,11,e.salary_base,"1.4-4")),n.yb(3),n.kc("value",n.gc(12,14,e.base_amount,"1.4-4")),n.yb(3),n.kc("value",n.gc(15,17,e.tax_percentage,"1.4-4"))}}function T(e,t){if(1&e&&(n.Rb(0,"tbody"),n.Gc(1,B,19,20,"tr",36),n.Qb()),2&e){const e=n.dc(2);n.yb(1),n.jc("ngForOf",e.table)}}const O=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function L(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Contribution Table"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Contribution Table"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(17,"hr"),n.Rb(18,"div",10),n.Rb(19,"div",16),n.Rb(20,"div",17),n.Rb(21,"div",18),n.Rb(22,"label",19),n.Ic(23,"Contribution Group"),n.Qb(),n.Rb(24,"ng-select",20),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().selectedGroup=t})("change",function(){return n.xc(e),n.dc().selectedTable()}),n.Qb(),n.Gc(25,f,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(26,"div",17),n.Rb(27,"div",18),n.Rb(28,"label",19),n.Ic(29,"Contribution Type"),n.Qb(),n.Rb(30,"ng-select",22),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().selectedContribution=t})("change",function(){return n.xc(e),n.dc().selectedTable()}),n.Qb(),n.Gc(31,g,2,0,"p",21),n.Qb(),n.Qb(),n.Gc(32,y,6,3,"div",23),n.Rb(33,"ul",24),n.Rb(34,"button",25),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(35,"i",26),n.Ic(36," Save Changes "),n.Qb(),n.Mb(37,"button",27),n.Qb(),n.Qb(),n.Rb(38,"div",28),n.Rb(39,"div",29),n.Rb(40,"table",30),n.Gc(41,R,21,0,"thead",31),n.Gc(42,_,2,1,"tbody",31),n.Gc(43,I,11,0,"thead",31),n.Gc(44,D,2,1,"tbody",31),n.Gc(45,C,15,0,"thead",31),n.Gc(46,M,2,1,"tbody",31),n.Gc(47,w,15,0,"thead",31),n.Gc(48,T,2,1,"tbody",31),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(24),n.jc("items",e.groupList)("ngModel",e.selectedGroup),n.yb(1),n.jc("ngIf",e.errGroup),n.yb(5),n.jc("items",e.contributionType)("ngModel",e.selectedContribution),n.yb(1),n.jc("ngIf",e.errType),n.yb(1),n.jc("ngIf",e.isTax),n.yb(5),n.jc("swal",n.mc(16,O)),n.yb(4),n.jc("ngIf",e.tblSSS),n.yb(1),n.jc("ngIf",e.tblSSS),n.yb(1),n.jc("ngIf",e.tblPhilhealth),n.yb(1),n.jc("ngIf",e.tblPhilhealth),n.yb(1),n.jc("ngIf",e.tblPagibig),n.yb(1),n.jc("ngIf",e.tblPagibig),n.yb(1),n.jc("ngIf",e.tblTax),n.yb(1),n.jc("ngIf",e.tblTax)}}let S=(()=>{class e{constructor(e,t,i){this.tenantDefaultService=e,this.tenantMasterService=t,this.payrollRatesService=i,this.isLoading=!1,this.contributionType=[],this.groupList=[],this.pagibigType=[],this.payrollType=[],this.table=[],this.tblSSS=!1,this.tblPagibig=!1,this.tblPhilhealth=!1,this.tblTax=!1,this.errGroup=!1,this.errType=!1,this.errPayroll=!1,this.isTax=!1}ngOnInit(){this.tenantDefaultService.dropdownTList("22").subscribe(e=>{this.groupList=e,this.tenantMasterService.dropdownList("23").subscribe(e=>{this.contributionType=e,this.tenantMasterService.dropdownList("48").subscribe(e=>{this.pagibigType=e,this.tenantMasterService.dropdownList("49").subscribe(e=>{this.payrollType=e,this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)})},e=>{console.log(e.error)})},e=>{console.log(e.error)})}onChange(e,t,i){this.table[e][t]=i.target.value}onChangeSelect(e,t){this.table[e].share_type_id=t.id}add(){switch(this.selectedContribution){case 48:this.table.push({range_from:0,range_to:0,salary_base:0,employee_share:0,employer_share:0,employee_compensation:0,employee_mpf:0,employer_mpf:0});break;case 49:this.table.push({range_from:0,range_to:0,share_type_id:null,employee_share:0,employer_share:0});break;case 50:this.table.push({maximum:0,minimum:0,premium_rate:0});break;default:this.table.push({range_from:0,range_to:0,salary_base:null,base_amount:0,tax_percentage:0})}}remove(e){this.table.splice(e,1)}selectedTable(){if(this.table=[],this.tblSSS=!1,this.tblPagibig=!1,this.tblPhilhealth=!1,this.tblTax=!1,this.isTax=!1,null!=this.selectedContribution&&null!=this.selectedGroup)switch(this.selectedContribution){case 48:this.tblSSS=!0,this.payrollRatesService.sssView(this.selectedGroup).subscribe(e=>{e.length>0?this.table=e:this.tenantMasterService.sssView().subscribe(e=>{this.table=e},e=>{console.log(e.error)})},e=>{console.log(e.error)});break;case 49:this.tblPagibig=!0,this.payrollRatesService.pagibigView(this.selectedGroup).subscribe(e=>{e.length>0?this.table=e:this.tenantMasterService.pagibigView().subscribe(e=>{this.table=e},e=>{console.log(e.error)})},e=>{console.log(e.error)});break;case 50:this.tblPhilhealth=!0,this.payrollRatesService.philhealthView(this.selectedGroup).subscribe(e=>{e.length>0?this.table=e:this.tenantMasterService.philhealthView().subscribe(e=>{this.table=e},e=>{console.log(e.error)})},e=>{console.log(e.error)});break;default:this.tblTax=!0,this.isTax=!0,null!=this.selectedPayrollType&&this.payrollRatesService.taxView(this.selectedGroup,this.selectedPayrollType).subscribe(e=>{e.length>0?this.table=e:this.tenantMasterService.taxView(this.selectedPayrollType).subscribe(e=>{this.table=e},e=>{console.log(e.error)})},e=>{console.log(e.error)})}}validation(){this.errType=!1,this.errGroup=!1,this.errPayroll=!1;var e=!0;return null==this.selectedContribution&&(this.errType=!0,e=!1),null==this.selectedGroup&&(this.errGroup=!0,e=!1),this.isTax&&null==this.selectedPayrollType&&(this.errPayroll=!0,e=!1),e}submit(){this.validation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{switch(r.a.showLoading(),this.selectedContribution){case 48:this.payrollRatesService.sssIU(this.table.map(e=>({base_amount:e.base_amount,contribution_group_id:this.selectedGroup,employee_compensation:e.employee_compensation,employee_mpf:e.employee_mpf,employee_share:e.employee_share,employer_mpf:e.employer_mpf,employer_share:e.employer_share,range_from:e.range_from,range_to:e.range_to,salary_base:e.salary_base,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}))).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")});break;case 49:this.payrollRatesService.pagibigIU(this.table.map(e=>({contribution_group_id:this.selectedGroup,employee_share:e.employee_share,employer_share:e.employer_share,range_from:e.range_from,range_to:e.range_to,share_type_id:e.share_type_id,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}))).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")});break;case 50:this.payrollRatesService.philhealthIU(this.table.map(e=>({contribution_group_id:this.selectedGroup,maximum:e.maximum,minimum:e.minimum,premium_rate:e.premium_rate,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}))).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")});break;default:this.payrollRatesService.taxIU(this.table.map(e=>({contribution_group_id:this.selectedGroup,base_amount:e.base_amount,payroll_type_id:this.selectedPayrollType,range_from:e.range_from,range_to:e.range_to,salary_base:e.salary_base,tax_percentage:e.tax_percentage,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}))).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(o.a),n.Lb(s.a),n.Lb(c.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-contributions"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"col-lg-3","email-aside","border-lg-right"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","Contribution Group","bindLabel","description","bindValue","id","placeholder","Select Contribution Group",3,"items","ngModel","ngModelChange","change"],["class","text-danger mt-1",4,"ngIf"],["name","Contribution Type","bindLabel","description","bindValue","id","placeholder","Select Contribution",3,"items","ngModel","ngModelChange","change"],["class","aside-content",4,"ngIf"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],[4,"ngIf"],[1,"text-danger","mt-1"],["name","Payroll Type","bindLabel","description","bindValue","id","placeholder","Select PayrollType",3,"items","ngModel","ngModelChange","change"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[4,"ngFor","ngForOf"],["type","text","placeholder","0",1,"form-control",2,"width","110px",3,"value"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"],["type","text","placeholder","0",1,"form-control",3,"value","change"],["type","text","placeholder","0",1,"form-control",2,"width","110px",3,"value","change"],["name","Share Type","bindLabel","description","bindValue","id","placeholder","Select Share Type",2,"width","150px",3,"items","ngModel","ngModelChange","change"]],template:function(e,t){1&e&&(n.Gc(0,m,3,0,"div",0),n.Gc(1,L,49,17,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,d.a,h.i,h.l,u.a,p.a,b.m],pipes:[b.f],styles:[""]}),e})();function x(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function j(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Rb(4,"input",30),n.bc("change",function(i){n.xc(e);const a=t.index;return n.dc(2).changeRate(a,i)}),n.ec(5,"number"),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.description),n.yb(2),n.kc("value",n.gc(5,2,e.rates,"1.4-4"))}}const N=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function G(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Payroll Rates"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Payroll Rates"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(17,"hr"),n.Rb(18,"form",16),n.Rb(19,"div",10),n.Rb(20,"div",17),n.Rb(21,"div",18),n.Rb(22,"div",19),n.Rb(23,"label",20),n.Ic(24,"Rate Group"),n.Qb(),n.Rb(25,"ng-select",21),n.bc("change",function(){return n.xc(e),n.dc().selectGroup()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(26,"ul",22),n.Rb(27,"button",23),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(28,"i",24),n.Ic(29," Save Changes "),n.Qb(),n.Mb(30,"button",25),n.Qb(),n.Qb(),n.Rb(31,"div",26),n.Rb(32,"div",27),n.Rb(33,"table",28),n.Rb(34,"thead"),n.Rb(35,"tr"),n.Rb(36,"th"),n.Ic(37,"Description"),n.Qb(),n.Rb(38,"th"),n.Ic(39,"Rates %"),n.Qb(),n.Qb(),n.Qb(),n.Rb(40,"tbody"),n.Gc(41,j,6,5,"tr",29),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(18),n.jc("formGroup",e.rateForm),n.yb(7),n.jc("items",e.groupList),n.yb(5),n.jc("swal",n.mc(4,N)),n.yb(11),n.jc("ngForOf",e.rateList)}}let P=(()=>{class e{constructor(e,t,i,a){this.tenantDefaultService=e,this.tenantMasterService=t,this.fb=i,this.rateManagementService=a,this.isLoading=!0,this.groupList=[],this.defaultList=[],this.rateList=[]}ngOnInit(){this.rateForm=this.fb.group({selectedRateGroup:null}),this.tenantDefaultService.dropdownTList("25,").subscribe(e=>{this.groupList=e.filter(e=>25===e.type_id),this.tenantMasterService.rateList().subscribe(e=>{this.defaultList=e,this.rateList=e,this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)})}changeRate(e,t){this.rateList[e].rates=Number(t.target.value).toFixed(4),t.value=Number(t.target.value).toFixed(4)}selectGroup(){let e=this.rateForm.get("selectedRateGroup").value;this.rateManagementService.rateView(e).subscribe(e=>{if(e.length>0){this.rateList=e;let a=[];for(var t=0;t<e.length;t++){var i=this.defaultList.filter(i=>i.payroll_rates_id===e[t].payroll_rate_id)[0];a.push({rate_group_id:e[t].rate_group_id,payroll_rate_id:e[t].payroll_rate_id,description:i.description,rates:e[t].rates,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")})}this.rateList=a}else{let e=[];for(t=0;t<this.defaultList.length;t++)e.push({rate_group_id:this.rateForm.get("selectedRateGroup").value,payroll_rate_id:this.defaultList[t].payroll_rates_id,description:this.defaultList[t].description,rates:this.defaultList[t].rates,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")});this.rateList=e}},e=>{console.log(e.error)})}submit(){r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading(),this.rateManagementService.rateIU(this.rateList).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(o.a),n.Lb(s.a),n.Lb(h.c),n.Lb(c.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-payroll-rates"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[3,"formGroup"],[1,"col-lg-3","email-aside","border-lg-right"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","Rate Group","bindLabel","description","bindValue","id","placeholder","Select Rate Group","formControlName","selectedRateGroup",3,"items","change"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9","email-content"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],[4,"ngFor","ngForOf"],["type","text","placeholder","0",1,"form-control",3,"value","change"]],template:function(e,t){1&e&&(n.Gc(0,x,3,0,"div",0),n.Gc(1,G,42,5,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,d.a,h.i,h.d,u.a,p.a,b.m],pipes:[b.f],styles:[""]}),e})();function H(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function A(e,t){1&e&&(n.Rb(0,"p",37),n.Ic(1,"Name is needed!"),n.Qb())}function V(e,t){1&e&&(n.Rb(0,"p",37),n.Ic(1,"Type is needed!"),n.Qb())}function U(e,t){1&e&&(n.Rb(0,"p",37),n.Ic(1,"Minimum hour is needed!"),n.Qb())}function E(e,t){if(1&e&&(n.Rb(0,"div",18),n.Rb(1,"label",19),n.Ic(2,"Minimum Hour"),n.Qb(),n.Mb(3,"input",38),n.Gc(4,U,2,0,"p",21),n.Qb()),2&e){const e=n.dc(2);n.yb(4),n.jc("ngIf",e.errMinimum)}}function J(e,t){1&e&&(n.Rb(0,"p",37),n.Ic(1,"Maximum hour is needed!"),n.Qb())}function W(e,t){if(1&e&&(n.Rb(0,"div",18),n.Rb(1,"label",19),n.Ic(2,"Maximum Hour"),n.Qb(),n.Mb(3,"input",39),n.Gc(4,J,2,0,"p",21),n.Qb()),2&e){const e=n.dc(2);n.yb(4),n.jc("ngIf",e.errMaximum)}}const Y=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function q(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",7),n.Rb(7,"a",9),n.Ic(8,"Allowance/Deduction"),n.Qb(),n.Qb(),n.Rb(9,"li",10),n.Ic(10,"Detail"),n.Qb(),n.Qb(),n.Qb(),n.Rb(11,"div",11),n.Rb(12,"div",12),n.Rb(13,"div",13),n.Rb(14,"div",14),n.Rb(15,"div",15),n.Rb(16,"h6"),n.Ic(17,"Allowance/Deduction"),n.Qb(),n.Qb(),n.Rb(18,"form",16),n.Rb(19,"div",11),n.Rb(20,"div",17),n.Rb(21,"div",18),n.Rb(22,"label",19),n.Ic(23,"Name"),n.Qb(),n.Mb(24,"input",20),n.Gc(25,A,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(26,"div",17),n.Rb(27,"div",18),n.Rb(28,"label",19),n.Ic(29,"Type"),n.Qb(),n.Rb(30,"ng-select",22),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().modelChangeFn(t)}),n.Qb(),n.Gc(31,V,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(32,"div",23),n.Rb(33,"div",18),n.Rb(34,"div",18),n.Rb(35,"label",19),n.Ic(36,"\xa0"),n.Qb(),n.Rb(37,"div",24),n.Rb(38,"label",25),n.Mb(39,"input",26),n.Mb(40,"i",27),n.Ic(41," Active? "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(42,"hr"),n.Rb(43,"div",11),n.Rb(44,"div",28),n.Gc(45,E,5,1,"div",29),n.Qb(),n.Rb(46,"div",28),n.Gc(47,W,5,1,"div",29),n.Qb(),n.Rb(48,"div",30),n.Rb(49,"div",18),n.Rb(50,"div",18),n.Rb(51,"label",19),n.Ic(52,"\xa0"),n.Qb(),n.Rb(53,"div",24),n.Rb(54,"label",25),n.Mb(55,"input",31),n.Mb(56,"i",27),n.Ic(57," Taxable? "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(58,"div",32),n.Rb(59,"ul",33),n.Rb(60,"button",34),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(61,"i",35),n.Ic(62," Save Changes "),n.Qb(),n.Mb(63,"button",36),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(18),n.jc("formGroup",e.adForm),n.yb(7),n.jc("ngIf",e.errName),n.yb(5),n.jc("items",e.moduleType),n.yb(1),n.jc("ngIf",e.errType),n.yb(14),n.jc("ngIf",e.isType),n.yb(2),n.jc("ngIf",e.isType),n.yb(16),n.jc("swal",n.mc(7,Y))}}let z=(()=>{class e{constructor(e,t,i,a){this.fb=e,this.tenantMasterService=t,this.rateManagementService=i,this.route=a,this.isLoading=!0,this.isType=!0,this.moduleType=[],this.deductionType=[],this.governmentType=[],this.errName=!1,this.errType=!1,this.errMinimum=!1,this.errDeductionType=!1,this.errMaximum=!1,this.errGovernment=!1}ngOnInit(){this.recID=this.route.snapshot.paramMap.get("id"),this.adForm=this.fb.group({name:[""],selectedModuleType:57,active:!0,minimumHour:[0],maximumHour:[0],taxable:!1}),this.tenantMasterService.dropdownList(0).subscribe(e=>{this.moduleType=e.filter(e=>26===e.type_id),this.deductionType=e.filter(e=>27===e.type_id),this.governmentType=e.filter(e=>28===e.type_id),""!=this.recID?this.rateManagementService.adView(this.recID).subscribe(e=>{this.adForm=this.fb.group({name:e[0].recurring_name,selectedModuleType:e[0].recurring_type,active:e[0].active,minimumHour:e[0].minimum_hour,maximumHour:e[0].maximum_hour,taxable:e[0].taxable}),this.modelChangeFn(e[0].recurring_type),this.isLoading=!1},e=>{console.log(e.error)}):(this.isLoading=!1,this.recID="0")},e=>{console.log(e.error)})}modelChangeFn(e){this.toggleError(!1),this.isType=57===e}toggleError(e){this.errName=e,this.errType=e,this.errMinimum=e,this.errDeductionType=e,this.errMaximum=e,this.errGovernment=e}validation(){var e=!0;return this.toggleError(!1),""!==this.adForm.get("name").value&&null!==this.adForm.get("name").value||(e=!1,this.errName=!0),""!==this.adForm.get("selectedModuleType").value&&null!==this.adForm.get("selectedModuleType").value||(e=!1,this.errType=!0),e}submit(){this.validation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading(),57!==this.adForm.get("selectedModuleType").value&&(this.adForm.get("minimumHour").setValue(0),this.adForm.get("maximumHour").setValue(0));var e={recurring_id:this.recID,recurring_name:this.adForm.get("name").value,recurring_type:this.adForm.get("selectedModuleType").value,minimum_hour:this.adForm.get("minimumHour").value,maximum_hour:this.adForm.get("maximumHour").value,taxable:this.adForm.get("taxable").value,created_by:sessionStorage.getItem("u"),active:this.adForm.get("active").value,series_code:sessionStorage.getItem("sc")};this.rateManagementService.adIU(e).subscribe(e=>{0===e.branchID?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(s.a),n.Lb(c.a),n.Lb(l.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-allowance-deduction-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/allowance-deduction-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-5"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedModuleType",3,"items","ngModelChange"],[1,"col-sm-2"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","formControlName","active",1,"form-check-input"],[1,"input-frame"],[1,"col-sm-4"],["class","form-group",4,"ngIf"],[1,"col-sm-3"],["formControlName","taxable","type","checkbox",1,"form-check-input"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],["type","text","formControlName","minimumHour","placeholder","Minimum Hour",1,"form-control"],["type","text","formControlName","maximumHour","placeholder","Minimum Hour",1,"form-control"]],template:function(e,t){1&e&&(n.Gc(0,H,3,0,"div",0),n.Gc(1,q,64,8,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,h.b,h.i,h.d,d.a,h.a,u.a,p.a],styles:[""]}),e})();var Z=i("XNiG"),K=i("ltvU"),X=i("njyG");function ee(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function te(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Ic(8),n.Qb(),n.Rb(9,"td"),n.Ic(10),n.Qb(),n.Rb(11,"td"),n.Ic(12),n.Qb(),n.Rb(13,"td"),n.Rb(14,"button",22),n.bc("click",function(){n.xc(e);const i=t.$implicit;return n.dc(2).viewAD(i.recurring_id)}),n.Mb(15,"i",23),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.recurring_code),n.yb(2),n.Jc(e.recurring_name),n.yb(2),n.Jc(e.taxable),n.yb(2),n.Jc(e.active),n.yb(2),n.Jc(e.created_desc),n.yb(2),n.Jc(e.date_created)}}const ie=function(){return["/layout/administration/allowance-deduction-detail"]};function ae(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Allowance/Deduction"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Allowance/Deduction"),n.Qb(),n.Qb(),n.Rb(17,"div",15),n.Rb(18,"ul",16),n.Rb(19,"button",17),n.Mb(20,"i",18),n.Ic(21," Add Allowance/Deduction "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(22,"hr"),n.Rb(23,"div",19),n.Rb(24,"table",20),n.Rb(25,"thead"),n.Rb(26,"tr"),n.Rb(27,"th"),n.Ic(28,"Code"),n.Qb(),n.Rb(29,"th"),n.Ic(30,"Name"),n.Qb(),n.Rb(31,"th"),n.Ic(32,"Taxable"),n.Qb(),n.Rb(33,"th"),n.Ic(34,"Active"),n.Qb(),n.Rb(35,"th"),n.Ic(36,"Created By"),n.Qb(),n.Rb(37,"th"),n.Ic(38,"Date Created"),n.Qb(),n.Mb(39,"th"),n.Qb(),n.Qb(),n.Rb(40,"tbody"),n.Gc(41,te,16,6,"tr",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(19),n.jc("routerLink",n.mc(4,ie)),n.yb(5),n.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),n.yb(17),n.jc("ngForOf",e.table)}}let re=(()=>{class e{constructor(e,t,i,a){this.ratesManagementService=e,this.router=t,this.userManagementService=i,this.tenantMasterService=a,this.isLoading=!1,this.dtOptions={},this.dtTrigger=new Z.a,this.table=[]}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.ratesManagementService.adView(0).subscribe(e=>{this.table=e.map(e=>({active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,recurring_code:e.recurring_code,recurring_name:e.recurring_name,taxable:e.taxable,recurring_id:e.recurring_id})),this.isLoading=!1,setTimeout(()=>{this.dtTrigger.next()},100)},e=>{console.log(e.error)})}viewAD(e){this.router.navigate(["/layout/administration/allowance-deduction-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(c.a),n.Lb(l.c),n.Lb(K.a),n.Lb(s.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-allowance-deduction-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(n.Gc(0,ee,3,0,"div",0),n.Gc(1,ae,42,5,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,l.d,u.a,X.a,b.m],styles:[""]}),e})();var ne=i("EVdn"),oe=i("tinS"),se=i("pujn"),ce=i("1kSV");function be(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function le(e,t){1&e&&(n.Rb(0,"p",46),n.Ic(1,"Please input name!"),n.Qb())}function de(e,t){1&e&&(n.Rb(0,"p",46),n.Ic(1,"Please select atleast one branch!"),n.Qb())}function he(e,t){1&e&&(n.Rb(0,"p",46),n.Ic(1,"Please input description!"),n.Qb())}function ue(e,t){1&e&&(n.Rb(0,"p",46),n.Ic(1,"Please input holiday name!"),n.Qb())}function pe(e,t){1&e&&(n.Rb(0,"p",46),n.Ic(1,"Please input holiday type!"),n.Qb())}function me(e,t){1&e&&(n.Rb(0,"p",46),n.Ic(1,"Please input year!"),n.Qb())}function fe(e,t){1&e&&(n.Rb(0,"p",46),n.Ic(1,"Please add atleast one holiday!"),n.Qb())}function ge(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Rb(8,"button",47),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(2).removeHoliday(i)}),n.Mb(9,"i",48),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.holiday_name),n.yb(2),n.Jc(e.holidayTypeDesc),n.yb(2),n.Jc(e.holiday_date)}}const ve=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function ye(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",7),n.Rb(7,"a",9),n.Ic(8,"Holiday"),n.Qb(),n.Qb(),n.Rb(9,"li",10),n.Ic(10,"Detail"),n.Qb(),n.Qb(),n.Qb(),n.Rb(11,"div",11),n.Rb(12,"div",12),n.Rb(13,"div",13),n.Rb(14,"div",14),n.Rb(15,"div",15),n.Rb(16,"h6"),n.Ic(17,"Holiday"),n.Qb(),n.Qb(),n.Rb(18,"form",16),n.Rb(19,"div",11),n.Rb(20,"div",17),n.Rb(21,"div",18),n.Rb(22,"label",19),n.Ic(23,"Name"),n.Qb(),n.Mb(24,"input",20),n.Gc(25,le,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(26,"div",22),n.Rb(27,"div",18),n.Rb(28,"label",19),n.Ic(29,"Branch"),n.Qb(),n.Rb(30,"ng-select",23),n.bc("change",function(){return n.xc(e),n.dc().selectAll()}),n.Qb(),n.Gc(31,de,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(32,"div",24),n.Rb(33,"div",18),n.Rb(34,"label",19),n.Ic(35,"Description"),n.Qb(),n.Mb(36,"input",25),n.Gc(37,he,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(38,"hr"),n.Rb(39,"form",16),n.Rb(40,"div",11),n.Rb(41,"div",17),n.Rb(42,"div",18),n.Rb(43,"label",19),n.Ic(44,"Holiday Name"),n.Qb(),n.Mb(45,"input",26),n.Gc(46,ue,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(47,"div",17),n.Rb(48,"div",18),n.Rb(49,"label",19),n.Ic(50,"Holiday Type"),n.Qb(),n.Mb(51,"ng-select",27),n.Gc(52,pe,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(53,"div",28),n.Rb(54,"div",18),n.Rb(55,"label",19),n.Ic(56,"Date"),n.Qb(),n.Rb(57,"div",11),n.Rb(58,"div",29),n.Rb(59,"div",18),n.Rb(60,"div",30),n.Rb(61,"input",31,32),n.bc("dateSelect",function(t){return n.xc(e),n.dc().onDateSelect(t)})("click",function(){return n.xc(e),n.vc(62).toggle()}),n.Qb(),n.Rb(63,"div",33),n.Rb(64,"button",34),n.bc("click",function(){return n.xc(e),n.vc(62).toggle()}),n.Mb(65,"i",35),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Gc(66,me,2,0,"p",21),n.Qb(),n.Rb(67,"div",29),n.Rb(68,"button",36),n.bc("click",function(){return n.xc(e),n.dc().addHoliday()}),n.Mb(69,"i",37),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(70,"div",11),n.Gc(71,fe,2,0,"p",21),n.Rb(72,"div",38),n.Rb(73,"table",39),n.Rb(74,"thead"),n.Rb(75,"tr"),n.Rb(76,"th"),n.Ic(77,"Holiday Name"),n.Qb(),n.Rb(78,"th"),n.Ic(79,"Holiday Type"),n.Qb(),n.Rb(80,"th"),n.Ic(81,"Date"),n.Qb(),n.Rb(82,"th"),n.Ic(83,"Action"),n.Qb(),n.Qb(),n.Qb(),n.Rb(84,"tbody"),n.Gc(85,ge,10,3,"tr",40),n.Qb(),n.Mb(86,"tfoot"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(87,"div",41),n.Rb(88,"ul",42),n.Rb(89,"button",43),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(90,"i",44),n.Ic(91," Save Holiday "),n.Qb(),n.Rb(92,"button",45),n.Ic(93," Click here! "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(18),n.jc("formGroup",e.headerForm),n.yb(7),n.jc("ngIf",e.errName),n.yb(5),n.jc("items",e.branch)("multiple",!0),n.yb(1),n.jc("ngIf",e.errBranch),n.yb(6),n.jc("ngIf",e.errDescription),n.yb(2),n.jc("formGroup",e.holidayForm),n.yb(7),n.jc("ngIf",e.errHolidayName),n.yb(5),n.jc("items",e.holidayType),n.yb(1),n.jc("ngIf",e.errHolidayType),n.yb(14),n.jc("ngIf",e.errYear),n.yb(5),n.jc("ngIf",e.errHolidayList),n.yb(14),n.jc("ngForOf",e.holidayList),n.yb(7),n.jc("swal",n.mc(14,ve))}}let Re=(()=>{class e{constructor(e,t,i,a,r){this.fb=e,this.tenantMasterService=t,this.branchManagementService=i,this.holidayManagementService=a,this.route=r,this.holidayID="0",this.isLoading=!0,this.pipe=new b.e("en-US"),this.branch=[],this.allBranch=[],this.holidayType=[],this.holidayList=[]}ngOnInit(){this.holidayID=this.route.snapshot.paramMap.get("id"),this.headerForm=this.fb.group({name:[""],selectedBranch:[null],description:[""]}),this.holidayForm=this.fb.group({holidayName:[""],selectedHolidayType:[null],holidayTypeDesc:[""],selectedDate:[""]}),this.pageLoad(!1),this.tenantMasterService.dropdownList(19).subscribe(e=>{this.holidayType=e,this.branchManagementService.branchList().subscribe(e=>{for(var t=0;t<e.length;t++)this.allBranch.push(e[t].branch_id);this.branch=Object(ne.merge)([{branch_id:0,branch_name:"All"}],e),""!==this.holidayID?this.holidayManagementService.branchList(this.holidayID).subscribe(e=>{let t=[];for(var i=0;i<e.length;i++)t.push(e[i].branch_id);this.holidayManagementService.holidayList(this.holidayID).subscribe(e=>{this.headerForm.setValue({name:e[0].holiday_header_name,selectedBranch:t,description:e[0].holiday_description}),this.holidayManagementService.detailList(this.holidayID).subscribe(e=>{this.holidayList=e.map(e=>({holiday_name:e.holiday_name,holiday_type_id:e.holiday_type_id,holidayTypeDesc:e.description,holiday_date:this.pipe.transform(e.holiday_date,"MM/dd/yyyy")})),this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)})},e=>{console.log(e.error)}):(this.holidayID="0",this.isLoading=!1)},e=>{console.log(e.error)})},e=>{console.log(e.error)})}selectAll(){let e=this.headerForm.get("selectedBranch").value;for(var t=!1,i=0;i<e.length;i++)0===e[i]&&(t=!0);t&&this.headerForm.controls.selectedBranch.setValue(this.allBranch)}onDateSelect(e){}removeHoliday(e){this.holidayList.splice(e,1)}addHoliday(){if(this.validateHoliday()){var e=this.holidayType.filter(e=>e.id===this.holidayForm.get("selectedHolidayType").value)[0];this.holidayList.push({holiday_name:this.holidayForm.get("holidayName").value,holiday_type_id:e.id,holidayTypeDesc:e.description,holiday_date:this.pipe.transform(this.holidayForm.get("selectedDate").value.year+"/"+this.holidayForm.get("selectedDate").value.month+"/"+this.holidayForm.get("selectedDate").value.day,"MM/dd/yyyy")}),this.holidayForm.reset()}}validateHoliday(){this.pageLoad(!1);let e=!0;return""!=this.holidayForm.get("holidayName").value&&null!=this.holidayForm.get("holidayName").value||(e=!1,this.errHolidayName=!0),""!=this.holidayForm.get("selectedHolidayType").value&&null!=this.holidayForm.get("selectedHolidayType").value||(e=!1,this.errHolidayType=!0),e}pageLoad(e){this.errHolidayName=e,this.errHolidayType=e,this.errMonth=e,this.errDay=e,this.errYear=e,this.errName=e,this.errBranch=e,this.errDescription=e,this.errHolidayList=e}submit(){this.submitValidation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{var e;r.a.showLoading();let t=[];for(var i=0;i<this.headerForm.get("selectedBranch").value.length;i++)t.push({branch_id:this.headerForm.get("selectedBranch").value[i]});e={holiday_id:this.holidayID,holiday_code:"",holiday_header_name:this.headerForm.get("name").value,holiday_description:this.headerForm.get("description").value,active:!0,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),Detail:this.holidayList,Branch:t},console.log(JSON.stringify(e)),this.holidayManagementService.HolidayIU(e).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}submitValidation(){this.pageLoad(!1);let e=!0;return""!=this.headerForm.get("name").value&&null!=this.headerForm.get("name").value||(e=!1,this.errName=!0),""!=this.headerForm.get("description").value&&null!=this.headerForm.get("description").value||(e=!1,this.errDescription=!0),this.holidayList.length<=0&&(e=!1,this.errHolidayList=!0),""!=this.headerForm.get("selectedBranch").value&&null!=this.headerForm.get("selectedBranch").value||(e=!1,this.errBranch=!0),e}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(s.a),n.Lb(oe.a),n.Lb(se.a),n.Lb(l.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-holiday-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/holiday-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-3"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"col-sm-5"],["bindLabel","branch_name","bindValue","branch_id","placeholder","Select Branch","formControlName","selectedBranch",3,"items","multiple","change"],[1,"col-sm-4"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],["type","text","formControlName","holidayName","placeholder","Holiday Name",1,"form-control"],["name","Holiday","bindLabel","description","bindValue","id","placeholder","Select Holiday Type","formControlName","selectedHolidayType",3,"items"],[1,"col-sm-6"],[1,"col-md-6"],[1,"input-group"],["placeholder","mm/dd/yyyy","name","dp","formControlName","selectedDate","ngbDatepicker","",1,"form-control",3,"dateSelect","click"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","calendar","appFeatherIcon","",1,"text-secondary"],["type","button",1,"btn","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(n.Gc(0,be,3,0,"div",0),n.Gc(1,ye,94,15,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,h.b,h.i,h.d,d.a,ce.i,u.a,b.m,p.a],styles:[""]}),e})();function Qe(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function _e(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Ic(8),n.Qb(),n.Rb(9,"td"),n.Ic(10),n.Qb(),n.Rb(11,"td"),n.Rb(12,"button",23),n.bc("click",function(){n.xc(e);const i=t.$implicit;return n.dc(2).viewHoliday(i.holiday_id_encrypted)}),n.Mb(13,"i",24),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.holiday_code),n.yb(2),n.Jc(e.holiday_header_name),n.yb(2),n.Jc(e.holiday_description),n.yb(2),n.Jc(e.created_desc),n.yb(2),n.Jc(e.date_created)}}const Ie=function(){return["/layout/administration/holiday-detail"]};function ke(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Holiday"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Holiday"),n.Qb(),n.Qb(),n.Rb(17,"div",15),n.Rb(18,"ul",16),n.Rb(19,"button",17),n.Mb(20,"i",18),n.Ic(21," Add Holiday "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(22,"hr"),n.Rb(23,"div",19),n.Rb(24,"div",20),n.Rb(25,"table",21),n.Rb(26,"thead"),n.Rb(27,"tr"),n.Rb(28,"th"),n.Ic(29,"Holiday Code"),n.Qb(),n.Rb(30,"th"),n.Ic(31,"Name"),n.Qb(),n.Rb(32,"th"),n.Ic(33,"Description"),n.Qb(),n.Rb(34,"th"),n.Ic(35,"Created By"),n.Qb(),n.Rb(36,"th"),n.Ic(37,"Date Created"),n.Qb(),n.Mb(38,"th"),n.Qb(),n.Qb(),n.Rb(39,"tbody"),n.Gc(40,_e,14,5,"tr",22),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(19),n.jc("routerLink",n.mc(4,Ie)),n.yb(6),n.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),n.yb(15),n.jc("ngForOf",e.table)}}let De=(()=>{class e{constructor(e,t,i){this.holidayManagementService=e,this.router=t,this.userManagementService=i,this.isLoading=!0,this.dtOptions={},this.dtTrigger=new Z.a,this.table=[]}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.holidayManagementService.holidayList(0).subscribe(e=>{this.table=e.map(e=>({active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,holiday_code:e.holiday_code,holiday_description:e.holiday_description,holiday_header_name:e.holiday_header_name,holiday_id:e.holiday_id,holiday_id_encrypted:e.holiday_id_encrypted})),this.isLoading=!1,setTimeout(()=>{this.dtTrigger.next()},100)},e=>{console.log(e.error)})}viewHoliday(e){this.router.navigate(["/layout/administration/holiday-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(se.a),n.Lb(l.c),n.Lb(K.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-holiday-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"col-md-12"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(n.Gc(0,Qe,3,0,"div",0),n.Gc(1,ke,41,5,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,l.d,u.a,X.a,b.m],styles:[""]}),e})();var Ce=i("cnwU"),Fe=i("EDFS"),Me=i("kUHs");function we(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function Be(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input shift name!"),n.Qb())}function Te(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input description!"),n.Qb())}const Oe=function(){return{standalone:!0}};function Le(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setTimeIn(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).timeIn=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.timeIn)("showMeridian",!0)}}function Se(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input time in!"),n.Qb())}function xe(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setTimeOut(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).timeOut=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.timeOut)("showMeridian",!0)}}function je(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input time out!"),n.Qb())}function Ne(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setHalfDayIn(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).halfDayIn=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.halfDayIn)("showMeridian",!0)}}function Ge(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input halfday in!"),n.Qb())}function Pe(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setHalfDayOut(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).halfDayOut=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.halfDayOut)("showMeridian",!0)}}function He(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input halfday out!"),n.Qb())}function Ae(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setNightDiffIn(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).nightDiffIn=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.nightDiffIn)("showMeridian",!0)}}function Ve(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input night diff in!"),n.Qb())}function Ue(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setNightDiffOut(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).nightDiffOut=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.nightDiffOut)("showMeridian",!0)}}function Ee(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Please input night diff out!"),n.Qb())}function $e(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setBreakIn(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).BreakIn=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.BreakIn)("showMeridian",!0)}}function Je(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Input Break In!"),n.Qb())}function We(e,t){if(1&e){const e=n.Sb();n.Rb(0,"timepicker",82),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).setBreakOut(t)})("ngModelChange",function(t){return n.xc(e),n.dc(2).BreakOut=t}),n.Qb()}if(2&e){const e=n.dc(2);n.jc("ngModelOptions",n.mc(3,Oe))("ngModel",e.BreakOut)("showMeridian",!0)}}function Ye(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Input Break Out!"),n.Qb())}function qe(e,t){1&e&&(n.Rb(0,"p",81),n.Ic(1,"Breaks can only accommodate up to three breaks!"),n.Qb())}function ze(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Ic(8),n.Qb(),n.Rb(9,"td"),n.Ic(10),n.Qb(),n.Rb(11,"td"),n.Rb(12,"button",83),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(2).removeBreak(i)}),n.Mb(13,"i",84),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.breakType),n.yb(2),n.Jc(e.breakIn),n.yb(2),n.Jc(e.breakInDays),n.yb(2),n.Jc(e.breakOut),n.yb(2),n.Jc(e.breakOutDays)}}const Ze=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function Ke(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",7),n.Rb(7,"a",9),n.Ic(8,"Shift Codes"),n.Qb(),n.Qb(),n.Rb(9,"li",10),n.Ic(10,"Detail"),n.Qb(),n.Qb(),n.Qb(),n.Rb(11,"div",11),n.Rb(12,"div",12),n.Rb(13,"div",13),n.Rb(14,"div",14),n.Rb(15,"div",15),n.Rb(16,"h6"),n.Ic(17,"Shift Codes"),n.Qb(),n.Qb(),n.Rb(18,"form",16),n.Rb(19,"div",11),n.Rb(20,"div",17),n.Rb(21,"div",18),n.Rb(22,"label",19),n.Ic(23,"Shift Name"),n.Qb(),n.Mb(24,"input",20),n.Gc(25,Be,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(26,"div",17),n.Rb(27,"div",18),n.Rb(28,"label",19),n.Ic(29,"Grace Period"),n.Qb(),n.Mb(30,"input",22),n.Qb(),n.Qb(),n.Rb(31,"div",23),n.Rb(32,"div",18),n.Rb(33,"label",19),n.Ic(34,"Description"),n.Qb(),n.Mb(35,"input",24),n.Gc(36,Te,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(37,"div",25),n.Rb(38,"div",18),n.Rb(39,"label",19),n.Ic(40,"\xa0"),n.Qb(),n.Rb(41,"div",26),n.Rb(42,"label",27),n.Rb(43,"input",28),n.bc("change",function(t){return n.xc(e),n.dc().onFlexi(t)}),n.Qb(),n.Mb(44,"i",29),n.Ic(45," Is Flexi? "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(46,"div",11),n.Rb(47,"div",17),n.Rb(48,"div",18),n.Rb(49,"label",19),n.Ic(50,"Time In"),n.Qb(),n.Gc(51,Le,1,4,"ng-template",null,30,n.Hc),n.Mb(53,"input",31),n.Gc(54,Se,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(55,"div",17),n.Rb(56,"div",18),n.Rb(57,"label",19),n.Ic(58,"Time Out"),n.Qb(),n.Gc(59,xe,1,4,"ng-template",null,32,n.Hc),n.Mb(61,"input",33),n.Gc(62,je,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(63,"div",17),n.Rb(64,"div",18),n.Rb(65,"label",19),n.Ic(66,"Days Cover"),n.Qb(),n.Rb(67,"input",34),n.bc("change",function(){return n.xc(e),n.dc().computeDateDiff()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(68,"div",17),n.Rb(69,"div",18),n.Rb(70,"label",19),n.Ic(71,"Total Working Hr(s)"),n.Qb(),n.Mb(72,"input",35),n.Qb(),n.Qb(),n.Qb(),n.Rb(73,"div",11),n.Rb(74,"div",17),n.Rb(75,"div",18),n.Rb(76,"label",19),n.Ic(77,"Halfday In"),n.Qb(),n.Gc(78,Ne,1,4,"ng-template",null,36,n.Hc),n.Mb(80,"input",37),n.Gc(81,Ge,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(82,"div",17),n.Rb(83,"div",18),n.Rb(84,"label",19),n.Ic(85,"Days Cover"),n.Qb(),n.Mb(86,"input",38),n.Qb(),n.Qb(),n.Rb(87,"div",17),n.Rb(88,"div",18),n.Rb(89,"label",19),n.Ic(90,"Halfday Out"),n.Qb(),n.Gc(91,Pe,1,4,"ng-template",null,39,n.Hc),n.Mb(93,"input",40),n.Gc(94,He,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(95,"div",17),n.Rb(96,"div",18),n.Rb(97,"label",19),n.Ic(98,"Days Cover"),n.Qb(),n.Mb(99,"input",41),n.Qb(),n.Qb(),n.Qb(),n.Rb(100,"div",11),n.Rb(101,"div",17),n.Rb(102,"div",18),n.Rb(103,"label",19),n.Ic(104,"Nighdiff In"),n.Qb(),n.Gc(105,Ae,1,4,"ng-template",null,42,n.Hc),n.Mb(107,"input",43),n.Gc(108,Ve,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(109,"div",17),n.Rb(110,"div",18),n.Rb(111,"label",19),n.Ic(112,"Days Cover"),n.Qb(),n.Mb(113,"input",44),n.Qb(),n.Qb(),n.Rb(114,"div",17),n.Rb(115,"div",18),n.Rb(116,"label",19),n.Ic(117,"Nighdiff Out"),n.Qb(),n.Gc(118,Ue,1,4,"ng-template",null,45,n.Hc),n.Mb(120,"input",46),n.Gc(121,Ee,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(122,"div",17),n.Rb(123,"div",18),n.Rb(124,"label",19),n.Ic(125,"Days Cover"),n.Qb(),n.Mb(126,"input",47),n.Qb(),n.Qb(),n.Qb(),n.Mb(127,"hr"),n.Rb(128,"div",15),n.Rb(129,"h6"),n.Ic(130,"Restday"),n.Qb(),n.Qb(),n.Rb(131,"div",11),n.Rb(132,"div",48),n.Rb(133,"table",49),n.Rb(134,"thead"),n.Rb(135,"tr"),n.Rb(136,"th"),n.Ic(137,"Sunday"),n.Qb(),n.Rb(138,"th"),n.Ic(139,"Monday"),n.Qb(),n.Rb(140,"th"),n.Ic(141,"Tuesday"),n.Qb(),n.Rb(142,"th"),n.Ic(143,"Wednesday"),n.Qb(),n.Rb(144,"th"),n.Ic(145,"Thursday"),n.Qb(),n.Rb(146,"th"),n.Ic(147,"Friday"),n.Qb(),n.Rb(148,"th"),n.Ic(149,"Saturday"),n.Qb(),n.Qb(),n.Qb(),n.Rb(150,"tbody"),n.Rb(151,"tr"),n.Rb(152,"td"),n.Rb(153,"div",50),n.Mb(154,"input",51),n.Mb(155,"label",52),n.Qb(),n.Qb(),n.Rb(156,"td"),n.Rb(157,"div",50),n.Mb(158,"input",53),n.Mb(159,"label",54),n.Qb(),n.Qb(),n.Rb(160,"td"),n.Rb(161,"div",50),n.Mb(162,"input",55),n.Mb(163,"label",56),n.Qb(),n.Qb(),n.Rb(164,"td"),n.Rb(165,"div",50),n.Mb(166,"input",57),n.Mb(167,"label",58),n.Qb(),n.Qb(),n.Rb(168,"td"),n.Rb(169,"div",50),n.Mb(170,"input",59),n.Mb(171,"label",60),n.Qb(),n.Qb(),n.Rb(172,"td"),n.Rb(173,"div",50),n.Mb(174,"input",61),n.Mb(175,"label",62),n.Qb(),n.Qb(),n.Rb(176,"td"),n.Rb(177,"div",50),n.Mb(178,"input",63),n.Mb(179,"label",64),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(180,"hr"),n.Qb(),n.Rb(181,"form",16),n.Rb(182,"div",11),n.Rb(183,"div",25),n.Rb(184,"div",18),n.Rb(185,"label",19),n.Ic(186,"Time In"),n.Qb(),n.Gc(187,$e,1,4,"ng-template",null,65,n.Hc),n.Mb(189,"input",66),n.Gc(190,Je,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(191,"div",25),n.Rb(192,"div",18),n.Rb(193,"label",19),n.Ic(194,"Days Cover"),n.Qb(),n.Mb(195,"input",67),n.Qb(),n.Qb(),n.Rb(196,"div",25),n.Rb(197,"div",18),n.Rb(198,"label",19),n.Ic(199,"Time Out"),n.Qb(),n.Gc(200,We,1,4,"ng-template",null,68,n.Hc),n.Mb(202,"input",69),n.Gc(203,Ye,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(204,"div",17),n.Rb(205,"div",18),n.Rb(206,"label",19),n.Ic(207,"Days Cover"),n.Qb(),n.Rb(208,"div",11),n.Rb(209,"div",70),n.Mb(210,"input",71),n.Qb(),n.Rb(211,"div",72),n.Rb(212,"button",73),n.bc("click",function(){return n.xc(e),n.dc().addBreak()}),n.Mb(213,"i",74),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(214,"div",11),n.Gc(215,qe,2,0,"p",21),n.Rb(216,"div",48),n.Rb(217,"table",49),n.Rb(218,"thead"),n.Rb(219,"tr"),n.Rb(220,"th"),n.Ic(221,"Break Type"),n.Qb(),n.Rb(222,"th"),n.Ic(223,"Break In"),n.Qb(),n.Rb(224,"th"),n.Ic(225,"Days Cover"),n.Qb(),n.Rb(226,"th"),n.Ic(227,"Break Out"),n.Qb(),n.Rb(228,"th"),n.Ic(229,"Days Cover"),n.Qb(),n.Rb(230,"th"),n.Ic(231,"Action"),n.Qb(),n.Qb(),n.Qb(),n.Rb(232,"tbody"),n.Gc(233,ze,14,5,"tr",75),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(234,"div",76),n.Rb(235,"ul",77),n.Rb(236,"button",78),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(237,"i",79),n.Ic(238," Save Shift Code "),n.Qb(),n.Rb(239,"button",80),n.Ic(240," Click here! "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.vc(52),t=n.vc(60),i=n.vc(79),a=n.vc(92),r=n.vc(106),o=n.vc(119),s=n.vc(188),c=n.vc(201),b=n.dc();n.yb(18),n.jc("formGroup",b.shiftForm),n.yb(7),n.jc("ngIf",b.errShiftName),n.yb(11),n.jc("ngIf",b.errDescription),n.yb(17),n.jc("popover",e)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.errTimeIn),n.yb(7),n.jc("popover",t)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.errTimeOut),n.yb(18),n.jc("popover",i)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.errHalfDayIn),n.yb(12),n.jc("popover",a)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.errHalfDayOut),n.yb(13),n.jc("popover",r)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.errNightDiffIn),n.yb(12),n.jc("popover",o)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.errNightDiffOut),n.yb(60),n.jc("formGroup",b.breakForm),n.yb(8),n.jc("popover",s)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.isBreakIn),n.yb(12),n.jc("popover",c)("outsideClick",!0),n.yb(1),n.jc("ngIf",b.isBreakOut),n.yb(12),n.jc("ngIf",b.isBreak),n.yb(18),n.jc("ngForOf",b.break),n.yb(6),n.jc("swal",n.mc(31,Ze))}}let Xe=(()=>{class e{constructor(e,t,i,a){this.fb=e,this.decimalPipe=t,this.shiftcodeManagementService=i,this.route=a,this.isLoading=!0,this.today=new Date,this.pipe=new b.e("en-US"),this.breakList=["First Break","Second Break","Third Break"],this.break=[],this.isBreak=!1,this.isBreakIn=!1,this.isBreakOut=!1,this.errShiftName=!1,this.errDescription=!1,this.errTimeIn=!1,this.errTimeOut=!1,this.errHalfDayIn=!1,this.errHalfDayOut=!1,this.errNightDiffIn=!1,this.errNightDiffOut=!1,this.BreakOut="",this.BreakIn="",this.halfDayIn="",this.halfDayOut="",this.nightDiffIn="",this.nightDiffOut=""}ngOnInit(){this.shiftID=this.route.snapshot.paramMap.get("id"),this.shiftForm=this.fb.group({shiftName:[""],gracePeriod:["0"],description:[""],isFlexi:[!1],timeIn:[""],dtimeIn:[""],daysCover:[0],timeOut:[""],dtimeOut:[""],halfDayIn:[""],halfDayOut:[""],halfDayInDays:[0],halfDayOutDays:[0],nightDiffIn:this.pipe.transform("01/01/1900/ 22:00","shortTime"),nightDiffOut:this.pipe.transform("01/01/1900/ 06:00","shortTime"),nightDiffInDays:[0],nightDiffOutDays:[1],is_rd_mon:!1,is_rd_tue:!1,is_rd_wed:!1,is_rd_thu:!1,is_rd_fri:!1,is_rd_sat:!1,is_rd_sun:!1,first_break_in:null,first_break_out:null,first_break_in_days_cover:[0],first_break_out_days_cover:[0],second_break_in:null,second_break_out:null,second_break_in_days_cover:[0],second_break_out_days_cover:[0],third_break_in:null,third_break_out:null,third_break_in_days_cover:[0],third_break_out_days_cover:[0],workingHrs:[{value:"0",disabled:!0}]}),this.breakForm=this.fb.group({selectedBreak:[null],description:[""],BreakIn:[""],breakInDays:[""],BreakOut:[""],breakOutDays:[""]}),""!==this.shiftID?this.shiftcodeManagementService.shiftView(this.shiftID).subscribe(e=>{var t=new Date("01/01/1900/ "+e[0].time_out);t.setDate(t.getDate()+Number(e[0].time_out_days_cover)),this.shiftForm=this.fb.group({shiftName:e[0].shift_name,gracePeriod:e[0].grace_period,description:e[0].description,isFlexi:e[0].is_flexi,timeIn:e[0].time_in,dtimeIn:new Date("01/01/1900/ "+e[0].time_in),daysCover:e[0].time_out_days_cover,timeOut:e[0].time_out,dtimeOut:t,halfDayIn:e[0].half_day_in,halfDayOut:e[0].half_day_out,halfDayInDays:e[0].half_day_in_days_cover,halfDayOutDays:e[0].half_day_out_days_cover,nightDiffIn:e[0].night_dif_in,nightDiffOut:e[0].night_dif_out,nightDiffInDays:e[0].night_dif_in_days_cover,nightDiffOutDays:e[0].night_dif_out_days_cover,is_rd_mon:e[0].is_rd_mon,is_rd_tue:e[0].is_rd_tue,is_rd_wed:e[0].is_rd_wed,is_rd_thu:e[0].is_rd_thu,is_rd_fri:e[0].is_rd_fri,is_rd_sat:e[0].is_rd_sat,is_rd_sun:e[0].is_rd_sun,first_break_in:""===e[0].first_break_in?null:e[0].first_break_in,first_break_out:""===e[0].first_break_out?null:e[0].first_break_out,first_break_in_days_cover:""===e[0].first_break_in?0:e[0].first_break_in_days_cover,first_break_out_days_cover:""===e[0].first_break_out?0:e[0].first_break_out_days_cover,second_break_in:""===e[0].second_break_in?null:e[0].second_break_in,second_break_out:""===e[0].second_break_out?null:e[0].second_break_out,second_break_in_days_cover:""===e[0].second_break_in?0:e[0].second_break_in_days_cover,second_break_out_days_cover:""===e[0].second_break_out?0:e[0].second_break_out_days_cover,third_break_in:""===e[0].third_break_in?null:e[0].third_break_in,third_break_out:""===e[0].third_break_out?null:e[0].third_break_out,third_break_in_days_cover:""===e[0].third_break_in?0:e[0].third_break_in_days_cover,third_break_out_days_cover:""===e[0].third_break_out?0:e[0].third_break_out_days_cover,workingHrs:[{value:e[0].total_working_hours,disabled:!e[0].is_flexi}]}),""!==e[0].first_break_in&&""!=e[0].first_break_out&&this.break.push({breakType:this.breakList[0],breakIn:e[0].first_break_in,breakInDays:e[0].first_break_in_days_cover,breakOut:e[0].first_break_out,breakOutDays:e[0].first_break_out_days_cover}),""!==e[0].second_break_in&&""!=e[0].second_break_out&&this.break.push({breakType:this.breakList[1],breakIn:e[0].second_break_in,breakInDays:e[0].second_break_in_days_cover,breakOut:e[0].second_break_out,breakOutDays:e[0].second_break_out_days_cover}),""!==e[0].third_break_in&&""!=e[0].third_break_out&&this.break.push({breakType:this.breakList[2],breakIn:e[0].third_break_in,breakInDays:e[0].third_break_in_days_cover,breakOut:e[0].third_break_out,breakOutDays:e[0].third_break_out_days_cover}),this.isLoading=!1},e=>{console.log(e.error)}):(this.shiftID="0",this.isLoading=!1)}onFlexi(e){this.shiftForm.get("workingHrs").setValue("0"),e.target.checked?this.shiftForm.get("workingHrs").enable():(this.shiftForm.get("workingHrs").disable(),this.computeDateDiff())}setTimeIn(e){this.shiftForm.get("timeIn").setValue(this.pipe.transform(e,"shortTime")),this.shiftForm.get("dtimeIn").setValue(e),this.computeDateDiff()}setTimeOut(e){this.shiftForm.get("timeOut").setValue(this.pipe.transform(e,"shortTime")),this.shiftForm.get("dtimeOut").setValue(e),this.computeDateDiff()}computeDateDiff(){if(""!=this.shiftForm.get("dtimeIn").value||null!=this.shiftForm.get("dtimeIn").value&&""!=this.shiftForm.get("dtimeOut").value||null!=this.shiftForm.get("dtimeOut").value){var e=new Date(this.shiftForm.get("dtimeIn").value),t=new Date(this.shiftForm.get("dtimeOut").value);e>t&&t.setDate(t.getDate()+Number(this.shiftForm.get("daysCover").value));const i=(t.valueOf()-e.valueOf())/1e3/60/60;this.shiftForm.get("workingHrs").setValue(this.decimalPipe.transform(i,"1.2-2"))}}setHalfDayIn(e){this.shiftForm.get("halfDayIn").setValue(this.pipe.transform(e,"shortTime"))}setHalfDayOut(e){this.shiftForm.get("halfDayOut").setValue(this.pipe.transform(e,"shortTime"))}setBreakIn(e){this.breakForm.get("BreakIn").setValue(this.pipe.transform(e,"shortTime"))}setBreakOut(e){this.breakForm.get("BreakOut").setValue(this.pipe.transform(e,"shortTime"))}setNightDiffIn(e){this.breakForm.get("nightDiffIn").setValue(this.pipe.transform(e,"shortTime"))}setNightDiffOut(e){this.breakForm.get("nightDiffOut").setValue(this.pipe.transform(e,"shortTime"))}addBreak(){this.isBreak=!1,this.break.length<3?this.breakValidation()&&(this.break.push({breakType:this.breakList[this.break.length],breakIn:this.breakForm.get("BreakIn").value,breakInDays:""==this.breakForm.get("breakInDays").value||null==this.breakForm.get("breakInDays").value?"0":this.breakForm.get("breakInDays").value,breakOut:this.breakForm.get("BreakOut").value,breakOutDays:""==this.breakForm.get("breakOutDays").value||null==this.breakForm.get("breakOutDays").value?"0":this.breakForm.get("breakOutDays").value}),this.breakForm.reset()):this.isBreak=!0}breakValidation(){let e=!0;return""==this.breakForm.get("BreakIn").value||null==this.breakForm.get("BreakIn").value?(e=!1,this.isBreakIn=!0):(e=!0,this.isBreakIn=!1),""==this.breakForm.get("BreakOut").value||null==this.breakForm.get("BreakOut").value?(e=!1,this.isBreakOut=!0):(e=!0,this.isBreakOut=!1),e}removeBreak(e){this.isBreak=!1,this.break.splice(e,1);for(var t=[],i=0;i<this.break.length;i++)t.push({breakType:this.breakList[i],breakIn:this.break[i].breakIn,breakInDays:this.break[i].breakInDays,breakOut:this.break[i].breakOut,breakOutDays:this.break[i].breakOutDays});this.break=t}submit(){this.formValidation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading(),this.shiftForm.get("first_break_in").setValue(null),this.shiftForm.get("first_break_in_days_cover").setValue(0),this.shiftForm.get("first_break_out").setValue(null),this.shiftForm.get("first_break_out_days_cover").setValue(0),this.shiftForm.get("second_break_in").setValue(null),this.shiftForm.get("second_break_in_days_cover").setValue(0),this.shiftForm.get("second_break_out").setValue(null),this.shiftForm.get("second_break_out_days_cover").setValue(0),this.shiftForm.get("third_break_in").setValue(null),this.shiftForm.get("third_break_in_days_cover").setValue(0),this.shiftForm.get("third_break_out").setValue(null),this.shiftForm.get("third_break_out_days_cover").setValue(0);for(var e=0;e<this.break.length;e++)1===e&&(this.shiftForm.get("second_break_in").setValue(this.break[e].breakIn),this.shiftForm.get("second_break_in_days_cover").setValue(this.break[e].breakInDays),this.shiftForm.get("second_break_out").setValue(this.break[e].breakOut),this.shiftForm.get("second_break_out_days_cover").setValue(this.break[e].breakOutDays)),2===e?(this.shiftForm.get("third_break_in").setValue(this.break[e].breakIn),this.shiftForm.get("third_break_in_days_cover").setValue(this.break[e].breakInDays),this.shiftForm.get("third_break_out").setValue(this.break[e].breakOut),this.shiftForm.get("third_break_out_days_cover").setValue(this.break[e].breakOutDays)):(this.shiftForm.get("first_break_in").setValue(this.break[e].breakIn),this.shiftForm.get("first_break_in_days_cover").setValue(this.break[e].breakInDays),this.shiftForm.get("first_break_out").setValue(this.break[e].breakOut),this.shiftForm.get("first_break_out_days_cover").setValue(this.break[e].breakOutDays));var t={shift_id:this.shiftID,shift_name:this.shiftForm.get("shiftName").value,grace_period:""==this.shiftForm.get("gracePeriod").value||null==this.shiftForm.get("gracePeriod").value?"0":this.shiftForm.get("gracePeriod").value,description:this.shiftForm.get("description").value,is_flexi:this.shiftForm.get("isFlexi").value,time_in:this.shiftForm.get("timeIn").value,time_out:this.shiftForm.get("timeOut").value,time_out_days_cover:""==this.shiftForm.get("daysCover").value||null==this.shiftForm.get("daysCover").value?"0":this.shiftForm.get("daysCover").value,total_working_hours:this.shiftForm.get("workingHrs").value,is_rd_mon:this.shiftForm.get("is_rd_mon").value,is_rd_tue:this.shiftForm.get("is_rd_tue").value,is_rd_wed:this.shiftForm.get("is_rd_wed").value,is_rd_thu:this.shiftForm.get("is_rd_thu").value,is_rd_fri:this.shiftForm.get("is_rd_fri").value,is_rd_sat:this.shiftForm.get("is_rd_sat").value,is_rd_sun:this.shiftForm.get("is_rd_sun").value,half_day_in:this.shiftForm.get("halfDayIn").value,half_day_in_days_cover:""==this.shiftForm.get("halfDayInDays").value||null==this.shiftForm.get("halfDayInDays").value?"0":this.shiftForm.get("halfDayInDays").value,half_day_out:this.shiftForm.get("halfDayOut").value,half_day_out_days_cover:""==this.shiftForm.get("halfDayOutDays").value||null==this.shiftForm.get("halfDayOutDays").value?"0":this.shiftForm.get("halfDayOutDays").value,night_dif_in:this.shiftForm.get("nightDiffIn").value,night_dif_in_days_cover:this.shiftForm.get("nightDiffInDays").value,night_dif_out:this.shiftForm.get("nightDiffOut").value,night_dif_out_days_cover:this.shiftForm.get("nightDiffOutDays").value,first_break_in:this.shiftForm.get("first_break_in").value,first_break_in_days_cover:this.shiftForm.get("first_break_in_days_cover").value,first_break_out:this.shiftForm.get("first_break_out").value,first_break_out_days_cover:this.shiftForm.get("first_break_out_days_cover").value,second_break_in:this.shiftForm.get("second_break_in").value,second_break_in_days_cover:this.shiftForm.get("second_break_in_days_cover").value,second_break_out:this.shiftForm.get("second_break_out").value,second_break_out_days_cover:this.shiftForm.get("second_break_out_days_cover").value,third_break_in:this.shiftForm.get("third_break_in").value,third_break_in_days_cover:this.shiftForm.get("third_break_in_days_cover").value,third_break_out:this.shiftForm.get("third_break_out").value,third_break_out_days_cover:this.shiftForm.get("third_break_out_days_cover").value,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")};this.shiftcodeManagementService.shiftIU(t).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}formValidation(){let e=!0;return this.errShiftName=!1,this.errDescription=!1,this.errTimeIn=!1,this.errTimeOut=!1,this.errHalfDayIn=!1,this.errHalfDayOut=!1,""!=this.shiftForm.get("shiftName").value&&null!=this.shiftForm.get("shiftName").value||(e=!1,this.errShiftName=!0),""!=this.shiftForm.get("description").value&&null!=this.shiftForm.get("description").value||(e=!1,this.errDescription=!0),""!=this.shiftForm.get("timeIn").value&&null!=this.shiftForm.get("timeIn").value||(e=!1,this.errTimeIn=!0),""!=this.shiftForm.get("timeOut").value&&null!=this.shiftForm.get("timeOut").value||(e=!1,this.errTimeOut=!0),""!=this.shiftForm.get("halfDayIn").value&&null!=this.shiftForm.get("halfDayIn").value||(e=!1,this.errHalfDayIn=!0),""!=this.shiftForm.get("halfDayOut").value&&null!=this.shiftForm.get("halfDayOut").value||(e=!1,this.errHalfDayOut=!0),e}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(b.f),n.Lb(Ce.a),n.Lb(l.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-shiftcodes-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/shiftcodes-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-3"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","shiftName","placeholder","Shift Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","gracePeriod","placeholder","Grace Period",1,"form-control"],[1,"col-sm-4"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"col-sm-2"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","formControlName","isFlexi",1,"form-check-input",3,"change"],[1,"input-frame"],["popTimeIn",""],["type","text","formControlName","timeIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["popTimeOut",""],["type","text","formControlName","timeOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","daysCover","placeholder","Days Cover",1,"form-control",3,"change"],["type","text","formControlName","workingHrs","placeholder","Total Working Hr(s)",1,"form-control"],["popHalfDayIn",""],["type","text","formControlName","halfDayIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","halfDayInDays","placeholder","Days Cover",1,"form-control"],["popHalfDayOut",""],["type","text","formControlName","halfDayOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","halfDayOutDays","placeholder","Days Cover",1,"form-control"],["popNightDiffIn",""],["type","text","formControlName","nightDiffIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","nightDiffInDays","placeholder","Days Cover",1,"form-control"],["popNightDiffOut",""],["type","text","formControlName","nightDiffOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","nightDiffOutDays","placeholder","Days Cover",1,"form-control"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[1,"custom-control","custom-switch"],["formControlName","is_rd_sun","type","checkbox","id","cksunday",1,"custom-control-input"],["for","cksunday",1,"custom-control-label"],["formControlName","is_rd_mon","type","checkbox","id","ckmonday",1,"custom-control-input"],["for","ckmonday",1,"custom-control-label"],["formControlName","is_rd_tue","type","checkbox","id","cktuesday",1,"custom-control-input"],["for","cktuesday",1,"custom-control-label"],["formControlName","is_rd_wed","type","checkbox","id","ckwednesday",1,"custom-control-input"],["for","ckwednesday",1,"custom-control-label"],["formControlName","is_rd_thu","type","checkbox","id","ckthursday",1,"custom-control-input"],["for","ckthursday",1,"custom-control-label"],["formControlName","is_rd_fri","type","checkbox","id","ckfriday",1,"custom-control-input"],["for","ckfriday",1,"custom-control-label"],["formControlName","is_rd_sat","type","checkbox","id","cksaturday",1,"custom-control-input"],["for","cksaturday",1,"custom-control-label"],["popBreakIn",""],["type","text","formControlName","BreakIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","breakInDays","placeholder","Days Cover",1,"form-control"],["popBreakOut",""],["type","text","formControlName","BreakOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],[1,"col-md-8"],["type","text","formControlName","breakOutDays","placeholder","Days Cover",1,"form-control"],[1,"col-md-4"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],[3,"ngModelOptions","ngModel","showMeridian","ngModelChange"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(n.Gc(0,we,3,0,"div",0),n.Gc(1,Ke,241,32,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,h.b,h.i,h.d,h.a,Fe.a,b.m,u.a,p.a,Me.a,h.l],styles:[""]}),e})();function et(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function tt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Ic(8),n.Qb(),n.Rb(9,"td"),n.Ic(10),n.Qb(),n.Rb(11,"td"),n.Ic(12),n.Qb(),n.Rb(13,"td"),n.Ic(14),n.Qb(),n.Rb(15,"td"),n.Rb(16,"button",22),n.bc("click",function(){n.xc(e);const i=t.$implicit;return n.dc(2).viewShift(i.shift_id)}),n.Mb(17,"i",23),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.shift_code),n.yb(2),n.Jc(e.shift_name),n.yb(2),n.Jc(e.time_in),n.yb(2),n.Jc(e.time_out),n.yb(2),n.Jc(e.description),n.yb(2),n.Jc(e.created_desc),n.yb(2),n.Jc(e.date_created)}}const it=function(){return["/layout/administration/shiftcodes-detail"]};function at(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Shift Codes"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Shift Codes"),n.Qb(),n.Qb(),n.Rb(17,"div",15),n.Rb(18,"ul",16),n.Rb(19,"button",17),n.Mb(20,"i",18),n.Ic(21," Add Shift Codes "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(22,"hr"),n.Rb(23,"div",19),n.Rb(24,"table",20),n.Rb(25,"thead"),n.Rb(26,"tr"),n.Rb(27,"th"),n.Ic(28,"Shift Code"),n.Qb(),n.Rb(29,"th"),n.Ic(30,"Shift Name"),n.Qb(),n.Rb(31,"th"),n.Ic(32,"Time In"),n.Qb(),n.Rb(33,"th"),n.Ic(34,"Time Out"),n.Qb(),n.Rb(35,"th"),n.Ic(36,"Description"),n.Qb(),n.Rb(37,"th"),n.Ic(38,"Created By"),n.Qb(),n.Rb(39,"th"),n.Ic(40,"Date Created"),n.Qb(),n.Mb(41,"th"),n.Qb(),n.Qb(),n.Rb(42,"tbody"),n.Gc(43,tt,18,7,"tr",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(19),n.jc("routerLink",n.mc(4,it)),n.yb(5),n.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),n.yb(19),n.jc("ngForOf",e.table)}}let rt=(()=>{class e{constructor(e,t){this.shiftcodeManagementService=e,this.router=t,this.isLoading=!0,this.table=[],this.dtOptions={},this.dtTrigger=new Z.a}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.shiftcodeManagementService.shiftView(0).subscribe(e=>{this.table=e.map(e=>({active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,shift_code:e.shift_code,shift_name:e.shift_name,time_in:e.time_in,time_out:e.time_out,shift_id:e.shift_id,description:e.description})),this.isLoading=!1,setTimeout(()=>{this.dtTrigger.next()},100)},e=>{console.log(e.error)})}viewShift(e){this.router.navigate(["/layout/administration/shiftcodes-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(Ce.a),n.Lb(l.c))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-shiftcodes-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(n.Gc(0,et,3,0,"div",0),n.Gc(1,at,44,5,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,l.d,u.a,X.a,b.m],styles:[""]}),e})();const nt=["seriesModal"];function ot(e,t){1&e&&(n.Rb(0,"div",3),n.Rb(1,"div",4),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function st(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Ic(8),n.Qb(),n.Rb(9,"td"),n.Ic(10),n.Qb(),n.Rb(11,"td"),n.Ic(12),n.Qb(),n.Rb(13,"td"),n.Rb(14,"button",20),n.bc("click",function(){n.xc(e);const i=t.$implicit;return n.dc(2).editSeries(i.module_id)}),n.Mb(15,"i",21),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.module_name),n.yb(2),n.Jc(e.prefix),n.yb(2),n.Jc(e.year),n.yb(2),n.Jc(e.series),n.yb(2),n.Jc(e.length),n.yb(2),n.Jc(e.series_code)}}function ct(e,t){if(1&e&&(n.Rb(0,"div",5),n.Rb(1,"nav",6),n.Rb(2,"ol",7),n.Rb(3,"li",8),n.Rb(4,"a",9),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",10),n.Ic(7,"Series Code"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",11),n.Rb(9,"div",12),n.Rb(10,"div",13),n.Rb(11,"div",14),n.Rb(12,"div",15),n.Rb(13,"div",11),n.Rb(14,"div",16),n.Rb(15,"h6"),n.Ic(16,"Series Code"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(17,"hr"),n.Rb(18,"div",17),n.Rb(19,"table",18),n.Rb(20,"thead"),n.Rb(21,"tr"),n.Rb(22,"th"),n.Ic(23,"Transaction Type"),n.Qb(),n.Rb(24,"th"),n.Ic(25,"Prefix"),n.Qb(),n.Rb(26,"th"),n.Ic(27,"Year"),n.Qb(),n.Rb(28,"th"),n.Ic(29,"Series"),n.Qb(),n.Rb(30,"th"),n.Ic(31,"Length"),n.Qb(),n.Rb(32,"th"),n.Ic(33,"Code"),n.Qb(),n.Rb(34,"th"),n.Ic(35,"Action"),n.Qb(),n.Qb(),n.Qb(),n.Rb(36,"tbody"),n.Gc(37,st,16,6,"tr",19),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(19),n.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),n.yb(18),n.jc("ngForOf",e.table)}}function bt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",22),n.Rb(1,"h5",23),n.Ic(2),n.Qb(),n.Ic(3),n.Qb(),n.Rb(4,"div",24),n.Rb(5,"form",25),n.Rb(6,"div",11),n.Rb(7,"div",16),n.Rb(8,"div",26),n.Rb(9,"label",27),n.Ic(10,"Prefix"),n.Qb(),n.Rb(11,"input",28),n.bc("input",function(){return n.xc(e),n.dc().loadSeries()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(12,"div",16),n.Rb(13,"div",26),n.Rb(14,"label",27),n.Ic(15,"Year"),n.Qb(),n.Rb(16,"input",29),n.bc("input",function(){return n.xc(e),n.dc().loadSeries()}),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(17,"div",11),n.Rb(18,"div",16),n.Rb(19,"div",26),n.Rb(20,"label",27),n.Ic(21,"Series"),n.Qb(),n.Rb(22,"input",30),n.bc("input",function(){return n.xc(e),n.dc().loadSeries()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(23,"div",16),n.Rb(24,"div",26),n.Rb(25,"label",27),n.Ic(26,"Length"),n.Qb(),n.Rb(27,"input",31),n.bc("input",function(){return n.xc(e),n.dc().loadSeries()}),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(28,"div",32),n.Rb(29,"button",33),n.bc("click",function(){return t.$implicit.close("by: close button")}),n.Ic(30,"Close"),n.Qb(),n.Rb(31,"button",34),n.bc("click",function(){return t.$implicit.close("by: save button")})("click",function(){return n.xc(e),n.dc().submit()}),n.Ic(32,"Save changes"),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(2),n.Jc(e.transactionType),n.yb(1),n.Kc(" ",e.seriesCode," "),n.yb(2),n.jc("formGroup",e.seriesForm)}}let lt=(()=>{class e{constructor(e,t,i,a){this.tenantDefaultService=e,this.tenantMasterService=t,this.modalService=i,this.fb=a,this.isLoading=!0,this.seriesList=[],this.moduleList=[],this.table=[],this.dtOptions={},this.dtTrigger=new Z.a,this.seriesCode="",this.transactionType=""}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.seriesForm=this.fb.group({prefix:[""],year:[""],series:[""],length:[""]}),this.tenantDefaultService.seriesList().subscribe(e=>{this.table=e,setTimeout(()=>{this.dtTrigger.next()},100),this.isLoading=!1},e=>{console.log(e.error)})}editSeries(e){this.module_id=e,this.modalService.open(this.seriesModal);let t=this.table.filter(t=>t.module_id==e)[0];this.seriesCode=t.series_code,this.transactionType=t.module_name,this.seriesForm.setValue({prefix:t.prefix,year:t.year,series:t.series,length:t.length})}loadSeries(){for(var e=""+this.seriesForm.get("series").value;e.length<this.seriesForm.get("length").value;)e="0"+e;e.length<=this.seriesForm.get("length").value&&(this.seriesCode=this.seriesForm.get("prefix").value+this.seriesForm.get("year").value+e)}submit(){r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading();var e={module_id:this.module_id,created_by:sessionStorage.getItem("u"),series:this.seriesForm.get("series").value,series_code:sessionStorage.getItem("sc"),prefix:this.seriesForm.get("prefix").value,year:this.seriesForm.get("year").value,length:this.seriesForm.get("length").value,active:!0};this.tenantDefaultService.seriesU(e).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):this.tenantDefaultService.seriesList().subscribe(e=>{this.seriesList=e,this.table=[];for(var t=0;t<this.seriesList.length;t++)this.table.push({module_id:this.seriesList[t].module_id,module_name:this.seriesList[t].module_name,prefix:this.seriesList[t].prefix,year:this.seriesList[t].year,series:this.seriesList[t].series,length:this.seriesList[t].length,series_code:this.seriesList[t].series_code});$("#dataTableExample").DataTable().destroy(),this.dtTrigger.next(),r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error)})},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}ngOnDestroy(){this.dtTrigger.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(o.a),n.Lb(s.a),n.Lb(ce.j),n.Lb(h.c))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-series-code"]],viewQuery:function(e,t){if(1&e&&n.Nc(nt,!0),2&e){let e;n.uc(e=n.cc())&&(t.seriesModal=e.first)}},decls:4,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["seriesModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"control-label"],["formControlName","prefix","type","text","placeholder","Prefix",1,"form-control",3,"input"],["formControlName","year","type","text","placeholder","Year",1,"form-control",3,"input"],["formControlName","series","type","text","placeholder","Series",1,"form-control",3,"input"],["formControlName","length","type","text","placeholder","Length",1,"form-control",3,"input"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(n.Gc(0,ot,3,0,"div",0),n.Gc(1,ct,38,3,"div",1),n.Gc(2,bt,33,3,"ng-template",null,2,n.Hc)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,X.a,b.m,h.s,h.j,h.e,h.b,h.i,h.d],styles:[""]}),e})();var dt=i("PdH4"),ht=i.n(dt);function ut(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function pt(e,t){1&e&&(n.Rb(0,"p",33),n.Ic(1,"Module is needed!"),n.Qb())}function mt(e,t){1&e&&(n.Rb(0,"p",33),n.Ic(1,"Description is needed!"),n.Qb())}function ft(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Rb(4,"div",34),n.Rb(5,"label",35),n.Rb(6,"input",36),n.bc("change",function(t){return n.xc(e),n.dc(2).checkChange(t)}),n.Qb(),n.Mb(7,"i",37),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.description),n.yb(4),n.kc("checked",!0===e.active?"true":""),n.kc("value",e.id)}}const gt=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function vt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Dropdown Settings"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Dropdown Settings"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(17,"hr"),n.Rb(18,"div",10),n.Rb(19,"div",16),n.Rb(20,"form",17),n.Rb(21,"div",18),n.Rb(22,"div",19),n.Rb(23,"label",20),n.Ic(24,"Module"),n.Qb(),n.Rb(25,"ng-select",21),n.bc("change",function(){return n.xc(e),n.dc().moduleChange()}),n.Qb(),n.Gc(26,pt,2,0,"p",22),n.Qb(),n.Rb(27,"div",19),n.Rb(28,"label",23),n.Ic(29,"Description"),n.Qb(),n.Mb(30,"input",24),n.Gc(31,mt,2,0,"p",22),n.Qb(),n.Qb(),n.Qb(),n.Rb(32,"ul",25),n.Rb(33,"button",26),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(34,"i",27),n.Ic(35," Save Changes "),n.Qb(),n.Rb(36,"button",28),n.Ic(37," Click here! "),n.Qb(),n.Qb(),n.Qb(),n.Rb(38,"div",29),n.Rb(39,"div",30),n.Rb(40,"table",31),n.Rb(41,"thead"),n.Rb(42,"tr"),n.Rb(43,"th"),n.Ic(44,"Description"),n.Qb(),n.Rb(45,"th"),n.Ic(46,"Active"),n.Qb(),n.Mb(47,"th"),n.Qb(),n.Qb(),n.Rb(48,"tbody"),n.Gc(49,ft,8,3,"tr",32),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(20),n.jc("formGroup",e.dropdownForm),n.yb(5),n.jc("items",e.moduleType),n.yb(1),n.jc("ngIf",e.errModule),n.yb(5),n.jc("ngIf",e.errDescription),n.yb(5),n.jc("swal",n.mc(6,gt)),n.yb(13),n.jc("ngForOf",e.table)}}let yt=(()=>{class e{constructor(e,t,i){this.tenantMasterService=e,this.tenantDefaultService=t,this.fb=i,this.isLoading=!1,this.disSubmit=!1,this.errDescription=!1,this.errModule=!1,this.submitText="Proceed",this.moduleType=[],this.table=[]}ngOnInit(){this.dropdownForm=this.fb.group({description:[""],selectedModule:[null],createdBy:sessionStorage.getItem("user")}),this.tenantMasterService.dropdownFixType().subscribe(e=>{this.moduleType=e,this.isLoading=!1},e=>{console.log(e.error)})}moduleChange(){this.table=[],this.dropdownForm.get("description").setValue(""),this.tenantDefaultService.dropdownTAList(this.dropdownForm.get("selectedModule").value).subscribe(e=>{this.table=e},e=>{console.log(e.error)})}checkChange(e){var t=this.table.filter(t=>t.id==e.target.value)[0],i={dropdown_id:t.id,dropdown_type_id:t.type_id,dropdown_description:t.description,created_by:sessionStorage.getItem("u"),active:e.target.checked,series_code:sessionStorage.getItem("sc"),company_id:sessionStorage.getItem("ci")};this.tenantDefaultService.dropdownIU(i).subscribe(e=>{this.tenantDefaultService.dropdownTAList(this.dropdownForm.get("selectedModule").value).subscribe(e=>{this.table=e},e=>{console.log(e.error)})},e=>{console.log(e.error),ht.a.fire("Failed!","Transaction failed!","error")})}validation(){var e=!0;return this.errDescription=!1,""!==this.dropdownForm.get("selectedModule").value&&null!==this.dropdownForm.get("selectedModule").value||(e=!1,this.errModule=!0),""!==this.dropdownForm.get("description").value&&null!==this.dropdownForm.get("description").value||(e=!1,this.errDescription=!0),e}submit(){this.validation()&&ht.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&ht.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{ht.a.showLoading();var e={dropdown_id:"0",dropdown_type_id:this.moduleType.filter(e=>e.id===this.dropdownForm.get("selectedModule").value)[0].id,dropdown_description:this.dropdownForm.get("description").value,active:!0,series_code:sessionStorage.getItem("sc"),company_id:sessionStorage.getItem("ci"),created_by:sessionStorage.getItem("u")};this.tenantDefaultService.dropdownIU(e).subscribe(e=>{"0"===e.dropdown_id?ht.a.fire("Failed!","Transaction failed!","error"):(ht.a.fire("Ok!","Transaction successful!","success"),this.tenantDefaultService.dropdownTAList(this.dropdownForm.get("selectedModule").value).subscribe(e=>{this.table=[],this.table=e,this.dropdownForm.get("description").setValue("")}))},e=>{console.log(e.error),ht.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(s.a),n.Lb(o.a),n.Lb(h.c))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-dropdown-settings"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"col-lg-3","email-aside","border-lg-right"],[3,"formGroup"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","industry","bindLabel","description","bindValue","id","placeholder","Select Module","formControlName","selectedModule",3,"items","change"],["class","text-danger mt-1",4,"ngIf"],["for","exampleInputUsername1"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9","email-content"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"text-danger","mt-1"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","value","change"],[1,"input-frame"]],template:function(e,t){1&e&&(n.Gc(0,ut,3,0,"div",0),n.Gc(1,vt,50,7,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,d.a,h.i,h.d,h.b,u.a,p.a,b.m],styles:[""]}),e})();var Rt=i("mkVx");const Qt=["sequenceModal"];function _t(e,t){1&e&&(n.Rb(0,"div",3),n.Rb(1,"div",4),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function It(e,t){1&e&&n.Mb(0,"aw-wizard-step",43)}function kt(e,t){1&e&&n.Mb(0,"aw-wizard-step",44),2&e&&(n.kc("stepTitle",t.$implicit.status),n.jc("awCompletedStep",!0))}function Dt(e,t){if(1&e&&(n.Rb(0,"ng-option",45),n.Ic(1),n.Qb()),2&e){const e=t.$implicit;n.jc("value",e.index),n.yb(1),n.Jc(e.status)}}function Ct(e,t){if(1&e&&(n.Rb(0,"li",52),n.Ic(1),n.Qb()),2&e){const e=t.$implicit;n.yb(1),n.Jc(e.display_name)}}function Ft(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",17),n.Rb(1,"div",13),n.Rb(2,"div",46),n.Rb(3,"div",11),n.Rb(4,"div",47),n.Ic(5),n.Qb(),n.Rb(6,"div",47),n.Rb(7,"button",48),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(2).removeStatus(i)}),n.Rb(8,"span",49),n.Ic(9,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(10,"div",14),n.Rb(11,"ul",50),n.Gc(12,Ct,2,1,"li",51),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(5),n.Kc(" ",e.status," "),n.yb(7),n.jc("ngForOf",e.DetailRequest)}}const Mt=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function wt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",5),n.Rb(1,"nav",6),n.Rb(2,"ol",7),n.Rb(3,"li",8),n.Rb(4,"a",9),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",10),n.Ic(7,"Approval Process"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",11),n.Rb(9,"div",12),n.Rb(10,"div",13),n.Rb(11,"div",14),n.Rb(12,"div",15),n.Rb(13,"h6"),n.Ic(14,"Approval Process"),n.Qb(),n.Qb(),n.Rb(15,"form",16),n.Rb(16,"div",11),n.Rb(17,"div",17),n.Rb(18,"div",18),n.Rb(19,"label",19),n.Ic(20,"Approval Group"),n.Qb(),n.Mb(21,"ng-select",20),n.Qb(),n.Qb(),n.Rb(22,"div",21),n.Rb(23,"div",18),n.Rb(24,"label",19),n.Ic(25,"Module"),n.Qb(),n.Rb(26,"ng-select",22),n.bc("change",function(){return n.xc(e),n.dc().selectAll()}),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(27,"div",11),n.Rb(28,"div",23),n.Rb(29,"div",24),n.Rb(30,"button",25),n.bc("click",function(){return n.xc(e),n.dc().openSequenceModal()}),n.Mb(31,"i",26),n.Ic(32," View Sequence "),n.Qb(),n.Ic(33," \xa0 "),n.Rb(34,"button",25),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(35,"i",27),n.Ic(36," Save Changes "),n.Qb(),n.Mb(37,"button",28),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(38,"hr"),n.Rb(39,"form",16),n.Rb(40,"div",11),n.Rb(41,"div",29),n.Rb(42,"div",18),n.Rb(43,"label",30),n.Ic(44,"Status"),n.Qb(),n.Mb(45,"input",31),n.Rb(46,"p",32),n.Ic(47),n.Qb(),n.Qb(),n.Rb(48,"ul",33),n.Rb(49,"button",34),n.bc("click",function(){return n.xc(e),n.dc().addStatus()}),n.Mb(50,"i",27),n.Ic(51," Add "),n.Qb(),n.Qb(),n.Qb(),n.Rb(52,"div",35),n.Rb(53,"aw-wizard",36),n.Gc(54,It,1,0,"aw-wizard-step",37),n.Gc(55,kt,1,2,"aw-wizard-step",38),n.Qb(),n.Qb(),n.Qb(),n.Mb(56,"hr"),n.Qb(),n.Rb(57,"form",16),n.Rb(58,"div",11),n.Rb(59,"div",29),n.Rb(60,"div",18),n.Rb(61,"label",30),n.Ic(62,"Status"),n.Qb(),n.Rb(63,"ng-select",39),n.bc("change",function(t){return n.xc(e),n.dc().changeStatus(t)}),n.Gc(64,Dt,2,2,"ng-option",40),n.Qb(),n.Rb(65,"p",32),n.Ic(66),n.Qb(),n.Qb(),n.Rb(67,"div",18),n.Rb(68,"label",30),n.Ic(69,"Employee"),n.Qb(),n.Mb(70,"ng-select",41),n.Rb(71,"p",32),n.Ic(72),n.Qb(),n.Qb(),n.Rb(73,"ul",33),n.Rb(74,"button",34),n.bc("click",function(){return n.xc(e),n.dc().addEmployee()}),n.Mb(75,"i",27),n.Ic(76," Add "),n.Qb(),n.Qb(),n.Qb(),n.Rb(77,"div",35),n.Rb(78,"div",11),n.Gc(79,Ft,13,2,"div",42),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(15),n.jc("formGroup",e.headerForm),n.yb(6),n.jc("items",e.approvalList),n.yb(5),n.jc("items",e.moduleList)("multiple",!0)("searchable",!0),n.yb(11),n.jc("swal",n.mc(16,Mt)),n.yb(2),n.jc("formGroup",e.approvalForm),n.yb(8),n.Jc(e.errStatus),n.yb(7),n.jc("ngIf",e.defaultStatus),n.yb(1),n.jc("ngForOf",e.statusList),n.yb(2),n.jc("formGroup",e.employeeForm),n.yb(7),n.jc("ngForOf",e.statusList),n.yb(2),n.Jc(e.errSelectStatus),n.yb(4),n.jc("items",e.employeeList),n.yb(2),n.Jc(e.errEmployee),n.yb(7),n.jc("ngForOf",e.statusList)}}function Bt(e,t){if(1&e&&(n.Rb(0,"li",52),n.Ic(1),n.Qb()),2&e){const e=t.$implicit;n.yb(1),n.Jc(e.display_name)}}function Tt(e,t){if(1&e&&(n.Rb(0,"div",17),n.Rb(1,"div",13),n.Rb(2,"div",46),n.Rb(3,"div",11),n.Ic(4),n.Qb(),n.Qb(),n.Rb(5,"div",14),n.Rb(6,"ul",50),n.Gc(7,Bt,2,1,"li",51),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=t.$implicit;n.yb(4),n.Kc(" ",e.status," "),n.yb(3),n.jc("ngForOf",e.approver)}}function Ot(e,t){if(1&e&&(n.Rb(0,"div",23),n.Rb(1,"p"),n.Ic(2),n.Qb(),n.Rb(3,"div",11),n.Gc(4,Tt,8,2,"div",42),n.Qb(),n.Mb(5,"hr"),n.Qb()),2&e){const e=t.$implicit;n.yb(2),n.Jc(e.module_name),n.yb(2),n.jc("ngForOf",e.status)}}function Lt(e,t){if(1&e&&(n.Rb(0,"div",53),n.Rb(1,"h5",54),n.Ic(2,"Approval Sequence"),n.Qb(),n.Rb(3,"button",48),n.bc("click",function(){return t.$implicit.close("by: close icon")}),n.Rb(4,"span",49),n.Ic(5,"\xd7"),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"div",55),n.Rb(7,"div",11),n.Gc(8,Ot,6,2,"div",56),n.Qb(),n.Qb(),n.Rb(9,"div",57),n.Rb(10,"button",58),n.bc("click",function(){return t.$implicit.close("by: close button")}),n.Ic(11,"Close"),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(8),n.jc("ngForOf",e.sequenceList)}}let St=(()=>{class e{constructor(e,t,i,a,r){this.fb=e,this.userManagementService=t,this.tenantDefaultService=i,this.tenantMasterService=a,this.modalService=r,this.isLoading=!0,this.defaultStatus=!0,this.statusList=[],this.employeeList=[],this.approvalList=[],this.moduleList=[],this.allModule=[],this.errStatus="",this.errSelectStatus="",this.errEmployee="",this.sequenceList=[]}ngOnInit(){this.isLoading=!0,this.headerForm=this.fb.group({selectedApprovalGroup:[null],selectedModule:null}),this.approvalForm=this.fb.group({status:[""]}),this.employeeForm=this.fb.group({status:[""],selectedStatus:[null],selectedEmployee:[null]}),this.userManagementService.employeeList().subscribe(e=>{this.employeeList=e,this.tenantDefaultService.dropdownTList("17").subscribe(e=>{this.approvalList=e,this.tenantMasterService.moduleList().subscribe(e=>{this.moduleList=e;for(var t=0;t<e.length;t++)0!==e[t].module_id&&this.allModule.push(e[t].module_id);this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)})},e=>{console.log(e.error)})}selectAll(){let e=this.headerForm.get("selectedModule").value;for(var t=!1,i=0;i<e.length;i++)0===e[i]&&(t=!0);t&&this.headerForm.controls.selectedModule.setValue(this.allModule)}validateStatus(){var e=!0;this.errStatus="",this.errSelectStatus="",this.errEmployee="",""!==this.approvalForm.get("status").value&&null!==this.approvalForm.get("status").value||(e=!1,this.errStatus="Input Status!");for(var t=0;t<this.statusList.length;t++)this.approvalForm.get("status").value===this.statusList[t].status&&(e=!1,this.errStatus="Duplicate Status!");return e}addStatus(){this.validateStatus()&&(this.defaultStatus=!1,this.statusList.push({index:this.statusList.length,status:this.approvalForm.get("status").value,DetailRequest:[]}),this.approvalForm.reset())}removeStatus(e){this.statusList.splice(e,1)}validateEmployee(){var e=!0;this.errStatus="",this.errSelectStatus="",this.errEmployee="";var t=this.employeeForm.get("selectedEmployee").value;if(""===this.employeeForm.get("selectedStatus").value||null===this.employeeForm.get("selectedStatus").value)e=!1,this.errSelectStatus="Select Status!";else if(""===this.employeeForm.get("selectedEmployee").value||null===this.employeeForm.get("selectedEmployee").value)e=!1,this.errEmployee="Select Employee!";else{var i=this.statusList[this.selectedIndex].status;this.statusList.forEach(function(a){for(var r=0;r<a.DetailRequest.length;r++)t===a.DetailRequest[r].approver_id&&i===a.status&&(e=!1)}),e||(this.errEmployee="Duplicate Employee!")}return e}addEmployee(){if(this.validateEmployee()){let e=this.employeeList.filter(e=>e.employee_id===this.employeeForm.get("selectedEmployee").value)[0];this.statusList[this.selectedIndex].DetailRequest.push({approver_id:this.employeeForm.get("selectedEmployee").value,display_name:e.display_name}),this.employeeForm.reset()}}changeStatus(e){this.selectedIndex=e}openSequenceModal(){let e=this.headerForm.get("selectedModule").value;for(var t="",i=[],a=0;a<e.length;a++)0!==e[a]&&(t+=e[a]+",");this.tenantDefaultService.approvalSequenceList(t,this.headerForm.get("selectedApprovalGroup").value).subscribe(e=>{for(var t=0;t<e.length;t++){for(var a=[],r=0;r<e[t].statusRequest.length;r++){for(var n=[],o=0;o<e[t].statusRequest[r].detailRequest.length;o++){var s=e[t].statusRequest[r].detailRequest[o].approver_id;n.push({display_name:this.employeeList.filter(e=>e.employee_id===s)[0].display_name})}a.push({status:e[t].statusRequest[r].status,approver:n})}i.push({module_name:this.moduleList.filter(i=>i.module_id===e[t].module_id)[0].module_name,status:a})}this.sequenceList=i,this.modalService.open(this.sequenceModal,{size:"lg"})})}validation(){return!0}submit(){this.validation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading();for(var e=[],t=this.headerForm.controls.selectedModule.value,i=0;i<t.length;i++)e.push({module_id:t[i],approval_level_id:this.headerForm.controls.selectedApprovalGroup.value,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc"),StatusRequest:this.statusList});this.tenantDefaultService.approvalIU(e).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{r.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(K.a),n.Lb(o.a),n.Lb(s.a),n.Lb(ce.j))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-approval-process"]],viewQuery:function(e,t){if(1&e&&n.Nc(Qt,!0),2&e){let e;n.uc(e=n.cc())&&(t.sequenceModal=e.first)}},decls:4,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["sequenceModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-md-4"],[1,"form-group"],[1,"form-label"],["name","Approval Group","bindLabel","description","bindValue","id","placeholder","Select Approval Group","formControlName","selectedApprovalGroup",3,"items"],[1,"col-md-8"],["name","Module","bindLabel","module_name","bindValue","module_id","placeholder","Select Module","formControlName","selectedModule",3,"items","multiple","searchable","change"],[1,"col-md-12"],[1,"text-right"],["type","button",1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","search","appFeatherIcon","",1,"btn-icon-prepend"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-3","border-right"],[1,"control-label"],["type","text","formControlName","status","placeholder","Status",1,"form-control"],[1,"text-danger","mt-1"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],[1,"col-9"],[3,"awNavigationMode"],["stepTitle","None",4,"ngIf"],[3,"awCompletedStep","stepTitle",4,"ngFor","ngForOf"],["formControlName","selectedStatus",3,"change"],[3,"value",4,"ngFor","ngForOf"],["name","Employee","bindLabel","display_name","bindValue","employee_id","placeholder","Select Employee","formControlName","selectedEmployee",3,"items"],["class","col-md-4",4,"ngFor","ngForOf"],["stepTitle","None"],[3,"awCompletedStep","stepTitle"],[3,"value"],["id","newsHeading",1,"card-header","container-fluid"],[1,"col"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(n.Gc(0,_t,3,0,"div",0),n.Gc(1,wt,80,17,"div",1),n.Gc(2,Lt,12,1,"ng-template",null,2,n.Hc)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,d.a,h.i,h.d,u.a,p.a,h.b,Rt.f,Rt.c,b.m,Rt.g,Rt.b,d.c],styles:[""]}),e})();var xt=i("EAui");function jt(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function Nt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Rb(4,"div",31),n.Rb(5,"label",32),n.Rb(6,"input",33),n.bc("change",function(t){return n.xc(e),n.dc(2).checkChange(t)}),n.Qb(),n.Mb(7,"i",34),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.description),n.yb(4),n.kc("checked",!0===e.active?"true":""),n.kc("value",e.param_id)}}const Gt=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function Pt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Module Access"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"form",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",15),n.Rb(14,"div",11),n.Rb(15,"div",16),n.Rb(16,"h6"),n.Ic(17,"Module Access"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(18,"hr"),n.Rb(19,"div",11),n.Rb(20,"div",17),n.Rb(21,"div",18),n.Rb(22,"div",19),n.Rb(23,"label",20),n.Ic(24,"Module"),n.Qb(),n.Rb(25,"ng-select",21),n.bc("change",function(){return n.xc(e),n.dc().onChange()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(26,"div",18),n.Rb(27,"div",19),n.Rb(28,"label",20),n.Ic(29,"Access Type"),n.Qb(),n.Rb(30,"ng-select",22),n.bc("change",function(){return n.xc(e),n.dc().onChange()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(31,"ul",23),n.Rb(32,"button",24),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(33,"i",25),n.Ic(34," Save Changes "),n.Qb(),n.Mb(35,"button",26),n.Qb(),n.Qb(),n.Rb(36,"div",27),n.Rb(37,"div",28),n.Rb(38,"table",29),n.Rb(39,"thead"),n.Rb(40,"tr"),n.Rb(41,"th"),n.Ic(42,"Module Name"),n.Qb(),n.Rb(43,"th"),n.Ic(44,"Active"),n.Qb(),n.Qb(),n.Qb(),n.Rb(45,"tbody"),n.Gc(46,Nt,8,3,"tr",30),n.Qb(),n.Rb(47,"tfoot"),n.Rb(48,"tr"),n.Mb(49,"th"),n.Mb(50,"th"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(8),n.jc("formGroup",e.moduleAccessForm),n.yb(17),n.jc("items",e.moduleType),n.yb(5),n.jc("items",e.accessType),n.yb(5),n.jc("swal",n.mc(5,Gt)),n.yb(11),n.jc("ngForOf",e.table)}}let Ht=(()=>{class e{constructor(e,t,i,a){this.tenantMasterService=e,this.tenantDefaultService=t,this.permissionManagementService=i,this.fb=a,this.isLoading=!0,this.moduleType=[],this.accessType=[],this.table=[]}ngOnInit(){this.moduleAccessForm=this.fb.group({selectedModule:[null],selectedAccess:[null]}),this.tenantMasterService.dropdownList("13").subscribe(e=>{this.moduleType=e,this.tenantDefaultService.dropdownTList("14").subscribe(e=>{this.accessType=e,this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)})}onChange(){let e=!0;if(""!==this.moduleAccessForm.get("selectedModule").value&&null!==this.moduleAccessForm.get("selectedModule").value||(e=!1),""!==this.moduleAccessForm.get("selectedAccess").value&&null!==this.moduleAccessForm.get("selectedAccess").value||(e=!1),!0===e)switch(this.moduleAccessForm.get("selectedModule").value){case 33:this.permissionManagementService.dataUploadList(this.moduleAccessForm.get("selectedAccess").value).subscribe(e=>{this.showTable(e)},e=>{console.log(e.error)});break;case 31:this.permissionManagementService.moduleList(this.moduleAccessForm.get("selectedAccess").value).subscribe(e=>{this.showTable(e)},e=>{console.log(e.error)});break;case 32:this.permissionManagementService.reportList(this.moduleAccessForm.get("selectedAccess").value).subscribe(e=>{this.showTable(e)},e=>{console.log(e.error)})}}showTable(e){switch(this.moduleAccessForm.get("selectedModule").value){case 33:this.table=e.map(e=>({data_upload_id:e.data_upload_id,description:e.data_upload_name,active:e.active,access_level_id:e.int_access_level_id,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),param_id:e.data_upload_id}));break;case 31:this.table=e.map(e=>({module_id:e.module_id,description:e.module_name,active:e.active,access_level_id:e.int_access_level_id,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),param_id:e.module_id}));break;case 32:console.log(e),this.table=e.map(e=>({report_id:e.report_id,description:e.report_name,active:e.active,access_level_id:e.int_access_level_id,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),param_id:e.report_id}))}}checkChange(e){switch(this.moduleAccessForm.get("selectedModule").value){case 33:this.table[this.table.findIndex(t=>t.data_upload_id==e.target.value)].active=e.target.checked;break;case 31:this.table[this.table.findIndex(t=>t.module_id==e.target.value)].active=e.target.checked;break;case 32:this.table[this.table.findIndex(t=>t.report_id==e.target.value)].active=e.target.checked}}submit(){r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{switch(r.a.showLoading(),this.moduleAccessForm.get("selectedModule").value){case 33:this.permissionManagementService.dataUploadIn(this.table.filter(e=>!0===e.active)).subscribe(e=>{0===e.data_upload_id?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")});break;case 31:this.permissionManagementService.moduleIn(this.table.filter(e=>!0===e.active)).subscribe(e=>{0===e.module_id?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")});break;case 32:this.permissionManagementService.reportIn(this.table.filter(e=>!0===e.active)).subscribe(e=>{0===e.report_id?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(s.a),n.Lb(o.a),n.Lb(xt.a),n.Lb(h.c))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-module-access"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[3,"formGroup"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"col-lg-3","email-aside","border-lg-right"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","industry","bindLabel","description","bindValue","id","placeholder","Select Module","formControlName","selectedModule",3,"items","change"],["name","industry","bindLabel","description","bindValue","id","placeholder","Select Access type","formControlName","selectedAccess",3,"items","change"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9","email-content"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","value","change"],[1,"input-frame"]],template:function(e,t){1&e&&(n.Gc(0,jt,3,0,"div",0),n.Gc(1,Pt,51,6,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,d.a,h.i,h.d,u.a,p.a,b.m],styles:[""]}),e})();function At(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function Vt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Rb(2,"button",23),n.bc("click",function(){n.xc(e);const i=t.$implicit;return n.dc(2).viewBranch(i.branch_id)}),n.Mb(3,"i",24),n.Qb(),n.Qb(),n.Rb(4,"td"),n.Ic(5),n.Qb(),n.Rb(6,"td"),n.Ic(7),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(5),n.Jc(e.branch_code),n.yb(2),n.Jc(e.branchName)}}const Ut=function(){return["/layout/administration/branch-detail"]};function Et(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Branch"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Branch"),n.Qb(),n.Qb(),n.Rb(17,"div",15),n.Rb(18,"ul",16),n.Rb(19,"button",17),n.Mb(20,"i",18),n.Ic(21," Add Branch "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(22,"hr"),n.Rb(23,"div",19),n.Rb(24,"table",20,21),n.Rb(26,"thead"),n.Rb(27,"tr"),n.Mb(28,"th"),n.Rb(29,"th"),n.Ic(30,"Branch Code"),n.Qb(),n.Rb(31,"th"),n.Ic(32,"Branch Name"),n.Qb(),n.Qb(),n.Qb(),n.Rb(33,"tbody"),n.Gc(34,Vt,8,2,"tr",22),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(19),n.jc("routerLink",n.mc(2,Ut)),n.yb(15),n.jc("ngForOf",e.branchList)}}let $t=(()=>{class e{constructor(e,t){this.branchService=e,this.router=t,this.isLoading=!0,this.branchList=[],this.dtTrigger=new Z.a}ngOnInit(){this.branchService.branchView("0").subscribe(e=>{this.branchList=e,document.querySelector("#myTable"),this.isLoading=!1},e=>{console.log(e.error)})}ngOnDestroy(){this.dtTrigger.unsubscribe()}viewBranch(e){this.router.navigate(["/layout/administration/branch-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(oe.a),n.Lb(l.c))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-branch-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["datatable","",1,"row-border","hover"],["myTable",""],[4,"ngFor","ngForOf"],["type","button","title","Remove",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit"]],template:function(e,t){1&e&&(n.Gc(0,At,3,0,"div",0),n.Gc(1,Et,35,3,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,l.d,u.a,X.a,b.m],styles:[""]}),e})();var Jt=i("tmjD");function Wt(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function Yt(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Branch Name is needed!"),n.Qb())}function qt(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Industry is needed!"),n.Qb())}function zt(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Bank is needed!"),n.Qb())}function Zt(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Bank is needed!"),n.Qb())}function Kt(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Zip Code is needed!"),n.Qb())}function Xt(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Region is needed!"),n.Qb())}function ei(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Province is needed!"),n.Qb())}function ti(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"City is needed!"),n.Qb())}function ii(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Country is needed!"),n.Qb())}function ai(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"SSS is needed!"),n.Qb())}function ri(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Philhealth is needed!"),n.Qb())}function ni(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"TIN is needed!"),n.Qb())}function oi(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Pagibig is needed!"),n.Qb())}function si(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"RDO is needed!"),n.Qb())}function ci(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Branch is needed!"),n.Qb())}function bi(e,t){1&e&&(n.Rb(0,"p",66),n.Ic(1,"Email Address is not valid!"),n.Qb())}function li(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Rb(6,"button",67),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(2).removePhone(i)}),n.Mb(7,"i",68),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.description),n.yb(2),n.Jc(e.number)}}function di(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Rb(6,"button",67),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(2).removeEmail(i)}),n.Mb(7,"i",68),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.description),n.yb(2),n.Jc(e.email_address)}}function hi(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Rb(4,"button",67),n.bc("click",function(){n.xc(e);const i=t.index;return n.dc(2).removeIP(i)}),n.Mb(5,"i",68),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.description)}}const ui=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function pi(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",7),n.Rb(7,"a",9),n.Ic(8,"Branch"),n.Qb(),n.Qb(),n.Rb(9,"li",10),n.Ic(10,"Detail"),n.Qb(),n.Qb(),n.Qb(),n.Rb(11,"div",11),n.Rb(12,"div",12),n.Rb(13,"form",13),n.Rb(14,"div",14),n.Rb(15,"div",15),n.Rb(16,"h6",16),n.Ic(17,"Branch Information"),n.Qb(),n.Rb(18,"div",11),n.Rb(19,"div",17),n.Rb(20,"div",18),n.Rb(21,"label",19),n.Ic(22,"Branch Name"),n.Qb(),n.Mb(23,"input",20),n.Gc(24,Yt,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(25,"div",17),n.Rb(26,"div",18),n.Rb(27,"label",19),n.Ic(28,"Industry"),n.Qb(),n.Mb(29,"ng-select",22),n.Gc(30,qt,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(31,"div",11),n.Rb(32,"div",17),n.Rb(33,"div",18),n.Rb(34,"label",19),n.Ic(35,"Bank"),n.Qb(),n.Mb(36,"ng-select",23),n.Gc(37,zt,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(38,"div",17),n.Rb(39,"div",18),n.Rb(40,"label",19),n.Ic(41,"Bank Account"),n.Qb(),n.Mb(42,"input",24),n.Gc(43,Zt,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(44,"hr"),n.Rb(45,"div",14),n.Rb(46,"div",15),n.Rb(47,"div",16),n.Ic(48,"Branch Address"),n.Qb(),n.Rb(49,"div",11),n.Rb(50,"div",25),n.Rb(51,"div",18),n.Rb(52,"label",19),n.Ic(53,"Zip Code"),n.Qb(),n.Mb(54,"input",26),n.Gc(55,Kt,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(56,"div",27),n.Rb(57,"div",18),n.Rb(58,"label",19),n.Ic(59,"Unit/Flr#"),n.Qb(),n.Mb(60,"input",28),n.Qb(),n.Qb(),n.Rb(61,"div",29),n.Rb(62,"div",18),n.Rb(63,"label",19),n.Ic(64,"Building"),n.Qb(),n.Mb(65,"input",30),n.Qb(),n.Qb(),n.Rb(66,"div",29),n.Rb(67,"div",18),n.Rb(68,"label",19),n.Ic(69,"Street"),n.Qb(),n.Mb(70,"input",31),n.Qb(),n.Qb(),n.Rb(71,"div",29),n.Rb(72,"div",18),n.Rb(73,"label",19),n.Ic(74,"Barangay"),n.Qb(),n.Mb(75,"input",32),n.Qb(),n.Qb(),n.Qb(),n.Rb(76,"div",11),n.Rb(77,"div",29),n.Rb(78,"div",18),n.Rb(79,"label",19),n.Ic(80,"Region"),n.Qb(),n.Rb(81,"ng-select",33),n.bc("change",function(){return n.xc(e),n.dc().selectBranchRegion()}),n.Qb(),n.Gc(82,Xt,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(83,"div",29),n.Rb(84,"div",18),n.Rb(85,"label",19),n.Ic(86,"Province"),n.Qb(),n.Mb(87,"ng-select",34),n.Gc(88,ei,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(89,"div",29),n.Rb(90,"div",18),n.Rb(91,"label",19),n.Ic(92,"City"),n.Qb(),n.Mb(93,"ng-select",35),n.Gc(94,ti,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(95,"div",29),n.Rb(96,"div",18),n.Rb(97,"label",19),n.Ic(98,"Country"),n.Qb(),n.Mb(99,"ng-select",36),n.Gc(100,ii,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(101,"hr"),n.Rb(102,"div",14),n.Rb(103,"div",15),n.Rb(104,"div",16),n.Ic(105,"Government Information"),n.Qb(),n.Rb(106,"div",11),n.Rb(107,"div",17),n.Rb(108,"div",18),n.Rb(109,"label",19),n.Ic(110,"SSS"),n.Qb(),n.Mb(111,"input",37),n.Gc(112,ai,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(113,"div",17),n.Rb(114,"div",18),n.Rb(115,"label",19),n.Ic(116,"Philhealth"),n.Qb(),n.Mb(117,"input",38),n.Gc(118,ri,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(119,"div",11),n.Rb(120,"div",17),n.Rb(121,"div",18),n.Rb(122,"label",19),n.Ic(123,"TIN"),n.Qb(),n.Mb(124,"input",39),n.Gc(125,ni,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(126,"div",17),n.Rb(127,"div",18),n.Rb(128,"label",19),n.Ic(129,"Pagibig"),n.Qb(),n.Mb(130,"input",40),n.Gc(131,oi,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(132,"div",11),n.Rb(133,"div",25),n.Rb(134,"div",18),n.Rb(135,"label",19),n.Ic(136,"RDO"),n.Qb(),n.Rb(137,"ng-select",41),n.bc("change",function(){return n.xc(e),n.dc().selectRdoOffice()}),n.Qb(),n.Gc(138,si,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(139,"div",42),n.Rb(140,"div",18),n.Rb(141,"label",19),n.Ic(142,"\xa0"),n.Qb(),n.Rb(143,"ng-select",43),n.bc("change",function(){return n.xc(e),n.dc().selectRdoBranch()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(144,"div",25),n.Rb(145,"div",18),n.Rb(146,"label",19),n.Ic(147,"Branch"),n.Qb(),n.Rb(148,"ng-select",44),n.bc("change",function(){return n.xc(e),n.dc().selectPBranch()}),n.Qb(),n.Gc(149,ci,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(150,"div",25),n.Rb(151,"div",18),n.Rb(152,"label",19),n.Ic(153,"\xa0"),n.Qb(),n.Rb(154,"ng-select",45),n.bc("change",function(){return n.xc(e),n.dc().selectPCity()}),n.Qb(),n.Qb(),n.Qb(),n.Rb(155,"div",25),n.Rb(156,"div",18),n.Rb(157,"label",19),n.Ic(158,"\xa0"),n.Qb(),n.Mb(159,"input",46),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(160,"hr"),n.Rb(161,"div",14),n.Rb(162,"div",15),n.Rb(163,"div",16),n.Ic(164,"Contact Information"),n.Qb(),n.Rb(165,"div",11),n.Rb(166,"div",25),n.Rb(167,"div",18),n.Rb(168,"label",19),n.Ic(169,"Phone"),n.Qb(),n.Mb(170,"ng-select",47),n.Qb(),n.Qb(),n.Rb(171,"div",42),n.Rb(172,"div",18),n.Rb(173,"label",19),n.Ic(174,"Number"),n.Qb(),n.Rb(175,"div",11),n.Rb(176,"div",48),n.Mb(177,"input",49),n.Qb(),n.Rb(178,"div",50),n.Rb(179,"button",51),n.bc("click",function(t){return n.xc(e),n.dc().addPhone(t)}),n.Mb(180,"i",52),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(181,"div",25),n.Rb(182,"div",18),n.Rb(183,"label",19),n.Ic(184,"Email"),n.Qb(),n.Mb(185,"ng-select",53),n.Qb(),n.Qb(),n.Rb(186,"div",42),n.Rb(187,"div",18),n.Rb(188,"label",19),n.Ic(189,"Address"),n.Qb(),n.Rb(190,"div",11),n.Rb(191,"div",48),n.Mb(192,"input",54),n.Qb(),n.Rb(193,"div",50),n.Rb(194,"button",51),n.bc("click",function(t){return n.xc(e),n.dc().addEmail(t)}),n.Mb(195,"i",52),n.Qb(),n.Qb(),n.Qb(),n.Gc(196,bi,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(197,"div",11),n.Rb(198,"div",55),n.Rb(199,"div",56),n.Rb(200,"table",57),n.Rb(201,"thead"),n.Rb(202,"tr"),n.Rb(203,"th"),n.Ic(204,"Type"),n.Qb(),n.Rb(205,"th"),n.Ic(206,"Number"),n.Qb(),n.Mb(207,"th"),n.Qb(),n.Qb(),n.Rb(208,"tbody"),n.Gc(209,li,8,2,"tr",58),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(210,"div",55),n.Rb(211,"div",56),n.Rb(212,"table",57),n.Rb(213,"thead"),n.Rb(214,"tr"),n.Rb(215,"th"),n.Ic(216,"Type"),n.Qb(),n.Rb(217,"th"),n.Ic(218,"Address"),n.Qb(),n.Mb(219,"th"),n.Qb(),n.Qb(),n.Rb(220,"tbody"),n.Gc(221,di,8,2,"tr",58),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(222,"hr"),n.Rb(223,"div",11),n.Rb(224,"div",59),n.Rb(225,"div",18),n.Rb(226,"label",19),n.Ic(227,"IP Address"),n.Qb(),n.Rb(228,"div",11),n.Rb(229,"div",48),n.Mb(230,"input",60),n.Qb(),n.Rb(231,"div",50),n.Rb(232,"button",51),n.bc("click",function(t){return n.xc(e),n.dc().addIP(t)}),n.Mb(233,"i",52),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(234,"div",59),n.Rb(235,"div",56),n.Rb(236,"table",57),n.Rb(237,"thead"),n.Rb(238,"tr"),n.Rb(239,"th"),n.Ic(240,"IP"),n.Qb(),n.Mb(241,"th"),n.Qb(),n.Qb(),n.Rb(242,"tbody"),n.Gc(243,hi,6,1,"tr",58),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(244,"div",61),n.Rb(245,"ul",62),n.Rb(246,"button",63),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(247,"i",64),n.Ic(248," Save Changes "),n.Qb(),n.Mb(249,"button",65),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(13),n.jc("formGroup",e.branchForm),n.yb(11),n.jc("ngIf",e.errbranchName),n.yb(5),n.jc("items",e.industry),n.yb(1),n.jc("ngIf",e.errselectedIndustry),n.yb(6),n.jc("items",e.bank),n.yb(1),n.jc("ngIf",e.errselectedBank),n.yb(6),n.jc("ngIf",e.errbankAccount),n.yb(12),n.jc("ngIf",e.errBranchZipCode),n.yb(26),n.jc("items",e.region),n.yb(1),n.jc("ngIf",e.errBranchRegion),n.yb(5),n.jc("items",e.province),n.yb(1),n.jc("ngIf",e.errBranchProvince),n.yb(5),n.jc("items",e.branchCity),n.yb(1),n.jc("ngIf",e.errBranchCity),n.yb(5),n.jc("items",e.country),n.yb(1),n.jc("ngIf",e.errBranchCountry),n.yb(11),n.jc("showMaskTyped",!0),n.yb(1),n.jc("ngIf",e.errSSS),n.yb(5),n.jc("showMaskTyped",!0),n.yb(1),n.jc("ngIf",e.errPhilhealth),n.yb(6),n.jc("showMaskTyped",!0),n.yb(1),n.jc("ngIf",e.errTIN),n.yb(5),n.jc("showMaskTyped",!0),n.yb(1),n.jc("ngIf",e.errPagibig),n.yb(6),n.jc("items",e.rdoOffice),n.yb(1),n.jc("ngIf",e.errRDO),n.yb(5),n.jc("items",e.rdoBranch),n.yb(5),n.jc("items",e.pRegion),n.yb(1),n.jc("ngIf",e.errBranch),n.yb(5),n.jc("items",e.pCity),n.yb(16),n.jc("items",e.phone),n.yb(7),n.jc("showMaskTyped",!0),n.yb(8),n.jc("items",e.email),n.yb(11),n.jc("ngIf",e.errValidEmail),n.yb(13),n.jc("ngForOf",e.phoneList),n.yb(12),n.jc("ngForOf",e.emailList),n.yb(22),n.jc("ngForOf",e.ipList),n.yb(6),n.jc("swal",n.mc(38,ui))}}let mi=(()=>{class e{constructor(e,t,i,a,r){this.fb=e,this.tenantDefault=t,this.tenantMasterService=i,this.route=a,this.branchService=r,this.isLoading=!0,this.errbranchName=!1,this.errselectedIndustry=!1,this.errselectedBank=!1,this.errbankAccount=!1,this.errBranchZipCode=!1,this.errBranchProvince=!1,this.errBranchRegion=!1,this.errBranchCity=!1,this.errBranchCountry=!1,this.errSSS=!1,this.errPhilhealth=!1,this.errTIN=!1,this.errPagibig=!1,this.errRDO=!1,this.errBranch=!1,this.errBranchList=!1,this.errValidEmail=!1,this.branchCity=[],this.industry=[],this.bank=[],this.pCity=[],this.country=[],this.rdoOffice=[],this.rdoBranch=[],this.pRegion=[],this.region=[],this.phone=[],this.email=[],this.phoneList=[],this.emailList=[],this.province=[],this.ipList=[],this.dropdown=[],this.branchDetail=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.branchForm=this.fb.group({branchID:[0],branchName:[""],selectedIndustry:[null],selectedBank:[null],bankAccount:[""],zipCode:[""],unit:[""],building:[""],street:[""],barangay:[""],selectedProvince:[null],sss:[""],philhealth:[""],tin:[""],pagibig:[""],selectedCity:[null],selectedRegion:[null],selectedBranchCountry:[null],selectedRdoOffice:[null],selectedRdoBranch:[null],selectedPRegion:[null],selectedPCity:[null],selectedPCode:[""],selectedPhone:[null],phoneNumber:[""],selectedEmail:[null],emailAddress:[""],ipAddress:[""],createdBy:[sessionStorage.getItem("user")]}),this.tenantDefault.dropdownTList("1, 2, 11, 12,").subscribe(e=>{this.industry=e.filter(e=>1===e.type_id),this.bank=e.filter(e=>2===e.type_id),this.phone=e.filter(e=>11===e.type_id),this.email=e.filter(e=>12===e.type_id),this.tenantMasterService.dropdownList(0).subscribe(e=>{this.country=e.filter(e=>3===e.type_id),this.rdoOffice=e.filter(e=>4===e.type_id),this.rdoBranch=e.filter(e=>5===e.type_id),this.pRegion=e.filter(e=>6===e.type_id),this.region=e.filter(e=>10===e.type_id),this.province=e.filter(e=>61===e.type_id),this.tenantMasterService.dropdownEntitlement().subscribe(e=>{this.dropdown=e,""!==this.id?this.branchService.branchView(this.id).subscribe(e=>{this.branchDetail=e[0],this.branchCity=[],0!==this.branchDetail.selectedRegion&&(this.branchCity=this.dropdown.filter(e=>e.id===this.branchDetail.selectedRegion)),this.pCity=[],0!==this.branchDetail.selectedPRegion&&(this.pCity=this.dropdown.filter(e=>e.id===this.branchDetail.selectedPRegion&&0===e.id_to)),this.branchForm.setValue({branchID:this.branchDetail.branch_id,branchName:this.branchDetail.branchName,selectedIndustry:this.branchDetail.selectedIndustry,selectedBank:this.branchDetail.selectedBank,bankAccount:this.branchDetail.bankAccount,zipCode:this.branchDetail.zipCode,unit:this.branchDetail.unit,building:this.branchDetail.building,street:this.branchDetail.street,barangay:this.branchDetail.barangay,selectedProvince:this.branchDetail.province,sss:this.branchDetail.sss,philhealth:this.branchDetail.philhealth,tin:this.branchDetail.tin,pagibig:this.branchDetail.pagibig,selectedCity:this.branchDetail.selectedCity,selectedRegion:this.branchDetail.selectedRegion,selectedBranchCountry:this.branchDetail.selectedBranchCountry,selectedRdoOffice:this.branchDetail.selectedRdoOffice,selectedRdoBranch:this.branchDetail.selectedRdoBranch,selectedPRegion:this.branchDetail.selectedPRegion,selectedPCity:this.branchDetail.selectedPCity,selectedPCode:this.branchDetail.selectedPCode,selectedPhone:[null],phoneNumber:[""],selectedEmail:[null],emailAddress:[""],ipAddress:[""],createdBy:[sessionStorage.getItem("user")]}),this.branchService.contactList(this.id).subscribe(e=>{let t=[];for(var i=0;i<e.length;i++)t.push({id:e[i].id,description:this.phone.filter(t=>t.id==e[i].id)[0].description,number:e[i].number});this.phoneList=t}),this.branchService.emailList(this.id).subscribe(e=>{let t=[];for(var i=0;i<e.length;i++)t.push({id:e[i].id,description:this.email.filter(t=>t.id==e[i].id)[0].description,email_address:e[i].email_address});this.emailList=t}),this.branchService.ipList(this.id).subscribe(e=>{this.ipList=e}),this.isLoading=!1},e=>{console.log(e.error)}):(this.id="0",this.isLoading=!1)},e=>{console.log(e.error)})},e=>{console.log(e.error)})},e=>{console.log(e.error)})}selectBranchRegion(){this.branchForm.get("selectedCity").reset(),this.branchCity=[],this.branchCity=this.dropdown.filter(e=>e.id===this.branchForm.get("selectedRegion").value)}selectRdoOffice(){this.branchForm.get("selectedRdoBranch").reset(),this.branchForm.get("selectedRdoBranch").setValue(this.dropdown.filter(e=>e.id===this.branchForm.get("selectedRdoOffice").value)[0].to_id)}selectRdoBranch(){this.branchForm.get("selectedRdoOffice").reset(),this.branchForm.get("selectedRdoOffice").setValue(this.dropdown.filter(e=>e.id===this.branchForm.get("selectedRdoBranch").value)[0].to_id)}selectPBranch(){this.branchForm.get("selectedPCity").reset(),this.pCity=[],this.pCity=this.dropdown.filter(e=>e.id===this.branchForm.get("selectedPRegion").value&&0===e.id_to)}selectPCity(){this.branchForm.get("selectedPCode").reset(),this.branchForm.get("selectedPCode").setValue(this.dropdown.filter(e=>e.id===this.branchForm.get("selectedPRegion").value&&e.id_to===this.branchForm.get("selectedPCity").value)[0].to_description)}addPhone(e){let t=!0;if(""!==this.branchForm.get("phoneNumber").value&&null!==this.branchForm.get("phoneNumber").value||(t=!1),""!==this.branchForm.get("selectedPhone").value&&null!==this.branchForm.get("selectedPhone").value||(t=!1),t){let e=this.phone.filter(e=>e.id===this.branchForm.get("selectedPhone").value)[0],t={id:e.id,description:e.description,number:this.branchForm.get("phoneNumber").value};this.phoneList.push(t),this.branchForm.get("selectedPhone").reset(),this.branchForm.get("phoneNumber").reset()}}removePhone(e){this.phoneList.splice(e,1)}addEmail(e){let t=!0;if(""!==this.branchForm.get("emailAddress").value&&null!==this.branchForm.get("emailAddress").value&&(t=this.emailIsValid(this.branchForm.get("emailAddress").value),this.errValidEmail=!0),t){this.errValidEmail=!1;let e=this.email.filter(e=>e.id===this.branchForm.get("selectedEmail").value)[0],t={id:e.id,description:e.description,email_address:this.branchForm.get("emailAddress").value};this.emailList.push(t),this.branchForm.get("selectedEmail").reset(),this.branchForm.get("emailAddress").reset()}}emailIsValid(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}removeEmail(e){this.emailList.splice(e,1)}addIP(e){let t={description:this.branchForm.get("ipAddress").value};this.ipList.push(t),this.branchForm.get("ipAddress").reset()}removeIP(e){this.ipList.splice(e,1)}validation(){let e=!0;return""===this.branchForm.get("branchName").value?(e=!1,this.errbranchName=!0):this.errbranchName=!1,""===this.branchForm.get("selectedIndustry").value||null===this.branchForm.get("selectedIndustry").value?(e=!1,this.errselectedIndustry=!0):this.errselectedIndustry=!1,""===this.branchForm.get("selectedBank").value||null===this.branchForm.get("selectedBank").value?(e=!1,this.errselectedBank=!0):this.errselectedBank=!1,""===this.branchForm.get("bankAccount").value?(e=!1,this.errbankAccount=!0):this.errbankAccount=!1,""===this.branchForm.get("zipCode").value?(e=!1,this.errBranchZipCode=!0):this.errBranchZipCode=!1,""===this.branchForm.get("selectedProvince").value||null===this.branchForm.get("selectedProvince").value?(e=!1,this.errBranchProvince=!0):this.errBranchProvince=!1,""===this.branchForm.get("selectedRegion").value||null===this.branchForm.get("selectedRegion").value?(e=!1,this.errBranchRegion=!0):this.errBranchRegion=!1,""===this.branchForm.get("selectedCity").value||null===this.branchForm.get("selectedCity").value?(e=!1,this.errBranchCity=!0):this.errBranchCity=!1,""===this.branchForm.get("selectedBranchCountry").value||null===this.branchForm.get("selectedBranchCountry").value?(e=!1,this.errBranchCountry=!0):this.errBranchCountry=!1,""===this.branchForm.get("sss").value?(e=!1,this.errSSS=!0):this.errSSS=!1,""===this.branchForm.get("philhealth").value?(e=!1,this.errPhilhealth=!0):this.errPhilhealth=!1,""===this.branchForm.get("tin").value?(e=!1,this.errTIN=!0):this.errTIN=!1,""===this.branchForm.get("pagibig").value?(e=!1,this.errPagibig=!0):this.errPagibig=!1,""===this.branchForm.get("selectedRdoOffice").value||null===this.branchForm.get("selectedRdoOffice").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedRdoBranch").value||null===this.branchForm.get("selectedRdoBranch").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedPRegion").value||null===this.branchForm.get("selectedPRegion").value?(e=!1,this.errBranch=!0):this.errBranch=!1,""===this.branchForm.get("selectedPCity").value||null===this.branchForm.get("selectedPCity").value?(e=!1,this.errBranch=!0):this.errBranch=!1,e}submit(){this.validation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading();var e={branchID:this.id,branchName:this.branchForm.get("branchName").value,branch_series_code:"0",selectedIndustry:this.branchForm.get("selectedIndustry").value,selectedBank:this.branchForm.get("selectedBank").value,bankAccount:this.branchForm.get("bankAccount").value,zipCode:this.branchForm.get("zipCode").value,unit:this.branchForm.get("unit").value,building:this.branchForm.get("building").value,street:this.branchForm.get("street").value,barangay:this.branchForm.get("barangay").value,province:this.branchForm.get("selectedProvince").value,sss:this.branchForm.get("sss").value,philhealth:this.branchForm.get("philhealth").value,tin:this.branchForm.get("tin").value,pagibig:this.branchForm.get("pagibig").value,selectedCity:this.branchForm.get("selectedCity").value,selectedRegion:this.branchForm.get("selectedRegion").value,selectedBranchCountry:this.branchForm.get("selectedBranchCountry").value,selectedRdoOffice:this.branchForm.get("selectedRdoOffice").value,selectedRdoBranch:this.branchForm.get("selectedRdoBranch").value,selectedPRegion:this.branchForm.get("selectedPRegion").value,selectedPCity:this.branchForm.get("selectedPCity").value,selectedPCode:this.branchForm.get("selectedPCode").value,createdBy:sessionStorage.getItem("u"),contact_IU:this.phoneList,email_IU:this.emailList,iP_IU:this.ipList,company_series_code:sessionStorage.getItem("sc"),company_id:sessionStorage.getItem("ci"),created_by:sessionStorage.getItem("u")};this.branchService.branchIU(e).subscribe(e=>{0===e.branchID?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(o.a),n.Lb(s.a),n.Lb(l.a),n.Lb(oe.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-branch-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/branch-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[3,"formGroup"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-sm-6"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","branchName","placeholder","Branch Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["name","Industry","bindLabel","description","bindValue","id","placeholder","Select Industry","formControlName","selectedIndustry",3,"items"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Bank","formControlName","selectedBank",3,"items"],["type","text","formControlName","bankAccount","placeholder","Bank Account",1,"form-control"],[1,"col-sm-2"],["type","text","formControlName","zipCode","placeholder","Zip Code",1,"form-control"],[1,"col-sm-1"],["type","text","formControlName","unit","placeholder","Unit/Flr #",1,"form-control"],[1,"col-sm-3"],["type","text","formControlName","building","placeholder","Building",1,"form-control"],["type","text","formControlName","street","placeholder","Street",1,"form-control"],["type","text","formControlName","barangay","placeholder","Barangay",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Region","formControlName","selectedRegion",3,"items","change"],["name","Province","bindLabel","description","bindValue","id","placeholder","Select Province","formControlName","selectedProvince",3,"items"],["name","City","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedBranchCountry",3,"items"],["formControlName","sss","mask","00-0000000-0",1,"form-control","mb-4","mb-md-0",3,"showMaskTyped"],["type","text","formControlName","philhealth","mask","00-000000000-0","placeholder","Philhealth",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","tin","mask","000-000-000-000","placeholder","TIN","placeholder","TIN",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","pagibig","mask","0000-0000-0000","placeholder","Pagibig",1,"form-control",3,"showMaskTyped"],["name","RDO Office","bindLabel","description","bindValue","id","placeholder","Select RDO Office","formControlName","selectedRdoOffice",3,"items","change"],[1,"col-sm-4"],["name","RDO Branch","bindLabel","description","bindValue","id","placeholder","Select RDO Branch","formControlName","selectedRdoBranch",3,"items","change"],["name","Branch","bindLabel","description","bindValue","id","placeholder","Select Branch","formControlName","selectedPRegion",3,"items","change"],["name","Branch","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedPCity",3,"items","change"],["type","text","formControlName","selectedPCode","placeholder","Code",1,"form-control"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedPhone",3,"items"],[1,"col-md-10"],["type","text","prefix","+63 ","mask","000 000 0000","formControlName","phoneNumber","placeholder","Number",1,"form-control",3,"showMaskTyped"],[1,"col-md-2"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedEmail",3,"items"],["type","text","formControlName","emailAddress","placeholder","@illimitado.com",1,"form-control"],[1,"col-md-6"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"col-md-3"],["type","text","formControlName","ipAddress",1,"form-control"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(n.Gc(0,Wt,3,0,"div",0),n.Gc(1,pi,250,39,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,h.b,h.i,h.d,d.a,Jt.a,b.m,u.a,p.a],styles:[""]}),e})();var fi=i("AytR"),gi=i("pweZ"),vi=i("nkOh");function yi(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function Ri(e,t){1&e&&(n.Rb(0,"p",53),n.Ic(1,"Company Name is needed!"),n.Qb())}function Qi(e,t){1&e&&(n.Rb(0,"p",53),n.Ic(1,"Company Code is needed!"),n.Qb())}function _i(e,t){1&e&&(n.Rb(0,"p",53),n.Ic(1,"Zip Code is needed!"),n.Qb())}function Ii(e,t){1&e&&(n.Rb(0,"p",53),n.Ic(1,"Region is needed!"),n.Qb())}function ki(e,t){1&e&&(n.Rb(0,"p",53),n.Ic(1,"Province is needed!"),n.Qb())}function Di(e,t){1&e&&(n.Rb(0,"p",53),n.Ic(1,"City is needed!"),n.Qb())}function Ci(e,t){1&e&&(n.Rb(0,"p",53),n.Ic(1,"Country is needed!"),n.Qb())}const Fi=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function Mi(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Company"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"h6"),n.Ic(14,"Company"),n.Qb(),n.Qb(),n.Rb(15,"form",15),n.Rb(16,"div",10),n.Rb(17,"div",11),n.Rb(18,"div",10),n.Rb(19,"div",16),n.Rb(20,"div",17),n.Rb(21,"label",18),n.Ic(22,"Company Name"),n.Qb(),n.Mb(23,"input",19),n.Gc(24,Ri,2,0,"p",20),n.Qb(),n.Rb(25,"div",17),n.Rb(26,"label"),n.Ic(27,"File upload"),n.Qb(),n.Rb(28,"input",21),n.bc("change",function(t){return n.xc(e),n.dc().handleFileInput(t)}),n.Qb(),n.Rb(29,"div",22),n.bc("click",function(t){return n.xc(e),n.dc().openFileBrowser(t)}),n.Mb(30,"input",23),n.Rb(31,"span",24),n.Rb(32,"button",25),n.Ic(33,"Upload"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(34,"div",17),n.Rb(35,"label",18),n.Ic(36,"Company Code"),n.Qb(),n.Mb(37,"input",26),n.Gc(38,Qi,2,0,"p",20),n.Qb(),n.Qb(),n.Rb(39,"div",16),n.Rb(40,"div",27),n.Mb(41,"img",28),n.Qb(),n.Qb(),n.Qb(),n.Rb(42,"div",10),n.Rb(43,"div",16),n.Rb(44,"div",17),n.Rb(45,"label",18),n.Ic(46,"Series Code"),n.Qb(),n.Mb(47,"input",29),n.Qb(),n.Qb(),n.Rb(48,"div",30),n.Rb(49,"div",17),n.Rb(50,"label",18),n.Ic(51,"Timekeeping Start Basis"),n.Qb(),n.Mb(52,"ng-select",31),n.Qb(),n.Qb(),n.Rb(53,"div",32),n.Rb(54,"div",17),n.Mb(55,"label",18),n.Rb(56,"div",33),n.Mb(57,"input",34),n.Rb(58,"label",35),n.Ic(59,"Enable Notification?"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(60,"hr"),n.Rb(61,"div",14),n.Rb(62,"h6"),n.Ic(63,"Address"),n.Qb(),n.Qb(),n.Rb(64,"div",10),n.Rb(65,"div",36),n.Rb(66,"div",17),n.Rb(67,"label",37),n.Ic(68,"Zip Code"),n.Qb(),n.Mb(69,"input",38),n.Gc(70,_i,2,0,"p",20),n.Qb(),n.Qb(),n.Rb(71,"div",39),n.Rb(72,"div",17),n.Rb(73,"label",37),n.Ic(74,"Unit/Flr #"),n.Qb(),n.Mb(75,"input",40),n.Qb(),n.Qb(),n.Rb(76,"div",41),n.Rb(77,"div",17),n.Rb(78,"label",37),n.Ic(79,"Building"),n.Qb(),n.Mb(80,"input",42),n.Qb(),n.Qb(),n.Rb(81,"div",41),n.Rb(82,"div",17),n.Rb(83,"label",37),n.Ic(84,"Street"),n.Qb(),n.Mb(85,"input",43),n.Qb(),n.Qb(),n.Rb(86,"div",41),n.Rb(87,"div",17),n.Rb(88,"label",37),n.Ic(89,"Barangay"),n.Qb(),n.Mb(90,"input",44),n.Qb(),n.Qb(),n.Qb(),n.Rb(91,"div",10),n.Rb(92,"div",41),n.Rb(93,"div",17),n.Rb(94,"label",37),n.Ic(95,"Region"),n.Qb(),n.Rb(96,"ng-select",45),n.bc("change",function(){return n.xc(e),n.dc().selectRegion()}),n.Qb(),n.Gc(97,Ii,2,0,"p",20),n.Qb(),n.Qb(),n.Rb(98,"div",41),n.Rb(99,"div",17),n.Rb(100,"label",37),n.Ic(101,"Province"),n.Qb(),n.Mb(102,"ng-select",46),n.Gc(103,ki,2,0,"p",20),n.Qb(),n.Qb(),n.Rb(104,"div",41),n.Rb(105,"div",17),n.Rb(106,"label",37),n.Ic(107,"City"),n.Qb(),n.Mb(108,"ng-select",47),n.Gc(109,Di,2,0,"p",20),n.Qb(),n.Qb(),n.Rb(110,"div",41),n.Rb(111,"div",17),n.Rb(112,"label",37),n.Ic(113,"Country"),n.Qb(),n.Mb(114,"ng-select",48),n.Gc(115,Ci,2,0,"p",20),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(116,"ul",49),n.Rb(117,"button",50),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(118,"i",51),n.Ic(119," Update Company "),n.Qb(),n.Mb(120,"button",52),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(15),n.jc("formGroup",e.companyForm),n.yb(9),n.jc("ngIf",e.errCompanyName),n.yb(14),n.jc("ngIf",e.errCompanyCode),n.yb(3),n.jc("src",e.url,n.zc),n.yb(11),n.jc("items",e.tkBasis),n.yb(18),n.jc("ngIf",e.errZipCode),n.yb(26),n.jc("items",e.region),n.yb(1),n.jc("ngIf",e.errRegion),n.yb(5),n.jc("items",e.province),n.yb(1),n.jc("ngIf",e.errProvince),n.yb(5),n.jc("items",e.companyCity),n.yb(1),n.jc("ngIf",e.errCity),n.yb(5),n.jc("items",e.country),n.yb(1),n.jc("ngIf",e.errCountry),n.yb(5),n.jc("swal",n.mc(15,Fi))}}let wi=(()=>{class e{constructor(e,t,i,a){this.fb=e,this.accountManagementService=t,this.tenantMasterService=i,this.dataUploadManagementService=a,this.image=fi.a.exportUrl,this.isLoading=!0,this.viewForm=[],this.companyCity=[],this.region=[],this.province=[],this.dropdown=[],this.country=[],this.tkBasis=[],this.errCompanyName=!1,this.errCompanyCode=!1,this.errZipCode=!1,this.errProvince=!1,this.errCity=!1,this.errRegion=!1,this.errCountry=!1,this.url=""}ngOnInit(){this.companyForm=this.fb.group({companyID:0,companyName:"",companyCode:"",seriesCode:"",selectedCompanyCountry:[null],img:"",old_img:"",zipCode:"",unit:"",building:"",street:"",barangay:"",province:"",tk_gen_ref:null,selectedCity:null,selectedRegion:null,is_email:!1,createdBy:sessionStorage.getItem("u")}),this.tenantMasterService.dropdownList("3, 10, 61, 62,").subscribe(e=>{this.country=e.filter(e=>3===e.type_id),this.region=e.filter(e=>10===e.type_id),this.province=e.filter(e=>61===e.type_id),this.tkBasis=Object(ne.merge)([{id:0,description:"Default"}],e.filter(e=>62===e.type_id)),this.tenantMasterService.dropdownEntitlement().subscribe(e=>{this.dropdown=e,this.accountManagementService.companyView().subscribe(e=>{this.viewForm=e[0],this.companyCity=[],0!==this.viewForm.selectedRegion&&(this.companyCity=this.dropdown.filter(e=>e.id===this.viewForm.selectedRegion)),this.companyForm.setValue({companyID:this.viewForm.companyID,companyName:this.viewForm.companyName,companyCode:this.viewForm.companyCode,seriesCode:this.viewForm.series_code,selectedCompanyCountry:this.viewForm.selectedCompanyCountry,img:"",old_img:this.viewForm.old_img,zipCode:this.viewForm.zipCode,unit:this.viewForm.unit,building:this.viewForm.building,street:this.viewForm.street,barangay:this.viewForm.barangay,province:this.viewForm.province,selectedCity:this.viewForm.selectedCity,selectedRegion:this.viewForm.selectedRegion,tk_gen_ref:this.viewForm.tk_gen_ref_id,is_email:this.viewForm.is_email,createdBy:sessionStorage.getItem("u")}),this.url=this.image+this.viewForm.img,this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)})},e=>{console.log(e.error)})}selectRegion(){this.companyForm.get("selectedCity").reset(),this.companyCity=[],this.companyCity=this.dropdown.filter(e=>e.id===this.companyForm.get("selectedRegion").value)}openFileBrowser(e){if(e.preventDefault(),document.querySelector("#fileUploadInputExample").click(),e.target.files&&e.target.files[0]){var t=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),t.readAsDataURL(e.target.files[0]),t.onload=e=>{this.url=e.target.result},this.fileName=e.target.files}}handleFileInput(e){if(e.target.files.length&&(document.querySelector("#fileUploadInputExample + .input-group .file-upload-info").setAttribute("value",e.target.files[0].name),e.target.files&&e.target.files[0])){var t=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),t.readAsDataURL(e.target.files[0]),t.onload=e=>{this.url=e.target.result},this.fileName=e.target.files}}submit(){r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading(),this.accountManagementService.tenantUpdate(this.companyForm.value).subscribe(e=>{"0"===e.companyID?r.a.fire("Failed!","Transaction failed!","error"):(r.a.fire("Ok!","Transaction successful!","success"),this.dataUploadManagementService.companyImage(this.fileName,"code","5").subscribe(e=>{0==e.response&&r.a.fire("Failed!","Image Upload failed!","error")},e=>{console.log(e.error),r.a.fire("Failed!","Image Upload failed!","error")}))},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(gi.a),n.Lb(s.a),n.Lb(vi.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-company"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputUsername1"],["type","text","formControlName","companyName","autocomplete","off","placeholder","Company Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["accept",".png, .jpg, .jpeg","type","file","name","img[]","id","fileUploadInputExample",1,"file-upload-default",3,"change"],[1,"input-group","col-xs-12",3,"click"],["type","text","disabled","","placeholder","Upload Image",1,"form-control","file-upload-info"],[1,"input-group-append"],["type","button",1,"file-upload-browse","btn","btn-primary"],["type","text","formControlName","companyCode","autocomplete","off","placeholder","Company Code",1,"form-control"],[1,"media","d-block","d-sm-flex"],["height","150","width","width","src","https://via.placeholder.com/200x150","alt","...",3,"src"],["type","text","formControlName","seriesCode","autocomplete","off","placeholder","Company Code",1,"form-control"],[1,"col-md-4"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Basis","formControlName","tk_gen_ref",3,"items"],[1,"col-md-2"],[1,"custom-control","custom-switch"],["formControlName","is_email","type","checkbox","id","customSwitch1",1,"custom-control-input"],["for","customSwitch1",1,"custom-control-label"],[1,"col-sm-1"],[1,"control-label"],["type","text","formControlName","zipCode","placeholder","Zip Code",1,"form-control"],[1,"col-sm-2"],["type","text","formControlName","unit","placeholder","Unit/Flr #",1,"form-control"],[1,"col-sm-3"],["type","text","formControlName","building","placeholder","Unit/Flr #",1,"form-control"],["type","text","formControlName","street","placeholder","Enter zip code",1,"form-control"],["type","text","formControlName","barangay","placeholder","Barangay",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedRegion",3,"items","change"],["name","Province","bindLabel","description","bindValue","id","placeholder","Select Province","formControlName","province",3,"items"],["name","Country","bindLabel","to_description","bindValue","to_id","placeholder","Select Country","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedCompanyCountry",3,"items"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"]],template:function(e,t){1&e&&(n.Gc(0,yi,3,0,"div",0),n.Gc(1,Mi,121,16,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,h.b,h.i,h.d,d.a,h.a,u.a,p.a],styles:[""]}),e})();var Bi=i("wyZF");i("xgIS"),i("2Vo4"),i("1G5W"),i("mrSG");let Ti=(()=>{class e{constructor(e){this.document=e,this.width=this.getWidth()}getWidth(){const e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",this.document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const i=this.document.createElement("div");i.style.width="100%",e.appendChild(i);const a=i.offsetWidth;return e.parentNode.removeChild(e),t-a}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(b.d))},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac}),e})(),Oi=(()=>{class e{getDimensions(e){return e.getBoundingClientRect()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac}),e})(),Li=(()=>{class e{constructor(){this.columnInputChanges=new Z.a}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac}),e})();const Si={},xi="undefined"!=typeof document?document.createElement("div").style:void 0,ji=function(){const e="undefined"!=typeof window?window.getComputedStyle(document.documentElement,""):void 0,t=void 0!==e?Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/):null,i=null!==t?t[1]:void 0,a=void 0!==i?"WebKit|Moz|MS|O".match(new RegExp("("+i+")","i"))[1]:void 0;return a?{dom:a,lowercase:i,css:`-${i}-`,js:i[0].toUpperCase()+i.substr(1)}:void 0}();function Ni(e){const t=e.replace(/[^a-zA-Z0-9 ]/g," ").replace(/([a-z](?=[A-Z]))/g,"$1 ").replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase().replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,i){return t.trim()+i.toUpperCase()});return Si[t]||(void 0!==ji&&void 0!==xi[ji.css+e]?Si[t]=ji.css+e:void 0!==xi[e]&&(Si[t]=e)),Si[t]}"undefined"!=typeof window&&Ni("transform"),"undefined"!=typeof window&&Ni("backfaceVisibility"),"undefined"!=typeof window&&Ni("transform"),"undefined"!=typeof window&&Ni("perspective");const Gi="undefined"!=typeof window?window.navigator.userAgent:"Chrome";/Safari\//.test(Gi)&&/Chrome\//.test(Gi);let Pi=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:"configuration",useValue:t}]}}}return e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},providers:[Ti,Oi,Li],imports:[[b.c]]}),e})();"undefined"==typeof document||document.elementsFromPoint||(document.elementsFromPoint=function(e,t){const i=[],a=[];let r,n,o;for(;(r=document.elementFromPoint(e,t))&&-1===i.indexOf(r)&&null!=r;)i.push(r),a.push({value:r.style.getPropertyValue("pointer-events"),priority:r.style.getPropertyPriority("pointer-events")}),r.style.setProperty("pointer-events","none","important");for(n=a.length;o=a[--n];)i[n].style.setProperty("pointer-events",o.value?o.value:"",o.priority);return i});var Hi=i("tyVc"),Ai=i("H6xj");function Vi(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function Ui(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Ic(8),n.Qb(),n.Rb(9,"td"),n.Ic(10),n.Qb(),n.Rb(11,"td"),n.Ic(12),n.Qb(),n.Rb(13,"td"),n.Ic(14),n.Qb(),n.Rb(15,"td"),n.Rb(16,"button",22),n.bc("click",function(){n.xc(e);const i=t.$implicit;return n.dc(2).viewLeave(i.encrypted_leave_type_id)}),n.Mb(17,"i",23),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.leave_type_code),n.yb(2),n.Jc(e.leave_name),n.yb(2),n.Jc(e.description),n.yb(2),n.Jc(e.total_leaves),n.yb(2),n.Jc(e.filed_by_name),n.yb(2),n.Jc(e.display_name),n.yb(2),n.Jc(e.date_created)}}const Ei=function(){return["/layout/administration/leave-detail"]};function $i(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Leaves"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Leaves"),n.Qb(),n.Qb(),n.Rb(17,"div",15),n.Rb(18,"ul",16),n.Rb(19,"button",17),n.Mb(20,"i",18),n.Ic(21," Add Leaves "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(22,"hr"),n.Rb(23,"div",19),n.Rb(24,"table",20),n.Rb(25,"thead"),n.Rb(26,"tr"),n.Rb(27,"th"),n.Ic(28,"Leave Code"),n.Qb(),n.Rb(29,"th"),n.Ic(30,"Leave"),n.Qb(),n.Rb(31,"th"),n.Ic(32,"Description"),n.Qb(),n.Rb(33,"th"),n.Ic(34,"Total Leaves"),n.Qb(),n.Rb(35,"th"),n.Ic(36,"Filed By"),n.Qb(),n.Rb(37,"th"),n.Ic(38,"Created By"),n.Qb(),n.Rb(39,"th"),n.Ic(40,"Date Created"),n.Qb(),n.Mb(41,"th"),n.Qb(),n.Qb(),n.Rb(42,"tbody"),n.Gc(43,Ui,18,7,"tr",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(19),n.jc("routerLink",n.mc(4,Ei)),n.yb(5),n.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),n.yb(19),n.jc("ngForOf",e.table)}}let Ji=(()=>{class e{constructor(e,t,i,a){this.userManagementService=e,this.leaveManagementService=t,this.router=i,this.tenantMasterSetupService=a,this.isLoading=!0,this.dtOptions={},this.dtTrigger=new Z.a,this.table=[]}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.leaveManagementService.leaveView(0).subscribe(e=>{this.table=e,this.isLoading=!1,setTimeout(()=>{this.dtTrigger.next()},100)},e=>{console.log(e.error)})}viewLeave(e){this.router.navigate(["/layout/administration/leave-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(K.a),n.Lb(Ai.a),n.Lb(l.c),n.Lb(s.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-leave-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(n.Gc(0,Vi,3,0,"div",0),n.Gc(1,$i,44,5,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,l.d,u.a,X.a,b.m],styles:[""]}),e})();function Wi(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function Yi(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Leave Name is needed!"),n.Qb())}function qi(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Description is needed!"),n.Qb())}function zi(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Gender is needed!"),n.Qb())}function Zi(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Is require attachment is needed!"),n.Qb())}function Ki(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Is filed by is needed!"),n.Qb())}function Xi(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Leave start is needed!"),n.Qb())}function ea(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Total leave is needed!"),n.Qb())}function ta(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Leave accrued is needed!"),n.Qb())}function ia(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Accrued credit is needed!"),n.Qb())}function aa(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Leave per month is needed!"),n.Qb())}function ra(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Credits convertible is needed!"),n.Qb())}function na(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Taxable credits is needed!"),n.Qb())}function oa(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Non-Taxable credits is needed!"),n.Qb())}function sa(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Priority to convert is needed!"),n.Qb())}function ca(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Leave Before is needed!"),n.Qb())}function ba(e,t){1&e&&(n.Rb(0,"p",43),n.Ic(1,"Leave After is needed!"),n.Qb())}const la=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function da(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",7),n.Rb(7,"a",9),n.Ic(8,"Leave"),n.Qb(),n.Qb(),n.Rb(9,"li",10),n.Ic(10,"Detail"),n.Qb(),n.Qb(),n.Qb(),n.Rb(11,"div",11),n.Rb(12,"div",12),n.Rb(13,"div",13),n.Rb(14,"div",14),n.Rb(15,"form",15),n.Rb(16,"h6",16),n.Ic(17,"Leave"),n.Qb(),n.Rb(18,"div",11),n.Rb(19,"div",17),n.Rb(20,"div",18),n.Rb(21,"label",19),n.Ic(22,"Leave Name"),n.Qb(),n.Mb(23,"input",20),n.Gc(24,Yi,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(25,"div",17),n.Rb(26,"div",18),n.Rb(27,"label",19),n.Ic(28,"Description"),n.Qb(),n.Mb(29,"input",22),n.Gc(30,qi,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(31,"div",11),n.Rb(32,"div",23),n.Rb(33,"div",18),n.Rb(34,"label",19),n.Ic(35,"Gender to use this leave?"),n.Qb(),n.Mb(36,"ng-select",24),n.Gc(37,zi,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(38,"div",23),n.Rb(39,"div",18),n.Rb(40,"label",19),n.Ic(41,"Require Attachment?"),n.Qb(),n.Mb(42,"ng-select",25),n.Gc(43,Zi,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(44,"div",23),n.Rb(45,"div",18),n.Rb(46,"label",19),n.Ic(47,"Filed By?"),n.Qb(),n.Mb(48,"ng-select",26),n.Gc(49,Ki,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(50,"div",23),n.Rb(51,"div",18),n.Rb(52,"label",19),n.Ic(53,"Leave Start"),n.Qb(),n.Mb(54,"ng-select",27),n.Gc(55,Xi,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(56,"div",11),n.Rb(57,"div",23),n.Rb(58,"div",18),n.Rb(59,"label",19),n.Ic(60,"Total Leaves"),n.Qb(),n.Mb(61,"input",28),n.Gc(62,ea,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(63,"div",23),n.Rb(64,"div",18),n.Rb(65,"label",19),n.Ic(66,"Leave Accrued"),n.Qb(),n.Mb(67,"ng-select",29),n.Gc(68,ta,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(69,"div",23),n.Rb(70,"div",18),n.Rb(71,"label",19),n.Ic(72,"Accrued Credits"),n.Qb(),n.Mb(73,"input",30),n.Gc(74,ia,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(75,"div",23),n.Rb(76,"div",18),n.Rb(77,"label",19),n.Ic(78,"Leave Per Month"),n.Qb(),n.Mb(79,"input",31),n.Gc(80,aa,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(81,"div",11),n.Rb(82,"div",23),n.Rb(83,"div",18),n.Rb(84,"label",19),n.Ic(85,"Credits Convertible to Cash"),n.Qb(),n.Mb(86,"input",32),n.Gc(87,ra,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(88,"div",23),n.Rb(89,"div",18),n.Rb(90,"label",19),n.Ic(91,"Taxable Credits"),n.Qb(),n.Mb(92,"input",33),n.Gc(93,na,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(94,"div",23),n.Rb(95,"div",18),n.Rb(96,"label",19),n.Ic(97,"Non-Taxable Credits"),n.Qb(),n.Mb(98,"input",34),n.Gc(99,oa,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(100,"div",23),n.Rb(101,"div",18),n.Rb(102,"label",19),n.Ic(103,"Priority To Convert"),n.Qb(),n.Mb(104,"ng-select",35),n.Gc(105,sa,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Rb(106,"div",11),n.Rb(107,"div",23),n.Rb(108,"div",18),n.Rb(109,"label",19),n.Ic(110,"Leave Before"),n.Qb(),n.Mb(111,"input",36),n.Gc(112,ca,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(113,"div",23),n.Rb(114,"div",18),n.Rb(115,"label",19),n.Ic(116,"LeaveAfter"),n.Qb(),n.Mb(117,"input",37),n.Gc(118,ba,2,0,"p",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(119,"div",38),n.Rb(120,"ul",39),n.Rb(121,"button",40),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(122,"i",41),n.Ic(123," Save Changes "),n.Qb(),n.Mb(124,"button",42),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(15),n.jc("formGroup",e.leaveForm),n.yb(9),n.jc("ngIf",e.errLeaveName),n.yb(6),n.jc("ngIf",e.errDescription),n.yb(6),n.jc("items",e.gender),n.yb(1),n.jc("ngIf",e.errGender),n.yb(5),n.jc("items",e.attachment),n.yb(1),n.jc("ngIf",e.errAttachment),n.yb(5),n.jc("items",e.filedBy),n.yb(1),n.jc("ngIf",e.errFiledBy),n.yb(5),n.jc("items",e.leavestart),n.yb(1),n.jc("ngIf",e.errLeaveStart),n.yb(7),n.jc("ngIf",e.errTotalLeave),n.yb(5),n.jc("items",e.leaveType),n.yb(1),n.jc("ngIf",e.errLeaveAccrued),n.yb(6),n.jc("ngIf",e.errAccruedCredits),n.yb(6),n.jc("ngIf",e.errLeavePerMonth),n.yb(7),n.jc("ngIf",e.errCreditsConvertible),n.yb(6),n.jc("ngIf",e.errTaxableCredits),n.yb(6),n.jc("ngIf",e.errNonTaxableCredits),n.yb(5),n.jc("items",e.priority),n.yb(1),n.jc("ngIf",e.errPriorityConvert),n.yb(7),n.jc("ngIf",e.errLeaveBefore),n.yb(6),n.jc("ngIf",e.errLeaveAfter),n.yb(6),n.jc("swal",n.mc(24,la))}}let ha=(()=>{class e{constructor(e,t,i,a){this.fb=e,this.tenantMasterSetupService=t,this.leaveManagementService=i,this.route=a,this.isLoading=!0,this.leavestart=[],this.priority=[],this.leaveType=[],this.filedBy=[],this.gender=[],this.attachment=[{id:!1,description:"No"},{id:!0,description:"Yes"}],this.errLeaveName=!1,this.errDescription=!1,this.errGender=!1,this.errAttachment=!1,this.errFiledBy=!1,this.errLeaveStart=!1,this.errTotalLeave=!1,this.errLeaveAccrued=!1,this.errAccruedCredits=!1,this.errLeavePerMonth=!1,this.errCreditsConvertible=!1,this.errTaxableCredits=!1,this.errNonTaxableCredits=!1,this.errPriorityConvert=!1,this.errLeaveBefore=!1,this.errLeaveAfter=!1}ngOnInit(){this.LeaveID=this.route.snapshot.paramMap.get("id"),this.leaveForm=this.fb.group({leaveName:[""],leaveTypeCode:[""],description:[""],selectedGender:null,selectedAttachment:null,selectedFiledBy:null,selectedLeaveStart:null,totalLeaves:0,selectedAccrued:null,accruedCredits:0,leavePerMonth:0,convertibleToCash:0,taxableCredits:0,nonTaxableCredits:0,leaveBefore:0,leaveAfter:0,selectedPriority:null}),this.tenantMasterSetupService.dropdownList(0).subscribe(e=>{this.gender=e.filter(e=>43===e.type_id),this.filedBy=e.filter(e=>44===e.type_id),this.leavestart=e.filter(e=>45===e.type_id),this.leaveType=e.filter(e=>46===e.type_id),this.priority=e.filter(e=>47===e.type_id),""!==this.LeaveID?this.leaveManagementService.leaveView(this.LeaveID).subscribe(e=>{this.leaveForm=this.fb.group({leaveName:e[0].leave_name,leaveTypeCode:e[0].leave_type_code,description:e[0].description,selectedGender:e[0].gender_to_use,selectedAttachment:e[0].required_attachment,selectedFiledBy:e[0].filed_by,selectedLeaveStart:e[0].leave_start,totalLeaves:e[0].total_leaves,selectedAccrued:e[0].leave_accrued,accruedCredits:e[0].accrued_credits,leavePerMonth:e[0].leave_per_month,convertibleToCash:e[0].convertible_to_cash,taxableCredits:e[0].taxable_credits,nonTaxableCredits:e[0].non_taxable_credits,selectedPriority:e[0].priority_to_convert,leaveBefore:e[0].leave_before,leaveAfter:e[0].leave_after}),this.isLoading=!1},e=>{console.log(e.error)}):(this.LeaveID="0",this.isLoading=!1)},e=>{console.log(e.error)})}validation(){var e=!0;return this.errLeaveName=!1,this.errDescription=!1,this.errGender=!1,this.errAttachment=!1,this.errFiledBy=!1,this.errLeaveStart=!1,this.errTotalLeave=!1,this.errLeaveAccrued=!1,this.errAccruedCredits=!1,this.errLeavePerMonth=!1,this.errCreditsConvertible=!1,this.errTaxableCredits=!1,this.errNonTaxableCredits=!1,this.errPriorityConvert=!1,""!==this.leaveForm.get("leaveName").value&&null!==this.leaveForm.get("leaveName").value||(e=!1,this.errLeaveName=!0),""!==this.leaveForm.get("description").value&&null!==this.leaveForm.get("description").value||(e=!1,this.errDescription=!0),""!==this.leaveForm.get("selectedGender").value&&null!==this.leaveForm.get("selectedGender").value||(e=!1,this.errGender=!0),""!==this.leaveForm.get("selectedAttachment").value&&null!==this.leaveForm.get("selectedAttachment").value||(e=!1,this.errAttachment=!0),""!==this.leaveForm.get("selectedFiledBy").value&&null!==this.leaveForm.get("selectedFiledBy").value||(e=!1,this.errFiledBy=!0),""!==this.leaveForm.get("selectedLeaveStart").value&&null!==this.leaveForm.get("selectedLeaveStart").value||(e=!1,this.errLeaveStart=!0),""!==this.leaveForm.get("totalLeaves").value&&null!==this.leaveForm.get("totalLeaves").value||(e=!1,this.errTotalLeave=!0),""!==this.leaveForm.get("selectedAccrued").value&&null!==this.leaveForm.get("selectedAccrued").value||(e=!1,this.errLeaveAccrued=!0),""!==this.leaveForm.get("accruedCredits").value&&null!==this.leaveForm.get("accruedCredits").value||(e=!1,this.errAccruedCredits=!0),""!==this.leaveForm.get("leavePerMonth").value&&null!==this.leaveForm.get("leavePerMonth").value||(e=!1,this.errLeavePerMonth=!0),""!==this.leaveForm.get("convertibleToCash").value&&null!==this.leaveForm.get("convertibleToCash").value||(e=!1,this.errCreditsConvertible=!0),""!==this.leaveForm.get("taxableCredits").value&&null!==this.leaveForm.get("taxableCredits").value||(e=!1,this.errTaxableCredits=!0),""!==this.leaveForm.get("nonTaxableCredits").value&&null!==this.leaveForm.get("nonTaxableCredits").value||(e=!1,this.errNonTaxableCredits=!0),""!==this.leaveForm.get("selectedPriority").value&&null!==this.leaveForm.get("selectedPriority").value||(e=!1,this.errPriorityConvert=!0),""!==this.leaveForm.get("leaveBefore").value&&null!==this.leaveForm.get("leaveBefore").value||(e=!1,this.errLeaveBefore=!0),""!==this.leaveForm.get("leaveAfter").value&&null!==this.leaveForm.get("leaveAfter").value||(e=!1,this.errLeaveAfter=!0),e}submit(){this.validation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading();var e={leave_type_id:this.LeaveID,leave_name:this.leaveForm.get("leaveName").value,leave_type_code:this.leaveForm.get("leaveTypeCode").value,description:this.leaveForm.get("description").value,gender_to_use:this.leaveForm.get("selectedGender").value,required_attachment:this.leaveForm.get("selectedAttachment").value,filed_by:this.leaveForm.get("selectedFiledBy").value,leave_start:this.leaveForm.get("selectedLeaveStart").value,total_leaves:this.leaveForm.get("totalLeaves").value,leave_accrued:this.leaveForm.get("selectedAccrued").value,accrued_credits:this.leaveForm.get("accruedCredits").value,leave_per_month:this.leaveForm.get("leavePerMonth").value,convertible_to_cash:this.leaveForm.get("convertibleToCash").value,taxable_credits:this.leaveForm.get("taxableCredits").value,non_taxable_credits:this.leaveForm.get("nonTaxableCredits").value,priority_to_convert:this.leaveForm.get("selectedPriority").value,leave_before:this.leaveForm.get("leaveBefore").value,leave_after:this.leaveForm.get("leaveAfter").value,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")};this.leaveManagementService.leaveIU(e).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(s.a),n.Lb(Ai.a),n.Lb(l.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-leave-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/leave-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin"],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"card-title"],[1,"col-md-6"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","leaveName","placeholder","Leave Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"col-md-3"],["bindLabel","description","bindValue","id","placeholder","Select Gender","formControlName","selectedGender",3,"items"],["bindLabel","description","bindValue","id","placeholder","Select Attachment","formControlName","selectedAttachment",3,"items"],["bindLabel","description","bindValue","id","placeholder","Select Filed By","formControlName","selectedFiledBy",3,"items"],["bindLabel","description","bindValue","id","placeholder","Select Filed By","formControlName","selectedLeaveStart",3,"items"],["type","number","formControlName","totalLeaves","placeholder","0",1,"form-control"],["bindLabel","description","bindValue","id","placeholder","Select Attachment","formControlName","selectedAccrued",3,"items"],["type","number","formControlName","accruedCredits","placeholder","0",1,"form-control"],["type","number","formControlName","leavePerMonth","placeholder","0",1,"form-control"],["type","number","formControlName","convertibleToCash","placeholder","0",1,"form-control"],["type","number","formControlName","taxableCredits","placeholder","0",1,"form-control"],["type","number","formControlName","nonTaxableCredits","placeholder","0",1,"form-control"],["bindLabel","description","bindValue","id","placeholder","Select Filed By","formControlName","selectedPriority",3,"items"],["type","number","formControlName","leaveBefore","placeholder","0",1,"form-control"],["type","number","formControlName","leaveAfter","placeholder","0",1,"form-control"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"]],template:function(e,t){1&e&&(n.Gc(0,Wi,3,0,"div",0),n.Gc(1,da,125,25,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,h.b,h.i,h.d,d.a,h.n,u.a,p.a],styles:[""]}),e})();var ua=i("Jfpn");function pa(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function ma(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Ic(4),n.Qb(),n.Rb(5,"td"),n.Ic(6),n.Qb(),n.Rb(7,"td"),n.Ic(8),n.Qb(),n.Rb(9,"td"),n.Ic(10),n.Qb(),n.Rb(11,"td"),n.Ic(12),n.Qb(),n.Rb(13,"td"),n.Rb(14,"button",22),n.bc("click",function(){n.xc(e);const i=t.$implicit;return n.dc(2).viewShift(i.shift_id)}),n.Mb(15,"i",23),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=t.$implicit;n.yb(2),n.Jc(e.shift_code),n.yb(2),n.Jc(e.shift_name),n.yb(2),n.Jc(e.description),n.yb(2),n.Jc(e.status),n.yb(2),n.Jc(e.created_desc),n.yb(2),n.Jc(e.date_created)}}const fa=function(){return["/layout/administration/shiftcodesperday-detail"]};function ga(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",9),n.Ic(7,"Shift Codes"),n.Qb(),n.Qb(),n.Qb(),n.Rb(8,"div",10),n.Rb(9,"div",11),n.Rb(10,"div",12),n.Rb(11,"div",13),n.Rb(12,"div",14),n.Rb(13,"div",10),n.Rb(14,"div",15),n.Rb(15,"h6"),n.Ic(16,"Shift Codes"),n.Qb(),n.Qb(),n.Rb(17,"div",15),n.Rb(18,"ul",16),n.Rb(19,"button",17),n.Mb(20,"i",18),n.Ic(21," Add Shift Codes "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(22,"hr"),n.Rb(23,"div",19),n.Rb(24,"table",20),n.Rb(25,"thead"),n.Rb(26,"tr"),n.Rb(27,"th"),n.Ic(28,"Shift Code"),n.Qb(),n.Rb(29,"th"),n.Ic(30,"Shift Name"),n.Qb(),n.Rb(31,"th"),n.Ic(32,"Description"),n.Qb(),n.Rb(33,"th"),n.Ic(34,"Status"),n.Qb(),n.Rb(35,"th"),n.Ic(36,"Created By"),n.Qb(),n.Rb(37,"th"),n.Ic(38,"Date Created"),n.Qb(),n.Mb(39,"th"),n.Qb(),n.Qb(),n.Rb(40,"tbody"),n.Gc(41,ma,16,6,"tr",21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.dc();n.yb(19),n.jc("routerLink",n.mc(4,fa)),n.yb(5),n.jc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),n.yb(17),n.jc("ngForOf",e.table)}}function va(e,t){1&e&&(n.Rb(0,"div",2),n.Rb(1,"div",3),n.Ic(2,"Loading..."),n.Qb(),n.Qb())}function ya(e,t){1&e&&(n.Rb(0,"p",37),n.Ic(1,"Please input shift name!"),n.Qb())}function Ra(e,t){1&e&&(n.Rb(0,"p",37),n.Ic(1,"Please input number!"),n.Qb())}function Qa(e,t){1&e&&(n.Rb(0,"p",37),n.Ic(1,"Please input description!"),n.Qb())}function _a(e,t){1&e&&(n.Rb(0,"th"),n.Ic(1,"First Break In"),n.Qb())}function Ia(e,t){1&e&&(n.Rb(0,"th"),n.Ic(1,"First Break Out"),n.Qb())}function ka(e,t){1&e&&(n.Rb(0,"th"),n.Ic(1,"Second Break In"),n.Qb())}function Da(e,t){1&e&&(n.Rb(0,"th"),n.Ic(1,"Second Break Out"),n.Qb())}function Ca(e,t){1&e&&(n.Rb(0,"th"),n.Ic(1,"Third Break In"),n.Qb())}function Fa(e,t){1&e&&(n.Rb(0,"th"),n.Ic(1,"Third Break Out"),n.Qb())}function Ma(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().$implicit.popTimeIn=t})("ngModelChange",function(t){n.xc(e);const i=n.dc().index;return n.dc(2).onChangeTimeIn(i,t)}),n.Qb()}if(2&e){const e=n.dc().$implicit;n.jc("ngModel",e.popTimeIn)("meridian",!0)}}function wa(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().$implicit.popTimeOut=t})("ngModelChange",function(t){n.xc(e);const i=n.dc().index;return n.dc(2).onChangeTimeOut(i,t)}),n.Qb()}if(2&e){const e=n.dc().$implicit;n.jc("ngModel",e.popTimeOut)("meridian",!0)}}function Ba(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().$implicit.popHalfdayIn=t})("ngModelChange",function(t){n.xc(e);const i=n.dc().index;return n.dc(2).onChangeHalfdayIn(i,t)}),n.Qb()}if(2&e){const e=n.dc().$implicit;n.jc("ngModel",e.popHalfdayIn)("meridian",!0)}}function Ta(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().$implicit.popHalfdayOut=t})("ngModelChange",function(t){n.xc(e);const i=n.dc().index;return n.dc(2).onChangeHalfdayOut(i,t)}),n.Qb()}if(2&e){const e=n.dc().$implicit;n.jc("ngModel",e.popHalfdayOut)("meridian",!0)}}function Oa(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().$implicit.popNightDiffIn=t})("ngModelChange",function(t){n.xc(e);const i=n.dc().index;return n.dc(2).onChangeNightDiffIn(i,t)}),n.Qb()}if(2&e){const e=n.dc().$implicit;n.jc("ngModel",e.popNightDiffIn)("meridian",!0)}}function La(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc().$implicit.popNightDiffOut=t})("ngModelChange",function(t){n.xc(e);const i=n.dc().index;return n.dc(2).onChangeNightDiffOut(i,t)}),n.Qb()}if(2&e){const e=n.dc().$implicit;n.jc("ngModel",e.popNightDiffOut)("meridian",!0)}}function Sa(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).$implicit.popFirstBreakIn=t})("ngModelChange",function(t){n.xc(e);const i=n.dc(2).index;return n.dc(2).onFirstBreakIn(i,t)}),n.Qb()}if(2&e){const e=n.dc(2).$implicit;n.jc("ngModel",e.popFirstBreakIn)("meridian",!0)}}function xa(e,t){if(1&e&&(n.Rb(0,"td"),n.Gc(1,Sa,1,2,"ng-template",null,51,n.Hc),n.Mb(3,"input",42),n.ec(4,"date"),n.Qb()),2&e){const e=n.vc(2),t=n.dc().$implicit;n.yb(3),n.kc("value",n.gc(4,4,t.firstBreakIn,"hh:mm aa")),n.jc("disabled",!t.disableRow)("popover",e)("outsideClick",!0)}}function ja(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).$implicit.popFirstBreakOut=t})("ngModelChange",function(t){n.xc(e);const i=n.dc(2).index;return n.dc(2).onFirstBreakOut(i,t)}),n.Qb()}if(2&e){const e=n.dc(2).$implicit;n.jc("ngModel",e.popFirstBreakOut)("meridian",!0)}}function Na(e,t){if(1&e&&(n.Rb(0,"td"),n.Gc(1,ja,1,2,"ng-template",null,52,n.Hc),n.Mb(3,"input",42),n.ec(4,"date"),n.Qb()),2&e){const e=n.vc(2),t=n.dc().$implicit;n.yb(3),n.kc("value",n.gc(4,4,t.firstBreakOut,"hh:mm aa")),n.jc("disabled",!t.disableRow)("popover",e)("outsideClick",!0)}}function Ga(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).$implicit.popFirstBreakIn=t})("ngModelChange",function(t){n.xc(e);const i=n.dc(2).index;return n.dc(2).onSecondBreakIn(i,t)}),n.Qb()}if(2&e){const e=n.dc(2).$implicit;n.jc("ngModel",e.popFirstBreakIn)("meridian",!0)}}function Pa(e,t){if(1&e&&(n.Rb(0,"td"),n.Gc(1,Ga,1,2,"ng-template",null,53,n.Hc),n.Mb(3,"input",42),n.ec(4,"date"),n.Qb()),2&e){const e=n.vc(2),t=n.dc().$implicit;n.yb(3),n.kc("value",n.gc(4,4,t.secondBreakIn,"hh:mm aa")),n.jc("disabled",!t.disableRow)("popover",e)("outsideClick",!0)}}function Ha(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).$implicit.popFirstBreakOut=t})("ngModelChange",function(t){n.xc(e);const i=n.dc(2).index;return n.dc(2).onSecondBreakOut(i,t)}),n.Qb()}if(2&e){const e=n.dc(2).$implicit;n.jc("ngModel",e.popFirstBreakOut)("meridian",!0)}}function Aa(e,t){if(1&e&&(n.Rb(0,"td"),n.Gc(1,Ha,1,2,"ng-template",null,54,n.Hc),n.Mb(3,"input",42),n.ec(4,"date"),n.Qb()),2&e){const e=n.vc(2),t=n.dc().$implicit;n.yb(3),n.kc("value",n.gc(4,4,t.secondBreakOut,"hh:mm aa")),n.jc("disabled",!t.disableRow)("popover",e)("outsideClick",!0)}}function Va(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).$implicit.popFirstBreakIn=t})("ngModelChange",function(t){n.xc(e);const i=n.dc(2).index;return n.dc(2).onThirdBreakIn(i,t)}),n.Qb()}if(2&e){const e=n.dc(2).$implicit;n.jc("ngModel",e.popFirstBreakIn)("meridian",!0)}}function Ua(e,t){if(1&e&&(n.Rb(0,"td"),n.Gc(1,Va,1,2,"ng-template",null,55,n.Hc),n.Mb(3,"input",42),n.ec(4,"date"),n.Qb()),2&e){const e=n.vc(2),t=n.dc().$implicit;n.yb(3),n.kc("value",n.gc(4,4,t.thirdBreakIn,"hh:mm aa")),n.jc("disabled",!t.disableRow)("popover",e)("outsideClick",!0)}}function Ea(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-timepicker",50),n.bc("ngModelChange",function(t){return n.xc(e),n.dc(2).$implicit.popFirstBreakOut=t})("ngModelChange",function(t){n.xc(e);const i=n.dc(2).index;return n.dc(2).onThirdBreakOut(i,t)}),n.Qb()}if(2&e){const e=n.dc(2).$implicit;n.jc("ngModel",e.popFirstBreakOut)("meridian",!0)}}function $a(e,t){if(1&e&&(n.Rb(0,"td"),n.Gc(1,Ea,1,2,"ng-template",null,56,n.Hc),n.Mb(3,"input",42),n.ec(4,"date"),n.Qb()),2&e){const e=n.vc(2),t=n.dc().$implicit;n.yb(3),n.kc("value",n.gc(4,4,t.thirdBreakOut,"hh:mm aa")),n.jc("disabled",!t.disableRow)("popover",e)("outsideClick",!0)}}function Ja(e,t){if(1&e){const e=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ic(2),n.Qb(),n.Rb(3,"td"),n.Rb(4,"div",38),n.Rb(5,"input",39),n.bc("ngModelChange",function(){n.xc(e);const i=t.index;return n.dc(2).selectRestDay(i)})("ngModelChange",function(e){return t.$implicit.isRestday=e}),n.Qb(),n.Mb(6,"label",40),n.Qb(),n.Qb(),n.Rb(7,"td"),n.Gc(8,Ma,1,2,"ng-template",null,41,n.Hc),n.Mb(10,"input",42),n.ec(11,"date"),n.Qb(),n.Rb(12,"td"),n.Gc(13,wa,1,2,"ng-template",null,43,n.Hc),n.Mb(15,"input",42),n.ec(16,"date"),n.Qb(),n.Rb(17,"td"),n.Rb(18,"input",44),n.bc("ngModelChange",function(e){return t.$implicit.workingHrs=e}),n.Qb(),n.Qb(),n.Rb(19,"td"),n.Gc(20,Ba,1,2,"ng-template",null,45,n.Hc),n.Mb(22,"input",42),n.ec(23,"date"),n.Qb(),n.Rb(24,"td"),n.Gc(25,Ta,1,2,"ng-template",null,46,n.Hc),n.Mb(27,"input",42),n.ec(28,"date"),n.Qb(),n.Rb(29,"td"),n.Gc(30,Oa,1,2,"ng-template",null,47,n.Hc),n.Mb(32,"input",42),n.ec(33,"date"),n.Qb(),n.Rb(34,"td"),n.Gc(35,La,1,2,"ng-template",null,48,n.Hc),n.Mb(37,"input",42),n.ec(38,"date"),n.Qb(),n.Rb(39,"td"),n.Rb(40,"ng-select",49),n.bc("ngModelChange",function(e){return t.$implicit.breakCount=e})("change",function(){return n.xc(e),n.dc(2).breakChange()}),n.Qb(),n.Qb(),n.Gc(41,xa,5,7,"td",31),n.Gc(42,Na,5,7,"td",31),n.Gc(43,Pa,5,7,"td",31),n.Gc(44,Aa,5,7,"td",31),n.Gc(45,Ua,5,7,"td",31),n.Gc(46,$a,5,7,"td",31),n.Qb()}if(2&e){const e=t.$implicit,i=t.index,a=n.vc(9),r=n.vc(14),o=n.vc(21),s=n.vc(26),c=n.vc(31),b=n.vc(36),l=n.dc(2);n.yb(2),n.Jc(e.day),n.yb(3),n.kc("id","chk"+i),n.jc("ngModel",e.isRestday),n.yb(1),n.kc("for","chk"+i),n.yb(4),n.kc("value",n.gc(11,38,e.timeIn,"hh:mm aa")),n.jc("disabled",!e.disableRow)("popover",a)("outsideClick",!0),n.yb(5),n.kc("value",n.gc(16,41,e.timeOut,"hh:mm aa")),n.jc("disabled",!e.disableRow)("popover",r)("outsideClick",!0),n.yb(3),n.jc("disabled",!l.shiftForm.value.isFlexi)("ngModel",e.workingHrs),n.yb(4),n.kc("value",n.gc(23,44,e.halfdayIn,"hh:mm aa")),n.jc("disabled",!e.disableRow)("popover",o)("outsideClick",!0),n.yb(5),n.kc("value",n.gc(28,47,e.halfdayOut,"hh:mm aa")),n.jc("disabled",!e.disableRow)("popover",s)("outsideClick",!0),n.yb(5),n.kc("value",n.gc(33,50,e.nightDiffIn,"hh:mm aa")),n.jc("disabled",!e.disableRow)("popover",c)("outsideClick",!0),n.yb(5),n.kc("value",n.gc(38,53,e.nightDiffOut,"hh:mm aa")),n.jc("disabled",!e.disableRow)("popover",b)("outsideClick",!0),n.yb(3),n.jc("items",l.breakCount)("ngModel",e.breakCount),n.yb(1),n.jc("ngIf",null!==e.breakCount),n.yb(1),n.jc("ngIf",null!==e.breakCount),n.yb(1),n.jc("ngIf",e.breakCount>=2),n.yb(1),n.jc("ngIf",e.breakCount>=2),n.yb(1),n.jc("ngIf",e.breakCount>=3),n.yb(1),n.jc("ngIf",e.breakCount>=3)}}function Wa(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",4),n.Rb(1,"nav",5),n.Rb(2,"ol",6),n.Rb(3,"li",7),n.Rb(4,"a",8),n.Ic(5,"Company Setup"),n.Qb(),n.Qb(),n.Rb(6,"li",7),n.Rb(7,"a",9),n.Ic(8,"Shift Codes"),n.Qb(),n.Qb(),n.Rb(9,"li",10),n.Ic(10,"Detail"),n.Qb(),n.Qb(),n.Qb(),n.Rb(11,"div",11),n.Rb(12,"div",12),n.Rb(13,"div",13),n.Rb(14,"div",14),n.Rb(15,"div",15),n.Rb(16,"h6"),n.Ic(17,"Shift Codes"),n.Qb(),n.Qb(),n.Rb(18,"form",16),n.Rb(19,"div",11),n.Rb(20,"div",17),n.Rb(21,"div",18),n.Rb(22,"label",19),n.Ic(23,"Shift Name"),n.Qb(),n.Mb(24,"input",20),n.Gc(25,ya,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(26,"div",22),n.Rb(27,"div",18),n.Rb(28,"label",19),n.Ic(29,"Grace Period"),n.Qb(),n.Mb(30,"input",23),n.Gc(31,Ra,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(32,"div",17),n.Rb(33,"div",18),n.Rb(34,"label",19),n.Ic(35,"Description"),n.Qb(),n.Mb(36,"input",24),n.Gc(37,Qa,2,0,"p",21),n.Qb(),n.Qb(),n.Rb(38,"div",22),n.Rb(39,"div",18),n.Rb(40,"label",19),n.Ic(41,"\xa0"),n.Qb(),n.Rb(42,"div",25),n.Rb(43,"label",26),n.Rb(44,"input",27),n.bc("change",function(t){return n.xc(e),n.dc().onFlexi(t)}),n.Qb(),n.Mb(45,"i",28),n.Ic(46," Is Flexi? "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Mb(47,"hr"),n.Qb(),n.Rb(48,"div",11),n.Rb(49,"div",29),n.Rb(50,"table",30),n.Rb(51,"thead"),n.Rb(52,"tr"),n.Rb(53,"th"),n.Ic(54,"Day"),n.Qb(),n.Rb(55,"th"),n.Ic(56,"Restday"),n.Qb(),n.Rb(57,"th"),n.Ic(58,"Time In"),n.Qb(),n.Rb(59,"th"),n.Ic(60,"Timout In"),n.Qb(),n.Rb(61,"th"),n.Ic(62,"Working Hrs"),n.Qb(),n.Rb(63,"th"),n.Ic(64,"Halfday In"),n.Qb(),n.Rb(65,"th"),n.Ic(66,"Halfday Out"),n.Qb(),n.Rb(67,"th"),n.Ic(68,"Night Diff In"),n.Qb(),n.Rb(69,"th"),n.Ic(70,"Night Diff Out"),n.Qb(),n.Rb(71,"th"),n.Ic(72,"Break Count"),n.Qb(),n.Gc(73,_a,2,0,"th",31),n.Gc(74,Ia,2,0,"th",31),n.Gc(75,ka,2,0,"th",31),n.Gc(76,Da,2,0,"th",31),n.Gc(77,Ca,2,0,"th",31),n.Gc(78,Fa,2,0,"th",31),n.Qb(),n.Qb(),n.Rb(79,"tbody"),n.Gc(80,Ja,47,56,"tr",32),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(81,"div",33),n.Rb(82,"ul",34),n.Rb(83,"button",35),n.bc("click",function(){return n.xc(e),n.dc().submit()}),n.Mb(84,"i",36),n.Ic(85," Save Shift Code "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.dc();n.yb(18),n.jc("formGroup",e.shiftForm),n.yb(7),n.jc("ngIf",e.errShiftName),n.yb(6),n.jc("ngIf",e.errGracePeriod),n.yb(6),n.jc("ngIf",e.errDescription),n.yb(36),n.jc("ngIf",e.firstBreak),n.yb(1),n.jc("ngIf",e.firstBreak),n.yb(1),n.jc("ngIf",e.secondBreak),n.yb(1),n.jc("ngIf",e.secondBreak),n.yb(1),n.jc("ngIf",e.thirdBreak),n.yb(1),n.jc("ngIf",e.thirdBreak),n.yb(2),n.jc("ngForOf",e.shiftDetail)}}const Ya=[{path:"",component:Bi.a,children:[{path:"",redirectTo:"company",pathMatch:"full"},{path:"company",component:wi},{path:"branch-view",component:$t},{path:"branch-detail",redirectTo:"branch-detail/",pathMatch:"full"},{path:"branch-detail/:id",component:mi},{path:"module-access",component:Ht},{path:"approval-process",component:St},{path:"dropdown-settings",component:yt},{path:"series-code",component:lt},{path:"shiftcodes-view",component:rt},{path:"shiftcodes-detail",redirectTo:"shiftcodes-detail/",pathMatch:"full"},{path:"shiftcodes-detail/:id",component:Xe},{path:"holiday-view",component:De},{path:"holiday-detail",redirectTo:"holiday-detail/",pathMatch:"full"},{path:"holiday-detail/:id",component:Re},{path:"allowance-deduction-view",component:re},{path:"allowance-deduction-detail",redirectTo:"allowance-deduction-detail/",pathMatch:"full"},{path:"allowance-deduction-detail/:id",component:z},{path:"payroll-rates",component:P},{path:"contributions",component:S},{path:"leave-view",component:Ji},{path:"leave-detail",redirectTo:"leave-detail/",pathMatch:"full"},{path:"leave-detail/:id",component:ha},{path:"shiftcodesperday-view",component:(()=>{class e{constructor(e,t){this.shiftcodeManagementService=e,this.router=t,this.isLoading=!0,this.table=[],this.dtOptions={},this.dtTrigger=new Z.a}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.shiftcodeManagementService.shiftPerDayView(0).subscribe(e=>{this.table=e.map(e=>({active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,shift_code:e.shift_per_day_code,shift_name:e.shift_name,status:e.status,shift_id:e.shift_per_day_id,description:e.description})),this.isLoading=!1,setTimeout(()=>{this.dtTrigger.next()},100)},e=>{console.log(e.error)})}viewShift(e){this.router.navigate(["/layout/administration/shiftcodesperday-detail",e])}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(Ce.a),n.Lb(l.c))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-shiftcodesperday-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(n.Gc(0,pa,3,0,"div",0),n.Gc(1,ga,42,5,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,l.d,u.a,X.a,b.m],styles:[""]}),e})()},{path:"shiftcodesperday-detail",redirectTo:"shiftcodesperday-detail/",pathMatch:"full"},{path:"shiftcodesperday-detail/:id",component:(()=>{class e{constructor(e,t,i,a){this.fb=e,this.route=t,this.decimalPipe=i,this.shiftcodeManagementService=a,this.isLoading=!0,this.firstBreak=!1,this.secondBreak=!1,this.thirdBreak=!1,this.shiftDetail=[],this.defaultDate=new Date("1900-01-01 00:00"),this.pipe=new b.e("en-US"),this.breakCount=[{id:1,description:"One Break"},{id:2,description:"Two Break"},{id:3,description:"Three Break"}]}ngOnInit(){this.shiftID=this.route.snapshot.paramMap.get("id"),this.shiftForm=this.fb.group({shiftName:"",shiftCode:"",gracePeriod:this.decimalPipe.transform(0,"1.2-2"),description:"",isFlexi:!1}),this.resetError(!1),""!=this.shiftID?this.shiftcodeManagementService.shiftPerDayView(this.shiftID).subscribe(e=>{this.shiftForm.setValue({shiftName:e[0].shift_name,shiftCode:e[0].shift_per_day_code,gracePeriod:this.decimalPipe.transform(e[0].grace_period,"1.2-2"),description:e[0].description,isFlexi:e[0].is_flexi}),this.shiftcodeManagementService.shiftDetailPerDayView(this.shiftID).subscribe(e=>{this.shiftDetail=e.map(e=>({day:e.day_name,index:e.day,isRestday:e.is_rest_day,disableRow:!0!==e.is_rest_day,popTimeIn:new Date("1900-01-01 "+e.time_in),timeIn:new Date("1900-01-01 "+e.time_in),prevTimeIn:new Date("1900-01-01 "+e.time_in),popTimeOut:new Date("1900-01-01 "+e.time_out),timeOut:new Date("1900-01-01 "+e.time_out),prevTimeOut:new Date("1900-01-01 "+e.time_out),popHalfdayIn:new Date("1900-01-01 "+e.half_day_in),halfdayIn:new Date("1900-01-01 "+e.half_day_in),prevHalfdayIn:new Date("1900-01-01 "+e.half_day_in),popHalfdayOut:new Date("1900-01-01 "+e.half_day_out),halfdayOut:new Date("1900-01-01 "+e.half_day_out),prevHalfdayOut:new Date("1900-01-01 "+e.half_day_out),popNightDiffIn:new Date("1900-01-01 "+e.night_dif_in),nightDiffIn:new Date("1900-01-01 "+e.night_dif_in),prevNightDiffIn:new Date("1900-01-01 "+e.night_dif_in),popNightDiffOut:new Date("1900-01-01 "+e.night_dif_out),nightDiffOut:new Date("1900-01-01 "+e.night_dif_out),prevNightDiffOut:new Date("1900-01-01 "+e.night_dif_out),breakCount:0===e.break_count?null:e.break_count,popFirstBreakIn:new Date("1900-01-01 "+e.first_break_in),firstBreakIn:new Date("1900-01-01 "+e.first_break_in),prevFirstBreakIn:new Date("1900-01-01 "+e.first_break_in),popFirstBreakOut:new Date("1900-01-01 "+e.first_break_out),firstBreakOut:new Date("1900-01-01 "+e.first_break_out),prevFirstBreakOut:new Date("1900-01-01 "+e.first_break_out),popSecondBreakIn:new Date("1900-01-01 "+e.second_break_in),secondBreakIn:new Date("1900-01-01 "+e.second_break_in),prevSecondBreakIn:new Date("1900-01-01 "+e.second_break_in),popSecondBreakOut:new Date("1900-01-01 "+e.second_break_out),secondBreakOut:new Date("1900-01-01 "+e.second_break_out),prevSecondBreakOut:new Date("1900-01-01 "+e.second_break_out),popThirdBreakIn:new Date("1900-01-01 "+e.third_break_in),thirdBreakIn:new Date("1900-01-01 "+e.third_break_in),prevThirdBreakIn:new Date("1900-01-01 "+e.third_break_in),popThirdBreakOut:new Date("1900-01-01 "+e.third_break_out),thirdBreakOut:new Date("1900-01-01 "+e.third_break_out),prevThirdBreakOut:new Date("1900-01-01 "+e.third_break_out),workingHrs:this.decimalPipe.transform(e.total_working_hours,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(e.total_working_hours,"1.2-2")})),this.isLoading=!1},e=>{console.log(e.error)})},e=>{console.log(e.error)}):(this.shiftDetail.push({day:"Sunday",index:1,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Monday",index:2,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Tuesday",index:3,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Wednesday",index:4,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Thursday",index:5,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Friday",index:6,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Saturday",index:7,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")}),this.shiftID="0",this.isLoading=!1)}selectRestDay(e){this.shiftDetail[e].disableRow=this.shiftDetail[e].isRestday,this.shiftDetail[e].isRestday?(this.shiftDetail[e].timeIn=this.shiftDetail[e].prevTimeIn,this.shiftDetail[e].timeOut=this.shiftDetail[e].prevTimeOut,this.shiftDetail[e].halfdayIn=this.shiftDetail[e].prevHalfdayIn,this.shiftDetail[e].halfdayOut=this.shiftDetail[e].prevHalfdayOut,this.shiftDetail[e].nightDiffIn=this.shiftDetail[e].prevNightDiffIn,this.shiftDetail[e].nightDiffOut=this.shiftDetail[e].prevNightDiffOut,this.shiftDetail[e].firstBreakIn=this.shiftDetail[e].prevFirstBreakIn,this.shiftDetail[e].firstBreakOut=this.shiftDetail[e].prevFirstBreakOut,this.shiftDetail[e].secondBreakIn=this.shiftDetail[e].prevSecondBreakIn,this.shiftDetail[e].secondBreakOut=this.shiftDetail[e].prevSecondBreakOut,this.shiftDetail[e].thirdBreakIn=this.shiftDetail[e].prevThirdBreakIn,this.shiftDetail[e].thirdBreakOut=this.shiftDetail[e].prevThirdBreakOut,this.shiftDetail[e].workingHrs=this.decimalPipe.transform(this.shiftDetail[e].prevWorkingHrs,"1.2-2")):(this.shiftDetail[e].timeIn=this.defaultDate,this.shiftDetail[e].timeOut=new Date("1900-01-01 11:59"),this.shiftDetail[e].halfdayIn=this.defaultDate,this.shiftDetail[e].halfdayOut=this.defaultDate,this.shiftDetail[e].nightDiffIn=new Date("1900-01-01 22:00"),this.shiftDetail[e].nightDiffOut=new Date("1900-01-01 06:00"),this.shiftDetail[e].firstBreakIn=this.defaultDate,this.shiftDetail[e].firstBreakOut=this.defaultDate,this.shiftDetail[e].secondBreakIn=this.defaultDate,this.shiftDetail[e].secondBreakOu=this.defaultDate,this.shiftDetail[e].thirdBreakIn=this.defaultDate,this.shiftDetail[e].thirdBreakOut=this.defaultDate,this.shiftDetail[e].workingHrs=this.decimalPipe.transform(0,"1.2-2"))}onFlexi(e){if(e.target.checked)this.shiftDetail.map(e=>e.workingHrs=this.decimalPipe.transform(0,"1.2-2")),this.shiftDetail.map(e=>e.prevWorkingHrs=this.decimalPipe.transform(0,"1.2-2"));else for(var t=0;t<this.shiftDetail.length;t++)this.computeDateDiff(t)}computeDateDiff(e){if(null!==this.shiftDetail[e].timeIn||""!==this.shiftDetail[e].timeIn&&null!==this.shiftDetail[e].timeOut||""!==this.shiftDetail[e].timeOut){var t=new Date(this.shiftDetail[e].timeIn),i=new Date(this.shiftDetail[e].timeOut);t>i&&i.setDate(i.getDate()+1);const a=(i.valueOf()-t.valueOf())/1e3/60/60;this.shiftDetail[e].workingHrs=this.decimalPipe.transform(a,"1.2-2"),this.shiftDetail[e].prevWorkingHrs=this.decimalPipe.transform(a,"1.2-2")}}onChangeTimeIn(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].timeIn=i,this.shiftDetail[e].prevTimeIn=i,this.computeDateDiff(e)}}onChangeTimeOut(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].timeOut=i,this.shiftDetail[e].prevTimeOut=i,this.computeDateDiff(e)}}onChangeHalfdayIn(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].halfdayIn=i,this.shiftDetail[e].prevHalfdayIn=i}}onChangeHalfdayOut(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].halfdayOut=i,this.shiftDetail[e].prevHalfdayOut=i}}onChangeNightDiffIn(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].nightDiffIn=i,this.shiftDetail[e].prevNightDiffIn=i}}onChangeNightDiffOut(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].nightDiffOut=i,this.shiftDetail[e].prevNightDiffOut=i}}onFirstBreakIn(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].firstBreakIn=i,this.shiftDetail[e].prevFirstBreakIn=i}}onFirstBreakOut(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].firstBreakOut=i,this.shiftDetail[e].prevFirstBreakOut=i}}onSecondBreakIn(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].secondBreakIn=i,this.shiftDetail[e].prevSecondBreakIn=i}}onSecondBreakOut(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].secondBreakOut=i,this.shiftDetail[e].prevSecondBreakOut=i}}onThirdBreakIn(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].thirdBreakIn=i,this.shiftDetail[e].prevThirdBreakIn=i}}onThirdBreakOut(e,t){if(null!==t.hour&&null!==t.minute){const i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].thirdBreakOut=i,this.shiftDetail[e].prevThirdBreakOut=i}}breakChange(){let e=0;for(var t=0;t<this.shiftDetail.length;t++)e<this.shiftDetail[t].breakCount&&(e=3===this.shiftDetail[t].breakCount?3:2===this.shiftDetail[t].breakCount?2:1===this.shiftDetail[t].breakCount?1:0);3===e?(this.firstBreak=!0,this.secondBreak=!0,this.thirdBreak=!0):2===e?(this.firstBreak=!0,this.secondBreak=!0,this.thirdBreak=!1):1===e?(this.firstBreak=!0,this.secondBreak=!1,this.thirdBreak=!1):(this.firstBreak=!1,this.secondBreak=!1,this.thirdBreak=!1)}resetError(e){this.errDescription=e,this.errShiftName=e,this.errGracePeriod=e}validation(){this.resetError(!1);let e=!0;return""!==this.shiftForm.get("shiftName").value&&null!==this.shiftForm.get("shiftName").value||(e=!1,this.errShiftName=!0),null!==this.shiftForm.get("gracePeriod").value&&""!==this.shiftForm.get("gracePeriod").value||(e=!1,this.errGracePeriod=!0),""!==this.shiftForm.get("description").value&&null!==this.shiftForm.get("description").value||(e=!1,this.errDescription=!0),e}submit(){this.validation()&&r.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(e=>{e.isConfirmed&&r.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:()=>{r.a.showLoading();let e=this.shiftDetail.map(e=>({shift_per_day_id:this.shiftID,shift_per_day_code:this.shiftForm.value.shiftCode,shift_name:this.shiftForm.value.shiftName,grace_period:parseFloat(this.shiftForm.value.gracePeriod.replace(",","")),description:this.shiftForm.value.description,is_flexi:this.shiftForm.value.isFlexi,time_in:this.pipe.transform(e.timeIn,"MM/dd/yyyy hh:mm a"),time_out:this.pipe.transform(e.timeOut,"MM/dd/yyyy hh:mm a"),total_working_hours:parseFloat(e.workingHrs.toString().replace(",","")),half_day_in:this.pipe.transform(e.halfdayIn,"MM/dd/yyyy hh:mm a"),half_day_out:this.pipe.transform(e.halfdayOut,"MM/dd/yyyy hh:mm a"),night_dif_in:this.pipe.transform(e.nightDiffIn,"MM/dd/yyyy hh:mm a"),night_dif_out:this.pipe.transform(e.nightDiffOut,"MM/dd/yyyy hh:mm a"),first_break_in:this.pipe.transform(e.firstBreakIn,"MM/dd/yyyy hh:mm a"),first_break_out:this.pipe.transform(e.firstBreakOut,"MM/dd/yyyy hh:mm a"),second_break_in:this.pipe.transform(e.secondBreakIn,"MM/dd/yyyy hh:mm a"),second_break_out:this.pipe.transform(e.secondBreakOut,"MM/dd/yyyy hh:mm a"),third_break_in:this.pipe.transform(e.thirdBreakIn,"MM/dd/yyyy hh:mm a"),third_break_out:this.pipe.transform(e.thirdBreakOut,"MM/dd/yyyy hh:mm a"),break_count:null===e.breakCount?0:e.breakCount,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),day:e.index,is_rest_day:e.isRestday})),t={shift_per_day_id:this.shiftID,shift_per_day_code:this.shiftForm.value.shiftCode,shift_name:this.shiftForm.value.shiftName,grace_period:parseFloat(this.shiftForm.value.gracePeriod.replace(",","")),description:this.shiftForm.value.description,is_flexi:this.shiftForm.value.isFlexi,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),Detail:e};this.shiftcodeManagementService.shiftDetailIU(t).subscribe(e=>{0===e?r.a.fire("Failed!","Transaction failed!","error"):r.a.fire("Ok!","Transaction successful!","success")},e=>{console.log(e.error),r.a.fire("Failed!","Transaction failed!","error")})}})})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(h.c),n.Lb(l.a),n.Lb(b.f),n.Lb(Ce.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-shiftcodesperday-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/shiftcodesperday-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-4"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","shiftName","placeholder","Shift Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"col-sm-2"],["type","number","formControlName","gracePeriod","placeholder","Grace Period",1,"form-control"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","formControlName","isFlexi",1,"form-check-input",3,"change"],[1,"input-frame"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],[1,"text-danger","mt-1"],[1,"custom-control","custom-switch"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange"],[1,"custom-control-label",3,"for"],["popTemplateIn",""],["type","text","placement","bottom",1,"form-control",2,"width","110px",3,"disabled","value","popover","outsideClick"],["popTemplateOut",""],["type","text","placeholder","0",1,"form-control",3,"disabled","ngModel","ngModelChange"],["popTemplateHalfdayIn",""],["popTemplateHalfdayOut",""],["popTemplateNightDiffIn",""],["popTemplateNightDiffOut",""],["name","Break Count","bindLabel","description","bindValue","id","placeholder","Select Break",3,"items","ngModel","ngModelChange","change"],[3,"ngModel","meridian","ngModelChange"],["popTemplateFirstBreakIn",""],["popTemplateFirstBreakOut",""],["popTemplateSecondBreakIn",""],["popTemplateSecondBreakOut",""],["popTemplateThirdBreakIn",""],["popTemplateThirdBreakOut",""]],template:function(e,t){1&e&&(n.Gc(0,va,3,0,"div",0),n.Gc(1,Wa,86,11,"div",1)),2&e&&(n.jc("ngIf",t.isLoading),n.yb(1),n.jc("ngIf",!t.isLoading))},directives:[b.n,l.f,h.s,h.j,h.e,h.b,h.i,h.d,h.n,h.a,b.m,u.a,h.l,Fe.a,d.a,ce.r],pipes:[b.e],styles:[".td-custom[_ngcontent-%COMP%]{padding:0!important;vertical-align:middle!important;border:none!important}"]}),e})()}]}];let qa=(()=>{class e{}return e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},providers:[b.f,{provide:ce.b,useClass:ua.a}],imports:[[b.c,h.f,h.p,l.g.forChild(Ya),Pi,d.b,p.b.forRoot(),p.b,p.b.forChild({}),Hi.a,X.b,Jt.b.forRoot({validation:!0}),ce.k,Me.b.forRoot(),Fe.b.forRoot(),Rt.a]]}),e})()}}]);