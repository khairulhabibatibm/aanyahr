!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Lwnu:function(t,a,r){"use strict";r.r(a),r.d(a,"PayrollModule",function(){return at});var b=r("ofXK"),i=r("gjoI"),o=r("3Pt+"),c=r("tyNb"),d=r("tyVc"),l=r("ZOsW"),s=r("EDFS"),m=r("1kSV"),u=r("njyG"),p=r("Jfpn"),h=r("XNiG"),y=r("fXoL"),R=r("CTYy"),g=r("IYwT");function f(e,t){1&e&&(y.Rb(0,"div",2),y.Rb(1,"div",3),y.Ic(2,"Loading..."),y.Qb(),y.Qb())}function Q(e,t){if(1&e){var n=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.Qb(),y.Rb(5,"td"),y.Ic(6),y.Qb(),y.Rb(7,"td"),y.Ic(8),y.Qb(),y.Rb(9,"td"),y.Ic(10),y.Qb(),y.Rb(11,"td"),y.Ic(12),y.Qb(),y.Rb(13,"td"),y.Ic(14),y.Qb(),y.Rb(15,"td"),y.Ic(16),y.ec(17,"date"),y.Qb(),y.Rb(18,"td"),y.Rb(19,"button",22),y.bc("click",function(){y.xc(n);var e=t.$implicit;return y.dc(2).viewLoan(e.companyID)}),y.Mb(20,"i",23),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=t.$implicit;y.yb(2),y.Jc(a.loan_code),y.yb(2),y.Jc(a.display_name),y.yb(2),y.Jc(a.loan_name),y.yb(2),y.Jc(a.loan_type),y.yb(2),y.Jc(a.total_amount),y.yb(2),y.Jc(a.status),y.yb(2),y.Jc(a.created_by_name),y.yb(2),y.Jc(y.gc(17,8,a.date_created,"MM/dd/yyyy"))}}var v=function(){return["/layout/payroll/loans-detail"]};function I(e,t){if(1&e&&(y.Rb(0,"div",4),y.Rb(1,"nav",5),y.Rb(2,"ol",6),y.Rb(3,"li",7),y.Rb(4,"a",8),y.Ic(5,"Payroll"),y.Qb(),y.Qb(),y.Rb(6,"li",9),y.Ic(7,"Loan"),y.Qb(),y.Qb(),y.Qb(),y.Rb(8,"div",10),y.Rb(9,"div",11),y.Rb(10,"div",12),y.Rb(11,"div",13),y.Rb(12,"div",14),y.Rb(13,"div",10),y.Rb(14,"div",15),y.Rb(15,"h6"),y.Ic(16,"Loan"),y.Qb(),y.Qb(),y.Rb(17,"div",15),y.Rb(18,"ul",16),y.Rb(19,"button",17),y.Mb(20,"i",18),y.Ic(21," Add Loan "),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(22,"hr"),y.Rb(23,"div",19),y.Rb(24,"table",20),y.Rb(25,"thead"),y.Rb(26,"tr"),y.Rb(27,"th"),y.Ic(28,"Loan Code"),y.Qb(),y.Rb(29,"th"),y.Ic(30,"Employee Name"),y.Qb(),y.Rb(31,"th"),y.Ic(32,"Loan Name"),y.Qb(),y.Rb(33,"th"),y.Ic(34,"Loan Type"),y.Qb(),y.Rb(35,"th"),y.Ic(36,"Amount"),y.Qb(),y.Rb(37,"th"),y.Ic(38,"Active"),y.Qb(),y.Rb(39,"th"),y.Ic(40,"Created By"),y.Qb(),y.Rb(41,"th"),y.Ic(42,"Date Created"),y.Qb(),y.Mb(43,"th"),y.Qb(),y.Qb(),y.Rb(44,"tbody"),y.Gc(45,Q,21,11,"tr",21),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()),2&e){var n=y.dc();y.yb(19),y.jc("routerLink",y.mc(4,v)),y.yb(5),y.jc("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),y.yb(21),y.jc("ngForOf",n.table)}}var T,_=((T=function(){function t(n,a){e(this,t),this.payrollRatesManagementService=n,this.router=a,this.isLoading=!0,this.table=[],this.dtOptions={},this.dtTrigger=new h.a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.payrollRatesManagementService.loansView(0).subscribe(function(t){e.table=t,e.isLoading=!1,setTimeout(function(){e.dtTrigger.next()},100)},function(e){console.log(e.error)})}},{key:"viewLoan",value:function(e){this.router.navigate(["/layout/payroll/loans-detail",e])}}]),t}()).\u0275fac=function(e){return new(e||T)(y.Lb(R.a),y.Lb(c.c))},T.\u0275cmp=y.Fb({type:T,selectors:[["app-loans-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(y.Gc(0,f,3,0,"div",0),y.Gc(1,I,46,5,"div",1)),2&e&&(y.jc("ngIf",t.isLoading),y.yb(1),y.jc("ngIf",!t.isLoading))},directives:[b.n,c.f,c.d,g.a,u.a,b.m],pipes:[b.e],styles:[""]}),T),L=r("PSD3"),M=r.n(L),S=r("/oZC"),E=r("ltvU");function k(e,t){1&e&&(y.Rb(0,"div",3),y.Rb(1,"div",4),y.Ic(2,"Loading..."),y.Qb(),y.Qb())}function O(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Loan Type is needed!"),y.Qb())}function A(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Loan Name is needed!"),y.Qb())}function C(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Employee is needed!"),y.Qb())}function D(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Loan Amount is needed!"),y.Qb())}function P(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Total Loan Amount and detail is not equal"),y.Qb())}function w(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Loan Date is needed!"),y.Qb())}function F(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Loan Start is needed!"),y.Qb())}function N(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Terms is needed!"),y.Qb())}function j(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Loan Timing is needed!"),y.Qb())}function x(e,t){if(1&e){var n=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.ec(3,"date"),y.Qb(),y.Rb(4,"td"),y.Ic(5),y.Qb(),y.Rb(6,"td"),y.Ic(7),y.Qb(),y.Rb(8,"td"),y.Ic(9),y.Qb(),y.Rb(10,"td"),y.Ic(11),y.Qb(),y.Rb(12,"td"),y.Rb(13,"button",46),y.bc("click",function(){y.xc(n);var e=t.index,a=y.dc(2),r=y.vc(3);return a.viewLoan(r,e)}),y.Mb(14,"i",50),y.Qb(),y.Ic(15,"\xa0 "),y.Rb(16,"button",51),y.bc("click",function(){y.xc(n);var e=t.index;return y.dc(2).deleteLoan(e)}),y.Mb(17,"i",52),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=t.$implicit;y.yb(2),y.Jc(y.gc(3,5,a.date,"MM/dd/yyyy")),y.yb(3),y.Jc(a.amount),y.yb(2),y.Jc(a.paid),y.yb(2),y.Jc(a.balance),y.yb(2),y.Jc(a.payslip)}}function G(e,t){if(1&e){var n=y.Sb();y.Rb(0,"div",5),y.Rb(1,"nav",6),y.Rb(2,"ol",7),y.Rb(3,"li",8),y.Rb(4,"a",9),y.Ic(5,"Payroll"),y.Qb(),y.Qb(),y.Rb(6,"li",8),y.Rb(7,"a",10),y.Ic(8,"Loan"),y.Qb(),y.Qb(),y.Rb(9,"li",11),y.Ic(10,"Detail"),y.Qb(),y.Qb(),y.Qb(),y.Rb(11,"div",12),y.Rb(12,"div",13),y.Rb(13,"div",14),y.Rb(14,"div",15),y.Rb(15,"div",12),y.Rb(16,"div",16),y.Rb(17,"h6"),y.Ic(18,"Loan"),y.Qb(),y.Qb(),y.Rb(19,"div",16),y.Rb(20,"ul",17),y.Rb(21,"button",18),y.bc("click",function(){return y.xc(n),y.dc().submit()}),y.Mb(22,"i",19),y.Ic(23," Save Loan "),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(24,"div",20),y.Rb(25,"form",21),y.Rb(26,"div",12),y.Rb(27,"div",22),y.Rb(28,"div",23),y.Rb(29,"label",24),y.Ic(30,"Loan Type"),y.Qb(),y.Mb(31,"ng-select",25),y.Gc(32,O,2,0,"p",26),y.Qb(),y.Qb(),y.Rb(33,"div",27),y.Rb(34,"div",23),y.Rb(35,"label",24),y.Ic(36,"Loan Name"),y.Qb(),y.Mb(37,"input",28),y.Gc(38,A,2,0,"p",26),y.Qb(),y.Qb(),y.Rb(39,"div",29),y.Rb(40,"div",23),y.Rb(41,"label",24),y.Ic(42,"Employee"),y.Qb(),y.Mb(43,"ng-select",30),y.Gc(44,C,2,0,"p",26),y.Qb(),y.Qb(),y.Qb(),y.Rb(45,"div",12),y.Rb(46,"div",31),y.Rb(47,"div",23),y.Rb(48,"label",24),y.Ic(49,"Total Loan Amount"),y.Qb(),y.Rb(50,"input",32),y.bc("change",function(){return y.xc(n),y.dc().computeLoan()}),y.Qb(),y.Gc(51,D,2,0,"p",26),y.Gc(52,P,2,0,"p",26),y.Qb(),y.Qb(),y.Rb(53,"div",22),y.Rb(54,"div",23),y.Rb(55,"label",24),y.Ic(56,"Loan Date"),y.Qb(),y.Rb(57,"div",33),y.Rb(58,"input",34,35),y.bc("click",function(){return y.xc(n),y.vc(59).toggle()}),y.Qb(),y.Rb(60,"div",36),y.Rb(61,"button",37),y.bc("click",function(){return y.xc(n),y.vc(59).toggle()}),y.Mb(62,"i",38),y.Qb(),y.Qb(),y.Qb(),y.Gc(63,w,2,0,"p",26),y.Qb(),y.Qb(),y.Rb(64,"div",22),y.Rb(65,"div",23),y.Rb(66,"label",24),y.Ic(67,"Loan Start"),y.Qb(),y.Rb(68,"div",33),y.Rb(69,"input",39,40),y.bc("ngModelChange",function(){return y.xc(n),y.dc().computeLoan()})("click",function(){return y.xc(n),y.vc(70).toggle()}),y.Qb(),y.Rb(71,"div",36),y.Rb(72,"button",37),y.bc("click",function(){return y.xc(n),y.vc(70).toggle()}),y.Mb(73,"i",38),y.Qb(),y.Qb(),y.Qb(),y.Gc(74,F,2,0,"p",26),y.Qb(),y.Qb(),y.Rb(75,"div",41),y.Rb(76,"div",23),y.Rb(77,"label",24),y.Ic(78,"Terms"),y.Qb(),y.Rb(79,"input",42),y.bc("change",function(){return y.xc(n),y.dc().computeLoan()}),y.Qb(),y.Gc(80,N,2,0,"p",26),y.Qb(),y.Qb(),y.Rb(81,"div",22),y.Rb(82,"div",23),y.Rb(83,"label",24),y.Ic(84,"Loan Timing"),y.Qb(),y.Rb(85,"ng-select",43),y.bc("change",function(){return y.xc(n),y.dc().computeLoan()}),y.Qb(),y.Gc(86,j,2,0,"p",26),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(87,"hr"),y.Rb(88,"div",12),y.Rb(89,"div",44),y.Rb(90,"table",45),y.Rb(91,"thead"),y.Rb(92,"tr"),y.Rb(93,"th"),y.Ic(94,"Date"),y.Qb(),y.Rb(95,"th"),y.Ic(96,"Amount"),y.Qb(),y.Rb(97,"th"),y.Ic(98,"Paid"),y.Qb(),y.Rb(99,"th"),y.Ic(100,"Balance"),y.Qb(),y.Rb(101,"th"),y.Ic(102,"Payslip"),y.Qb(),y.Rb(103,"th"),y.Rb(104,"button",46),y.bc("click",function(){return y.xc(n),y.dc().addLoan()}),y.Mb(105,"i",47),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(106,"tbody"),y.Gc(107,x,18,8,"tr",48),y.Qb(),y.Rb(108,"tfoot"),y.Rb(109,"tr"),y.Rb(110,"th"),y.Ic(111,"Total Amount"),y.Qb(),y.Rb(112,"th"),y.Ic(113),y.Qb(),y.Rb(114,"th"),y.Ic(115),y.Qb(),y.Rb(116,"th"),y.Ic(117),y.Qb(),y.Mb(118,"th"),y.Mb(119,"th"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=y.dc();y.yb(25),y.jc("formGroup",a.loanForm),y.yb(6),y.jc("items",a.loanType),y.yb(1),y.jc("ngIf",a.errLoanType),y.yb(6),y.jc("ngIf",a.errLoanName),y.yb(5),y.jc("items",a.employeeList),y.yb(1),y.jc("ngIf",a.errEmployee),y.yb(7),y.jc("ngIf",a.errTotalAmount),y.yb(1),y.jc("ngIf",a.errAmount),y.yb(11),y.jc("ngIf",a.errLoanDate),y.yb(11),y.jc("ngIf",a.errLoanStart),y.yb(6),y.jc("ngIf",a.errTerms),y.yb(5),y.jc("items",a.loanTiming),y.yb(1),y.jc("ngIf",a.errTiming),y.yb(21),y.jc("ngForOf",a.table),y.yb(6),y.Jc(a.fAmount),y.yb(2),y.Jc(a.fPaid),y.yb(2),y.Jc(a.fBalance)}}function Y(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Loan Date is needed!"),y.Qb())}function J(e,t){1&e&&(y.Rb(0,"p",49),y.Ic(1,"Amount is needed!"),y.Qb())}function B(e,t){if(1&e){var n=y.Sb();y.Rb(0,"div",53),y.Rb(1,"h5",54),y.Ic(2,"Attendance Log"),y.Qb(),y.Rb(3,"button",55),y.bc("click",function(){return t.$implicit.close("by: close icon")}),y.Rb(4,"span",56),y.Ic(5,"\xd7"),y.Qb(),y.Qb(),y.Qb(),y.Rb(6,"div",57),y.Rb(7,"form",21),y.Rb(8,"div",12),y.Rb(9,"div",16),y.Rb(10,"div",23),y.Rb(11,"label",24),y.Ic(12,"Date"),y.Qb(),y.Rb(13,"div",33),y.Rb(14,"input",58,59),y.bc("click",function(){return y.xc(n),y.vc(15).toggle()}),y.Qb(),y.Rb(16,"div",36),y.Rb(17,"button",37),y.bc("click",function(){return y.xc(n),y.vc(15).toggle()}),y.Mb(18,"i",38),y.Qb(),y.Qb(),y.Qb(),y.Gc(19,Y,2,0,"p",26),y.Qb(),y.Qb(),y.Rb(20,"div",16),y.Rb(21,"div",23),y.Rb(22,"label",24),y.Ic(23,"Amount"),y.Qb(),y.Mb(24,"input",60),y.Gc(25,J,2,0,"p",26),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(26,"div",61),y.Rb(27,"button",62),y.bc("click",function(){return t.$implicit.close("by: close button")}),y.Ic(28,"Close"),y.Qb(),y.Rb(29,"button",63),y.bc("click",function(){return y.xc(n),y.dc().updateLoan()}),y.Ic(30,"Save changes"),y.Qb(),y.Qb()}if(2&e){var a=y.dc();y.yb(7),y.jc("formGroup",a.updateForm),y.yb(12),y.jc("ngIf",a.errLoanDate),y.yb(6),y.jc("ngIf",a.errTotalAmount)}}var H,V=((H=function(){function t(n,a,r,i,o,c){e(this,t),this.fb=n,this.tenantMasterService=a,this.route=r,this.userManagementService=i,this.payrollRatesManagementService=o,this.modalService=c,this.isLoading=!0,this.loanType=[],this.loanTiming=[],this.employeeList=[],this.table=[],this.dateToday={day:new Date(new Date).getDate(),month:new Date(new Date).getMonth()+1,year:new Date(new Date).getFullYear()},this.pipe=new b.e("en-US"),this.fAmount=0,this.fPaid=0,this.fBalance=0}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.paramMap.get("id"),this.loanForm=this.fb.group({loanCode:"",selectedLoanType:null,loanName:"",selectedEmployee:null,totalLoanAmount:0,loanDate:this.dateToday,loanStart:this.dateToday,terms:0,selectedLoanTiming:null}),this.updateForm=this.fb.group({amount:0,date:this.dateToday}),this.resetError(!1),this.userManagementService.employeeList().subscribe(function(t){e.employeeList=t,e.tenantMasterService.dropdownList("58,59,").subscribe(function(t){e.loanType=t.filter(function(e){return 58===e.type_id}),e.loanTiming=t.filter(function(e){return 59===e.type_id}),""!==e.id?e.payrollRatesManagementService.loansView(e.id).subscribe(function(t){e.loanForm.setValue({loanCode:t[0].loan_code,selectedLoanType:t[0].loan_type_id,loanName:t[0].loan_name,selectedEmployee:t[0].employee_id,totalLoanAmount:t[0].total_amount,loanDate:{year:new Date(t[0].loan_date).getFullYear(),month:new Date(t[0].loan_date).getMonth()+1,day:new Date(t[0].loan_date).getDate()},loanStart:{year:new Date(t[0].loan_start).getFullYear(),month:new Date(t[0].loan_start).getMonth()+1,day:new Date(t[0].loan_start).getDate()},terms:t[0].terms,selectedLoanTiming:t[0].loan_timing_id}),e.payrollRatesManagementService.loansDetailView(e.id).subscribe(function(t){e.table=t,e.computeFooter(),e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)}):(e.id="0",e.isLoading=!1)},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"computeLoan",value:function(){var e=this,t=!0;""!==this.loanForm.get("totalLoanAmount").value&&null!==this.loanForm.get("totalLoanAmount").value&&0!==this.loanForm.get("totalLoanAmount").value||(t=!1),""!==this.loanForm.get("loanStart").value&&null!==this.loanForm.get("loanStart").value||(t=!1),""!==this.loanForm.get("terms").value&&null!==this.loanForm.get("terms").value&&0!==this.loanForm.get("terms").value||(t=!1),""!==this.loanForm.get("selectedLoanTiming").value&&null!==this.loanForm.get("selectedLoanTiming").value||(t=!1),t&&(this.table=[],this.payrollRatesManagementService.computeLoan("0",this.loanForm.get("totalLoanAmount").value,this.pipe.transform(this.loanForm.get("loanStart").value.year+"/"+this.loanForm.get("loanStart").value.month+"/"+this.loanForm.get("loanStart").value.day,"MM/dd/yyyy"),this.loanForm.get("terms").value,this.loanForm.get("selectedLoanTiming").value).subscribe(function(t){e.table=t,console.log(t),e.computeFooter()},function(e){console.log(e.error)}))}},{key:"viewLoan",value:function(e,t){this.index=t;var n=this.table[t],a={day:new Date(n.date).getDate(),month:new Date(n.date).getMonth()+1,year:new Date(n.date).getFullYear()};this.updateForm.get("date").setValue(a),this.updateForm.get("amount").setValue(n.amount),this.modalService.open(e)}},{key:"updateLoan",value:function(){this.table[this.index].amount=this.updateForm.get("amount").value,this.table[this.index].date=this.pipe.transform(this.updateForm.get("date").value.year+"/"+this.updateForm.get("date").value.month+"/"+this.updateForm.get("date").value.day,"MM/dd/yyyy");for(var e=0,t=0;t<this.table.length;t++)e+=this.table[t].amount;this.loanForm.get("totalLoanAmount").setValue(e),this.computeFooter(),this.modalService.dismissAll()}},{key:"deleteLoan",value:function(e){this.table.splice(e,1),this.loanForm.get("terms").setValue(this.table.length);for(var t=0,n=0;n<this.table.length;n++)t+=this.table[n].amount;this.loanForm.get("totalLoanAmount").setValue(t),this.computeFooter()}},{key:"addLoan",value:function(){this.table.push({active:!1,amount:0,balance:0,date:this.pipe.transform(this.dateToday.year+"/"+this.dateToday.month+"/"+this.dateToday.day,"MM/dd/yyyy"),paid:0,payslip:""}),this.loanForm.get("terms").setValue(this.table.length)}},{key:"computeFooter",value:function(){this.fAmount=0,this.fPaid=0,this.fBalance=0;for(var e=0;e<this.table.length;e++)this.fAmount+=this.table[e].amount,this.fPaid+=this.table[e].paid,this.fBalance+=this.table[e].balance}},{key:"resetError",value:function(e){this.errLoanType=e,this.errLoanName=e,this.errEmployee=e,this.errTotalAmount=e,this.errAmount=e,this.errLoanDate=e,this.errLoanStart=e,this.errTerms=e,this.errTiming=e}},{key:"validation",value:function(){this.resetError(!1);var e=!0;return""!==this.loanForm.get("selectedLoanType").value&&null!==this.loanForm.get("selectedLoanType").value||(e=!1,this.errLoanType=!0),""!==this.loanForm.get("loanName").value&&null!==this.loanForm.get("loanName").value||(e=!1,this.errLoanName=!0),""!==this.loanForm.get("selectedEmployee").value&&null!==this.loanForm.get("selectedEmployee").value||(e=!1,this.errEmployee=!0),""!==this.loanForm.get("totalLoanAmount").value&&null!==this.loanForm.get("totalLoanAmount").value&&0!==this.loanForm.get("totalLoanAmount").value||(e=!1,this.errTotalAmount=!0),""!==this.loanForm.get("loanDate").value&&null!==this.loanForm.get("loanDate").value||(e=!1,this.errLoanDate=!0),""!==this.loanForm.get("loanStart").value&&null!==this.loanForm.get("loanStart").value||(e=!1,this.errLoanStart=!0),""!==this.loanForm.get("terms").value&&null!==this.loanForm.get("terms").value&&0!==this.loanForm.get("terms").value||(e=!1,this.errTerms=!0),""!==this.loanForm.get("selectedLoanTiming").value&&null!==this.loanForm.get("selectedLoanTiming").value||(e=!1,this.errTiming=!0),e}},{key:"submit",value:function(){var e=this;this.validation()&&M.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&M.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){M.a.showLoading();var t={loan_id:e.id,loan_code:e.loanForm.value.loanCode,loan_type_id:e.loanForm.value.selectedLoanType,loan_name:e.loanForm.value.loanName,employee_id:e.loanForm.value.selectedEmployee,total_amount:e.loanForm.value.totalLoanAmount,loan_date:e.pipe.transform(e.loanForm.get("loanDate").value.year+"/"+e.loanForm.get("loanDate").value.month+"/"+e.loanForm.get("loanDate").value.day,"MM/dd/yyyy"),loan_start:e.pipe.transform(e.loanForm.get("loanStart").value.year+"/"+e.loanForm.get("loanStart").value.month+"/"+e.loanForm.get("loanStart").value.day,"MM/dd/yyyy"),terms:e.loanForm.value.terms,loan_timing_id:e.loanForm.value.selectedLoanTiming,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),Detail:e.table};e.payrollRatesManagementService.loanIU(t).subscribe(function(e){0===e?M.a.fire("Failed!",e.description,"error"):M.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),M.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||H)(y.Lb(o.c),y.Lb(S.a),y.Lb(c.a),y.Lb(E.a),y.Lb(R.a),y.Lb(m.j))},H.\u0275cmp=y.Fb({type:H,selectors:[["app-loans-detail"]],decls:4,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["updateModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/payroll/loans-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],[1,"card-body"],[3,"formGroup"],[1,"col-md-3"],[1,"form-group"],[1,"control-label"],["formControlName","selectedLoanType","bindLabel","description","bindValue","id","placeholder","Select Loan Type",3,"items"],["class","text-danger mt-1",4,"ngIf"],[1,"col-md-4"],["formControlName","loanName","type","text","placeholder","Loan Name",1,"form-control"],[1,"col-md-5"],["formControlName","selectedEmployee","bindLabel","display_name","bindValue","employee_id","placeholder","Select Employee",3,"items"],[1,"col-md-2"],["formControlName","totalLoanAmount","type","number","placeholder","0",1,"form-control",3,"change"],[1,"input-group"],["formControlName","loanDate","placeholder","mm/dd/yyyy","name","dp","value","dateFrom","ngbDatepicker","",1,"form-control",3,"click"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","calendar","appFeatherIcon","",1,"text-secondary"],["formControlName","loanStart","placeholder","mm/dd/yyyy","name","dp","value","dateFrom","ngbDatepicker","",1,"form-control",3,"ngModelChange","click"],["d2","ngbDatepicker"],[1,"col-md-1"],["formControlName","terms","type","number","placeholder","0",1,"form-control",3,"change"],["formControlName","selectedLoanTiming","bindLabel","description","bindValue","id","placeholder","Select Loan Timing",3,"items","change"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[4,"ngFor","ngForOf"],[1,"text-danger","mt-1"],[1,"feather","icon-edit-2"],["type","button","title","Edit",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["formControlName","date","placeholder","mm/dd/yyyy","name","dp","value","dateFrom","ngbDatepicker","",1,"form-control",3,"click"],["d3","ngbDatepicker"],["formControlName","amount","type","number","placeholder","0",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(y.Gc(0,k,3,0,"div",0),y.Gc(1,G,120,17,"div",1),y.Gc(2,B,31,3,"ng-template",null,2,y.Hc)),2&e&&(y.jc("ngIf",t.isLoading),y.yb(1),y.jc("ngIf",!t.isLoading))},directives:[b.n,c.f,g.a,o.s,o.j,o.e,l.a,o.i,o.d,o.b,o.n,m.i,b.m],pipes:[b.e],styles:[""]}),H),U=r("tinS"),X=r("pweZ"),W=r("Txdn");function K(e,t){1&e&&(y.Rb(0,"div",2),y.Rb(1,"div",3),y.Ic(2,"Loading..."),y.Qb(),y.Qb())}function z(e,t){1&e&&(y.Rb(0,"p",35),y.Ic(1,"Goverment Type is needed!"),y.Qb())}function q(e,t){1&e&&(y.Rb(0,"p",35),y.Ic(1,"Tag Type is needed!"),y.Qb())}function Z(e,t){1&e&&(y.Rb(0,"p",35),y.Ic(1,"Name is needed!"),y.Qb())}function ee(e,t){1&e&&(y.Rb(0,"p",35),y.Ic(1,"Timing is needed!"),y.Qb())}function te(e,t){1&e&&(y.Rb(0,"p",35),y.Ic(1,"Amount is needed!"),y.Qb())}function ne(e,t){1&e&&(y.Rb(0,"button",36),y.Mb(1,"span",37),y.Ic(2," Loading... "),y.Qb())}function ae(e,t){if(1&e){var n=y.Sb();y.Rb(0,"button",38),y.bc("click",function(){return y.xc(n),y.dc(2).search()}),y.Mb(1,"i",39),y.Ic(2," Add "),y.Qb()}}function re(e,t){if(1&e){var n=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.Qb(),y.Rb(5,"td"),y.Ic(6),y.Qb(),y.Rb(7,"td"),y.Ic(8),y.Qb(),y.Rb(9,"td"),y.Ic(10),y.Qb(),y.Rb(11,"td"),y.Rb(12,"button",40),y.bc("click",function(){y.xc(n);var e=t.index;return y.dc(2).delete(e)}),y.Mb(13,"i",41),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=t.$implicit;y.yb(2),y.Jc(a.employee_code),y.yb(2),y.Jc(a.display_name),y.yb(2),y.Jc(a.amount),y.yb(2),y.Jc(a.timing),y.yb(2),y.Jc(a.taxable)}}function be(e,t){if(1&e){var n=y.Sb();y.Rb(0,"div",4),y.Rb(1,"nav",5),y.Rb(2,"ol",6),y.Rb(3,"li",7),y.Rb(4,"a",8),y.Ic(5,"Payroll"),y.Qb(),y.Qb(),y.Rb(6,"li",9),y.Ic(7,"Government Contribution"),y.Qb(),y.Qb(),y.Qb(),y.Rb(8,"div",10),y.Rb(9,"div",11),y.Rb(10,"div",12),y.Rb(11,"div",13),y.Rb(12,"div",14),y.Rb(13,"div",10),y.Rb(14,"div",15),y.Rb(15,"h6"),y.Ic(16,"Government Contribution"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(17,"hr"),y.Rb(18,"form",16),y.Rb(19,"div",10),y.Rb(20,"div",17),y.Rb(21,"div",18),y.Rb(22,"label",19),y.Ic(23,"Goverment Type"),y.Qb(),y.Mb(24,"ng-select",20),y.Gc(25,z,2,0,"p",21),y.Qb(),y.Qb(),y.Rb(26,"div",22),y.Rb(27,"div",18),y.Rb(28,"label",19),y.Ic(29,"Tag Type"),y.Qb(),y.Rb(30,"ng-select",23),y.bc("change",function(){return y.xc(n),y.dc().onChange()}),y.Qb(),y.Gc(31,q,2,0,"p",21),y.Qb(),y.Qb(),y.Rb(32,"div",24),y.Rb(33,"div",18),y.Rb(34,"label",19),y.Ic(35,"Name"),y.Qb(),y.Mb(36,"ng-select",25),y.Gc(37,Z,2,0,"p",21),y.Qb(),y.Qb(),y.Qb(),y.Rb(38,"div",10),y.Rb(39,"div",17),y.Rb(40,"div",18),y.Rb(41,"label",19),y.Ic(42,"Timing"),y.Qb(),y.Mb(43,"ng-select",26),y.Gc(44,ee,2,0,"p",21),y.Qb(),y.Qb(),y.Rb(45,"div",22),y.Rb(46,"div",18),y.Rb(47,"label",19),y.Ic(48,"Amount"),y.Qb(),y.Mb(49,"input",27),y.Gc(50,te,2,0,"p",21),y.Qb(),y.Qb(),y.Rb(51,"div",24),y.Rb(52,"div",18),y.Rb(53,"label",19),y.Ic(54,"\xa0"),y.Qb(),y.Rb(55,"div",18),y.Rb(56,"div",10),y.Gc(57,ne,3,0,"button",28),y.Gc(58,ae,3,0,"button",29),y.Ic(59," \xa0 "),y.Rb(60,"button",30),y.bc("click",function(){return y.xc(n),y.dc().submit()}),y.Mb(61,"i",31),y.Ic(62," Save "),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(63,"hr"),y.Rb(64,"div",32),y.Rb(65,"table",33),y.Rb(66,"thead"),y.Rb(67,"tr"),y.Rb(68,"th"),y.Ic(69,"Employee Code"),y.Qb(),y.Rb(70,"th"),y.Ic(71,"Employee Name"),y.Qb(),y.Rb(72,"th"),y.Ic(73,"Amount"),y.Qb(),y.Rb(74,"th"),y.Ic(75,"Timing"),y.Qb(),y.Rb(76,"th"),y.Ic(77,"Taxable"),y.Qb(),y.Rb(78,"th"),y.Ic(79,"Action"),y.Qb(),y.Qb(),y.Qb(),y.Rb(80,"tbody"),y.Gc(81,re,14,5,"tr",34),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=y.dc();y.yb(18),y.jc("formGroup",a.governmentForm),y.yb(6),y.jc("items",a.governmentList),y.yb(1),y.jc("ngIf",a.errGovernmentType),y.yb(5),y.jc("items",a.tagType),y.yb(1),y.jc("ngIf",a.errTypeType),y.yb(5),y.jc("items",a.nameList),y.yb(1),y.jc("ngIf",a.errName),y.yb(6),y.jc("items",a.timingList),y.yb(1),y.jc("ngIf",a.errTiming),y.yb(6),y.jc("ngIf",a.errAmount),y.yb(7),y.jc("ngIf",a.isSearch),y.yb(1),y.jc("ngIf",!a.isSearch),y.yb(23),y.jc("ngForOf",a.table)}}var ie,oe=((ie=function(){function t(n,a,r,b,i,o,c){e(this,t),this.branchManagementService=n,this.accountManagementService=a,this.tenantDefaultService=r,this.userManagementService=b,this.tenantMasterService=i,this.fb=o,this.payrollRatesManagementService=c,this.isLoading=!0,this.isSearch=!1,this.governmentList=[],this.tagType=[],this.nameList=[],this.timingList=[],this.branch=[],this.company=[],this.department=[],this.employee=[],this.table=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.governmentForm=this.fb.group({selectedGovernmentType:null,selectedEmployee:null,selectedTagType:null,selectedTiming:null,amount:null}),this.tenantMasterService.dropdownList("50, 60, 28,").subscribe(function(t){e.tagType=t.filter(function(e){return 50===e.type_id}),e.timingList=t.filter(function(e){return 60===e.type_id}),e.governmentList=t.filter(function(e){return 28===e.type_id}),e.isLoading=!1},function(e){console.log(e.error)})}},{key:"onChange",value:function(){var e=this;switch(this.resetError(!1),this.nameList=[],this.governmentForm.get("selectedEmployee").setValue(null),this.governmentForm.get("selectedTagType").value){case 102:this.branch.length>0?this.nameList=this.branch:this.branchManagementService.branchList().subscribe(function(t){for(var n=0;n<t.length;n++)e.branch.push({id:t[n].encrypted_branch_id,description:t[n].branch_name});e.nameList=e.branch},function(e){console.log(e.error)});break;case 103:this.company.length>0?this.nameList=this.company:this.accountManagementService.companyView().subscribe(function(t){for(var n=0;n<t.length;n++)e.company.push({id:t[n].companyID,description:t[n].companyName});e.nameList=e.company},function(e){console.log(e.error)});break;case 90:this.department.length>0?this.nameList=this.department:this.tenantDefaultService.dropdownTList("38").subscribe(function(t){for(var n=0;n<t.length;n++)e.department.push({id:t[n].encrypted_id,description:t[n].description});e.nameList=e.department},function(e){console.log(e.error)});break;case 89:this.employee.length>0?this.nameList=this.employee:this.userManagementService.employeeList().subscribe(function(t){for(var n=0;n<t.length;n++)e.employee.push({id:t[n].encrypt_employee_id,description:t[n].display_name});e.nameList=e.employee},function(e){console.log(e.error)})}}},{key:"resetError",value:function(e){this.errGovernmentType=e,this.errTypeType=e,this.errName=e,this.errTiming=e,this.errAmount=e}},{key:"delete",value:function(e){this.table.splice(e,1)}},{key:"search",value:function(){var e=this;this.validation()&&this.userManagementService.governmentView(this.governmentForm.value.selectedGovernmentType,this.governmentForm.value.amount,this.governmentForm.value.selectedTiming,this.governmentForm.value.selectedTagType,this.governmentForm.value.selectedEmployee).subscribe(function(t){e.table=t},function(e){console.log(e.error)})}},{key:"validation",value:function(){this.resetError(!1);var e=!0;return""!==this.governmentForm.get("selectedGovernmentType").value&&null!==this.governmentForm.get("selectedGovernmentType").value||(e=!1,this.errGovernmentType=!0),""!==this.governmentForm.get("selectedTagType").value&&null!==this.governmentForm.get("selectedTagType").value||(e=!1,this.errTypeType=!0),""!==this.governmentForm.get("selectedEmployee").value&&null!==this.governmentForm.get("selectedEmployee").value||(e=!1,this.errName=!0),""!==this.governmentForm.get("selectedTiming").value&&null!==this.governmentForm.get("selectedTiming").value||(e=!1,this.errTiming=!0),""!==this.governmentForm.get("amount").value&&null!==this.governmentForm.get("amount").value||(e=!1,this.errAmount=!0),e}},{key:"submit",value:function(){var e=this;M.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&M.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){M.a.showLoading();var t=e.table.map(function(e){return{payroll_contribution_id:"0",employee_id:e.employee_id,government_type_id:e.government_type_id,timing_id:e.timing_id,amount:e.amount,taxable:e.taxable_id,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")}});e.payrollRatesManagementService.governmentI(t).subscribe(function(e){0===e?M.a.fire("Failed!",e.description,"error"):M.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),M.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||ie)(y.Lb(U.a),y.Lb(X.a),y.Lb(W.a),y.Lb(E.a),y.Lb(S.a),y.Lb(o.c),y.Lb(R.a))},ie.\u0275cmp=y.Fb({type:ie,selectors:[["app-government-contribution"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[3,"formGroup"],[1,"col-md-3"],[1,"form-group"],[1,"control-label"],["formControlName","selectedGovernmentType","name","Shift Code","bindLabel","description","bindValue","id","placeholder","Select Goverment Type",3,"items"],["class","text-danger mt-1",4,"ngIf"],[1,"col-md-4"],["formControlName","selectedTagType","name","Tag Type","bindLabel","description","bindValue","id","placeholder","Select Tag Type",3,"items","change"],[1,"col-md-5"],["formControlName","selectedEmployee","name","Name","bindLabel","description","bindValue","id","placeholder","Select Name",3,"items"],["formControlName","selectedTiming","name","Tag Type","bindLabel","description","bindValue","id","placeholder","Select Timing",3,"items"],["formControlName","amount","type","number","placeholder","0",1,"form-control"],["class","btn btn-primary","type","button","disabled","",4,"ngIf"],["type","button","class","btn btn-primary btn-icon-text ",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"text-danger","mt-1"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","corner-right-down","appFeatherIcon","",1,"btn-icon-prepend"],["type","button","title","Delete",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(y.Gc(0,K,3,0,"div",0),y.Gc(1,be,82,13,"div",1)),2&e&&(y.jc("ngIf",t.isLoading),y.yb(1),y.jc("ngIf",!t.isLoading))},directives:[b.n,c.f,o.s,o.j,o.e,l.a,o.i,o.d,o.b,o.n,g.a,b.m],styles:[""]}),ie),ce=r("oYuu");function de(e,t){1&e&&(y.Rb(0,"div",2),y.Rb(1,"div",3),y.Ic(2,"Loading..."),y.Qb(),y.Qb())}function le(e,t){if(1&e){var n=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.Qb(),y.Rb(5,"td"),y.Ic(6),y.Qb(),y.Rb(7,"td"),y.Ic(8),y.Qb(),y.Rb(9,"td"),y.Ic(10),y.Qb(),y.Rb(11,"td"),y.Ic(12),y.Qb(),y.Rb(13,"td"),y.Rb(14,"button",22),y.bc("click",function(){y.xc(n);var e=t.$implicit;return y.dc(2).viewPayroll(e.encrypted_payroll_header_id)}),y.Mb(15,"i",23),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=t.$implicit;y.yb(2),y.Jc(a.payroll_header_code),y.yb(2),y.Jc(a.payroll_type),y.yb(2),y.Jc(a.timekeeping_header_code),y.yb(2),y.Jc(a.display_name),y.yb(2),y.Jc(a.date_created),y.yb(2),y.Jc(a.tk_count)}}var se=function(){return["/layout/payroll/payroll-generation-detail"]};function me(e,t){if(1&e&&(y.Rb(0,"div",4),y.Rb(1,"nav",5),y.Rb(2,"ol",6),y.Rb(3,"li",7),y.Rb(4,"a",8),y.Ic(5,"Payroll"),y.Qb(),y.Qb(),y.Rb(6,"li",9),y.Ic(7,"Payroll Generation"),y.Qb(),y.Qb(),y.Qb(),y.Rb(8,"div",10),y.Rb(9,"div",11),y.Rb(10,"div",12),y.Rb(11,"div",13),y.Rb(12,"div",14),y.Rb(13,"div",10),y.Rb(14,"div",15),y.Rb(15,"h6"),y.Ic(16,"Payroll Generation"),y.Qb(),y.Qb(),y.Rb(17,"div",15),y.Rb(18,"ul",16),y.Rb(19,"button",17),y.Mb(20,"i",18),y.Ic(21," Add payroll "),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(22,"hr"),y.Rb(23,"div",19),y.Rb(24,"table",20),y.Rb(25,"thead"),y.Rb(26,"tr"),y.Rb(27,"th"),y.Ic(28,"Payroll Code"),y.Qb(),y.Rb(29,"th"),y.Ic(30,"Payroll Type"),y.Qb(),y.Rb(31,"th"),y.Ic(32,"Timekeeping Code"),y.Qb(),y.Rb(33,"th"),y.Ic(34,"Created By"),y.Qb(),y.Rb(35,"th"),y.Ic(36,"Date Created"),y.Qb(),y.Rb(37,"th"),y.Ic(38,"Count"),y.Qb(),y.Mb(39,"th"),y.Qb(),y.Qb(),y.Rb(40,"tbody"),y.Gc(41,le,16,6,"tr",21),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()),2&e){var n=y.dc();y.yb(19),y.jc("routerLink",y.mc(4,se)),y.yb(5),y.jc("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),y.yb(17),y.jc("ngForOf",n.table)}}var ue,pe=((ue=function(){function t(n,a){e(this,t),this.payrollManagementService=n,this.router=a,this.isLoading=!0,this.dtOptions={},this.dtTrigger=new h.a,this.table=[],this.pipe=new b.e("en-US")}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,order:[0,"desc"]},this.payrollManagementService.headerView(0).subscribe(function(t){e.table=t,e.isLoading=!1,setTimeout(function(){e.dtTrigger.next()},100)},function(e){console.log(e.error)})}},{key:"viewPayroll",value:function(e){this.router.navigate(["/layout/payroll/payroll-generation-detail",e])}}]),t}()).\u0275fac=function(e){return new(e||ue)(y.Lb(ce.a),y.Lb(c.c))},ue.\u0275cmp=y.Fb({type:ue,selectors:[["app-payroll-generation-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table","table-bordered",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(y.Gc(0,de,3,0,"div",0),y.Gc(1,me,42,5,"div",1)),2&e&&(y.jc("ngIf",t.isLoading),y.yb(1),y.jc("ngIf",!t.isLoading))},directives:[b.n,c.f,c.d,g.a,u.a,b.m],styles:[""]}),ue),he=r("EVdn"),ye=r("mWvJ"),Re=r("wVlD"),ge=r("mkVx"),fe=["generatedModal"],Qe=["adjustmentModal"],ve=["viewModal"];function Ie(e,t){1&e&&(y.Rb(0,"div",5),y.Rb(1,"div",6),y.Ic(2,"Loading..."),y.Qb(),y.Qb())}function Te(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Timekeeping is needed!"),y.Qb())}function _e(e,t){if(1&e){var n=y.Sb();y.Rb(0,"button",67),y.bc("click",function(){return y.xc(n),y.dc(2).submitHeader()}),y.Mb(1,"i",68),y.Ic(2," Save Changes "),y.Qb()}}function Le(e,t){1&e&&(y.Rb(0,"button",42),y.Ic(1,"Continue"),y.Qb())}function Me(e,t){if(1&e){var n=y.Sb();y.Rb(0,"button",69),y.bc("click",function(){return y.xc(n),y.dc(2).addAdjustment()}),y.Mb(1,"i",70),y.Ic(2," Add Adjustment "),y.Qb()}}function Se(e,t){if(1&e){var n=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.Qb(),y.Rb(5,"td"),y.Ic(6),y.Qb(),y.Rb(7,"td"),y.Ic(8),y.Qb(),y.Rb(9,"td"),y.Ic(10),y.Qb(),y.Rb(11,"td"),y.Ic(12),y.Qb(),y.Rb(13,"td"),y.Rb(14,"div",45),y.Rb(15,"input",71),y.bc("ngModelChange",function(e){return t.$implicit.active=e})("change",function(e){y.xc(n);var a=t.index;return y.dc(2).checkTrans(a,e)}),y.Qb(),y.Mb(16,"label",72),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=t.$implicit;y.yb(2),y.Jc(a.employee_code),y.yb(2),y.Jc(a.display_name),y.yb(2),y.Jc(a.adjustment_type),y.yb(2),y.Jc(a.adjustment_name),y.yb(2),y.Jc(a.amount),y.yb(2),y.Jc(a.taxable),y.yb(3),y.kc("id",a.payroll_adjustment_id),y.jc("ngModel",a.active),y.yb(1),y.kc("for",a.payroll_adjustment_id)}}function Ee(e,t){1&e&&(y.Rb(0,"button",73),y.Mb(1,"span",74),y.Ic(2," Loading... "),y.Qb())}function ke(e,t){if(1&e){var n=y.Sb();y.Rb(0,"button",69),y.bc("click",function(){return y.xc(n),y.dc(2).generate()}),y.Mb(1,"i",70),y.Ic(2," Generate "),y.Qb()}}function Oe(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Category is needed!"),y.Qb())}function Ae(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Branch is needed!"),y.Qb())}function Ce(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Confidential is needed!"),y.Qb())}function De(e,t){if(1&e){var n=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.ec(5,"date"),y.Qb(),y.Rb(6,"td"),y.Ic(7),y.ec(8,"date"),y.Qb(),y.Rb(9,"td"),y.Ic(10),y.Qb(),y.Rb(11,"td"),y.Ic(12),y.Qb(),y.Rb(13,"td"),y.Ic(14),y.ec(15,"date"),y.Qb(),y.Rb(16,"td"),y.Rb(17,"button",75),y.bc("click",function(){y.xc(n);var e=t.$implicit;return y.dc(2).view(e.payroll_id)}),y.Mb(18,"i",76),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=t.$implicit;y.yb(2),y.Jc(a.payroll_code),y.yb(2),y.Jc(y.gc(5,6,a.date_from,"MM/dd/yyyy")),y.yb(3),y.Jc(y.gc(8,9,a.date_to,"MM/dd/yyyy")),y.yb(3),y.Jc(a.status),y.yb(2),y.Jc(a.display_name),y.yb(2),y.Jc(y.gc(15,12,a.date_created,"MM/dd/yyyy"))}}function Pe(e,t){1&e&&(y.Rb(0,"button",73),y.Mb(1,"span",74),y.Ic(2," Loading... "),y.Qb())}function we(e,t){if(1&e){var n=y.Sb();y.Rb(0,"button",67),y.bc("click",function(){return y.xc(n),y.dc(2).postPayroll()}),y.Mb(1,"i",68),y.Ic(2," Post "),y.Qb()}}function Fe(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"No items selected!"),y.Qb())}function Ne(e,t){if(1&e){var n=y.Sb();y.Rb(0,"div",7),y.Rb(1,"nav",8),y.Rb(2,"ol",9),y.Rb(3,"li",10),y.Rb(4,"a",11),y.Ic(5,"Payroll"),y.Qb(),y.Qb(),y.Rb(6,"li",10),y.Rb(7,"a",12),y.Ic(8,"Payroll Generation"),y.Qb(),y.Qb(),y.Rb(9,"li",13),y.Ic(10,"Detail"),y.Qb(),y.Qb(),y.Qb(),y.Rb(11,"div",14),y.Rb(12,"div",15),y.Rb(13,"div",16),y.Rb(14,"div",17),y.Rb(15,"aw-wizard"),y.Rb(16,"aw-wizard-step",18),y.Mb(17,"hr"),y.Rb(18,"form",19),y.Rb(19,"div",14),y.Rb(20,"div",20),y.Rb(21,"div",21),y.Rb(22,"label",22),y.Ic(23,"Timekeeping Code"),y.Qb(),y.Rb(24,"ng-select",23),y.bc("change",function(e){return y.xc(n),y.dc().selectTK(e)}),y.Qb(),y.Gc(25,Te,2,0,"p",24),y.Qb(),y.Qb(),y.Qb(),y.Rb(26,"div",14),y.Rb(27,"div",20),y.Rb(28,"div",21),y.Rb(29,"label",22),y.Ic(30,"Payroll Type"),y.Qb(),y.Mb(31,"input",25),y.Qb(),y.Qb(),y.Rb(32,"div",20),y.Rb(33,"div",21),y.Rb(34,"label",22),y.Ic(35,"Date From"),y.Qb(),y.Mb(36,"input",26),y.Qb(),y.Qb(),y.Rb(37,"div",20),y.Rb(38,"div",21),y.Rb(39,"label",22),y.Ic(40,"Date To"),y.Qb(),y.Mb(41,"input",27),y.Qb(),y.Qb(),y.Qb(),y.Rb(42,"div",14),y.Rb(43,"div",20),y.Rb(44,"div",21),y.Rb(45,"label",22),y.Ic(46,"Category"),y.Qb(),y.Mb(47,"input",28),y.Qb(),y.Qb(),y.Rb(48,"div",20),y.Rb(49,"div",21),y.Rb(50,"label",22),y.Ic(51,"Branch"),y.Qb(),y.Mb(52,"input",29),y.Qb(),y.Qb(),y.Rb(53,"div",20),y.Rb(54,"div",21),y.Rb(55,"label",22),y.Ic(56,"Confidential"),y.Qb(),y.Mb(57,"input",30),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(58,"div",31),y.Gc(59,_e,3,0,"button",32),y.Gc(60,Le,2,0,"button",33),y.Qb(),y.Qb(),y.Rb(61,"aw-wizard-step",34),y.Mb(62,"hr"),y.Rb(63,"div",14),y.Rb(64,"div",35),y.Rb(65,"div",36),y.Gc(66,Me,3,0,"button",37),y.Qb(),y.Qb(),y.Qb(),y.Rb(67,"div",14),y.Rb(68,"div",35),y.Rb(69,"div",38),y.Rb(70,"table",39),y.Rb(71,"thead"),y.Rb(72,"tr"),y.Rb(73,"th"),y.Ic(74,"Employee Code"),y.Qb(),y.Rb(75,"th"),y.Ic(76,"Employee"),y.Qb(),y.Rb(77,"th"),y.Ic(78,"Type"),y.Qb(),y.Rb(79,"th"),y.Ic(80,"Adjustment Name"),y.Qb(),y.Rb(81,"th"),y.Ic(82,"Amount"),y.Qb(),y.Rb(83,"th"),y.Ic(84,"Taxable"),y.Qb(),y.Rb(85,"th"),y.Ic(86,"Action"),y.Qb(),y.Qb(),y.Qb(),y.Rb(87,"tbody"),y.Gc(88,Se,17,9,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(89,"div",31),y.Rb(90,"button",41),y.Ic(91,"Back"),y.Qb(),y.Rb(92,"button",42),y.Ic(93,"Continue"),y.Qb(),y.Qb(),y.Qb(),y.Rb(94,"aw-wizard-step",43),y.Mb(95,"hr"),y.Rb(96,"form",19),y.Rb(97,"div",14),y.Rb(98,"div",44),y.Rb(99,"div",21),y.Rb(100,"label",22),y.Ic(101,"\xa0"),y.Qb(),y.Rb(102,"div",45),y.Mb(103,"input",46),y.Rb(104,"label",47),y.Ic(105,"Include Tax"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(106,"div",44),y.Rb(107,"div",21),y.Rb(108,"label",22),y.Ic(109,"\xa0"),y.Qb(),y.Rb(110,"div",45),y.Mb(111,"input",48),y.Rb(112,"label",49),y.Ic(113,"Include SSS"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(114,"div",44),y.Rb(115,"div",21),y.Rb(116,"label",22),y.Ic(117,"\xa0"),y.Qb(),y.Rb(118,"div",45),y.Mb(119,"input",50),y.Rb(120,"label",51),y.Ic(121,"Include Pagibig"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(122,"div",44),y.Rb(123,"div",21),y.Rb(124,"label",22),y.Ic(125,"\xa0"),y.Qb(),y.Rb(126,"div",45),y.Mb(127,"input",52),y.Rb(128,"label",53),y.Ic(129,"Include Philhealth"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(130,"div",20),y.Rb(131,"div",36),y.Gc(132,Ee,3,0,"button",54),y.Gc(133,ke,3,0,"button",37),y.Qb(),y.Qb(),y.Qb(),y.Rb(134,"div",14),y.Rb(135,"div",20),y.Rb(136,"div",21),y.Rb(137,"label",22),y.Ic(138,"Category"),y.Qb(),y.Mb(139,"ng-select",55),y.Gc(140,Oe,2,0,"p",24),y.Qb(),y.Qb(),y.Rb(141,"div",20),y.Rb(142,"div",21),y.Rb(143,"label",22),y.Ic(144,"Branch"),y.Qb(),y.Mb(145,"ng-select",56),y.Gc(146,Ae,2,0,"p",24),y.Qb(),y.Qb(),y.Rb(147,"div",20),y.Rb(148,"div",21),y.Rb(149,"label",22),y.Ic(150,"Confidential"),y.Qb(),y.Mb(151,"ng-select",57),y.Gc(152,Ce,2,0,"p",24),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(153,"hr"),y.Rb(154,"div",14),y.Rb(155,"div",35),y.Rb(156,"div",38),y.Rb(157,"table",58),y.Rb(158,"thead"),y.Rb(159,"tr"),y.Rb(160,"th"),y.Ic(161,"Payroll Code"),y.Qb(),y.Rb(162,"th"),y.Ic(163,"Date From"),y.Qb(),y.Rb(164,"th"),y.Ic(165,"Date To"),y.Qb(),y.Rb(166,"th"),y.Ic(167,"Status"),y.Qb(),y.Rb(168,"th"),y.Ic(169,"Created By"),y.Qb(),y.Rb(170,"th"),y.Ic(171,"Date Created"),y.Qb(),y.Rb(172,"th"),y.Ic(173,"Action"),y.Qb(),y.Qb(),y.Qb(),y.Rb(174,"tbody"),y.Gc(175,De,19,15,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(176,"div",31),y.Rb(177,"button",41),y.Ic(178,"Back"),y.Qb(),y.Rb(179,"button",42),y.Ic(180,"Continue"),y.Qb(),y.Qb(),y.Qb(),y.Rb(181,"aw-wizard-step",59),y.Mb(182,"hr"),y.Rb(183,"div",14),y.Rb(184,"div",20),y.Rb(185,"div",21),y.Rb(186,"label",22),y.Ic(187,"Payroll Code"),y.Qb(),y.Rb(188,"ng-select",60),y.bc("ngModelChange",function(e){return y.xc(n),y.dc().selectedCode=e})("ngModelChange",function(){return y.xc(n),y.dc().loadList()}),y.Qb(),y.Qb(),y.Qb(),y.Rb(189,"div",20),y.Rb(190,"div",21),y.Rb(191,"label",22),y.Ic(192,"\xa0"),y.Qb(),y.Rb(193,"div",21),y.Rb(194,"div",14),y.Gc(195,Pe,3,0,"button",54),y.Gc(196,we,3,0,"button",32),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(197,"div",14),y.Rb(198,"div",35),y.Rb(199,"div",38),y.Gc(200,Fe,2,0,"p",24),y.Rb(201,"table",61),y.Rb(202,"thead"),y.Rb(203,"tr"),y.Rb(204,"th"),y.Rb(205,"div",45),y.Rb(206,"input",62),y.bc("change",function(e){return y.xc(n),y.dc().checkAll(e)}),y.Qb(),y.Mb(207,"label",63),y.Qb(),y.Qb(),y.Rb(208,"th"),y.Ic(209,"Paydate"),y.Qb(),y.Rb(210,"th"),y.Ic(211,"Paycode"),y.Qb(),y.Rb(212,"th"),y.Ic(213,"Employee ID"),y.Qb(),y.Rb(214,"th"),y.Ic(215,"Lastname"),y.Qb(),y.Rb(216,"th"),y.Ic(217,"Firstname"),y.Qb(),y.Rb(218,"th"),y.Ic(219,"Filestatus"),y.Qb(),y.Rb(220,"th"),y.Ic(221,"Taxstatus"),y.Qb(),y.Rb(222,"th"),y.Ic(223,"DAILY RATE"),y.Qb(),y.Rb(224,"th"),y.Ic(225,"MONTHLY RATE"),y.Qb(),y.Rb(226,"th"),y.Ic(227,"BASIC SALARY"),y.Qb(),y.Rb(228,"th"),y.Ic(229,"MISC AMOUNT"),y.Qb(),y.Rb(230,"th"),y.Ic(231,"LEAVEAMOUNT"),y.Qb(),y.Rb(232,"th"),y.Ic(233,"OVERTIME(REG)"),y.Qb(),y.Rb(234,"th"),y.Ic(235,"OVERTIME(HOL)"),y.Qb(),y.Rb(236,"th"),y.Ic(237,"OTHER TX INCOME"),y.Qb(),y.Rb(238,"th"),y.Ic(239,"ADJUSTMENTS"),y.Qb(),y.Rb(240,"th"),y.Ic(241,"GROSS INCOME"),y.Qb(),y.Rb(242,"th"),y.Ic(243,"WITHOLDING TAX"),y.Qb(),y.Rb(244,"th"),y.Ic(245,"NET SALARY AFTER TAX"),y.Qb(),y.Rb(246,"th"),y.Ic(247,"EMPLOYEE SSS"),y.Qb(),y.Rb(248,"th"),y.Ic(249,"EMPLOYEE MCR"),y.Qb(),y.Rb(250,"th"),y.Ic(251,"EMPLOYEE PAG-IBIG"),y.Qb(),y.Rb(252,"th"),y.Ic(253,"OTHER NTX INCOME"),y.Qb(),y.Rb(254,"th"),y.Ic(255,"LOAN PAYMENTS"),y.Qb(),y.Rb(256,"th"),y.Ic(257,"DEDUCTIONS"),y.Qb(),y.Rb(258,"th"),y.Ic(259,"NET SALARY"),y.Qb(),y.Rb(260,"th"),y.Ic(261,"EMPLOYER SSS"),y.Qb(),y.Rb(262,"th"),y.Ic(263,"EMPLOYER MCR"),y.Qb(),y.Rb(264,"th"),y.Ic(265,"EMPLOYER EC"),y.Qb(),y.Rb(266,"th"),y.Ic(267,"EMPLOYER PAG-IBIG"),y.Qb(),y.Rb(268,"th"),y.Ic(269,"PAYROLL COST"),y.Qb(),y.Rb(270,"th"),y.Ic(271,"YTD GROSS"),y.Qb(),y.Rb(272,"th"),y.Ic(273,"YTD WITHOLDING"),y.Qb(),y.Rb(274,"th"),y.Ic(275,"YTD SSS"),y.Qb(),y.Rb(276,"th"),y.Ic(277,"YTD MCR"),y.Qb(),y.Rb(278,"th"),y.Ic(279,"YTD PAG-IBIG"),y.Qb(),y.Rb(280,"th"),y.Ic(281,"YTD BON/13TH NT"),y.Qb(),y.Rb(282,"th"),y.Ic(283,"YTD BON/13TH TX"),y.Qb(),y.Rb(284,"th"),y.Ic(285,"PAYMENT TYPE"),y.Qb(),y.Rb(286,"th"),y.Ic(287,"BANK ACCT#"),y.Qb(),y.Rb(288,"th"),y.Ic(289,"BANK NAME"),y.Qb(),y.Rb(290,"th"),y.Ic(291,"DATE EMPLOYED"),y.Qb(),y.Rb(292,"th"),y.Ic(293,"DATE TERMINATED"),y.Qb(),y.Rb(294,"th"),y.Ic(295,"COST CENTER"),y.Qb(),y.Rb(296,"th"),y.Ic(297,"CURRENCY"),y.Qb(),y.Rb(298,"th"),y.Ic(299,"EXCHANGE RATE"),y.Qb(),y.Rb(300,"th"),y.Ic(301,"PAYMENT FREQ"),y.Qb(),y.Rb(302,"th"),y.Ic(303,"MTD GROSS"),y.Qb(),y.Rb(304,"th"),y.Ic(305,"MTD BASIC"),y.Qb(),y.Rb(306,"th"),y.Ic(307,"MTD SSS EMPLOYEE"),y.Qb(),y.Rb(308,"th"),y.Ic(309,"MTD MCR EMPLOYEE"),y.Qb(),y.Rb(310,"th"),y.Ic(311,"MTD PAG-IBIG EMPLOYEE"),y.Qb(),y.Rb(312,"th"),y.Ic(313,"MTD SSS EMPLOYER"),y.Qb(),y.Rb(314,"th"),y.Ic(315,"MTD MCR EMPLOYER"),y.Qb(),y.Rb(316,"th"),y.Ic(317,"MTD EC EMPLOYER"),y.Qb(),y.Rb(318,"th"),y.Ic(319,"MTD PAG-IBIG EMPLOYER"),y.Qb(),y.Rb(320,"th"),y.Ic(321,"MTD WH TAX"),y.Qb(),y.Rb(322,"th"),y.Ic(323,"MONTHLY BASIC"),y.Qb(),y.Rb(324,"th"),y.Ic(325,"MONTHLY ALLOW"),y.Qb(),y.Rb(326,"th"),y.Ic(327,"MTD NTX"),y.Qb(),y.Mb(328,"th"),y.Qb(),y.Qb(),y.Mb(329,"tbody"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(330,"div",31),y.Rb(331,"button",41),y.Ic(332,"Back"),y.Qb(),y.Rb(333,"button",42),y.Ic(334,"Continue"),y.Qb(),y.Qb(),y.Qb(),y.Rb(335,"aw-wizard-step",64),y.Mb(336,"hr"),y.Rb(337,"div",14),y.Rb(338,"div",35),y.Rb(339,"div",38),y.Rb(340,"table",65),y.Rb(341,"thead"),y.Rb(342,"tr"),y.Rb(343,"th"),y.Ic(344,"Paydate"),y.Qb(),y.Rb(345,"th"),y.Ic(346,"Paycode"),y.Qb(),y.Rb(347,"th"),y.Ic(348,"Employee ID"),y.Qb(),y.Rb(349,"th"),y.Ic(350,"Lastname"),y.Qb(),y.Rb(351,"th"),y.Ic(352,"Firstname"),y.Qb(),y.Rb(353,"th"),y.Ic(354,"Filestatus"),y.Qb(),y.Rb(355,"th"),y.Ic(356,"Taxstatus"),y.Qb(),y.Rb(357,"th"),y.Ic(358,"DAILY RATE"),y.Qb(),y.Rb(359,"th"),y.Ic(360,"MONTHLY RATE"),y.Qb(),y.Rb(361,"th"),y.Ic(362,"BASIC SALARY"),y.Qb(),y.Rb(363,"th"),y.Ic(364,"MISC AMOUNT"),y.Qb(),y.Rb(365,"th"),y.Ic(366,"LEAVEAMOUNT"),y.Qb(),y.Rb(367,"th"),y.Ic(368,"OVERTIME(REG)"),y.Qb(),y.Rb(369,"th"),y.Ic(370,"OVERTIME(HOL)"),y.Qb(),y.Rb(371,"th"),y.Ic(372,"OTHER TX INCOME"),y.Qb(),y.Rb(373,"th"),y.Ic(374,"ADJUSTMENTS"),y.Qb(),y.Rb(375,"th"),y.Ic(376,"GROSS INCOME"),y.Qb(),y.Rb(377,"th"),y.Ic(378,"WITHOLDING TAX"),y.Qb(),y.Rb(379,"th"),y.Ic(380,"NET SALARY AFTER TAX"),y.Qb(),y.Rb(381,"th"),y.Ic(382,"EMPLOYEE SSS"),y.Qb(),y.Rb(383,"th"),y.Ic(384,"EMPLOYEE MCR"),y.Qb(),y.Rb(385,"th"),y.Ic(386,"EMPLOYEE PAG-IBIG"),y.Qb(),y.Rb(387,"th"),y.Ic(388,"OTHER NTX INCOME"),y.Qb(),y.Rb(389,"th"),y.Ic(390,"LOAN PAYMENTS"),y.Qb(),y.Rb(391,"th"),y.Ic(392,"DEDUCTIONS"),y.Qb(),y.Rb(393,"th"),y.Ic(394,"NET SALARY"),y.Qb(),y.Rb(395,"th"),y.Ic(396,"EMPLOYER SSS"),y.Qb(),y.Rb(397,"th"),y.Ic(398,"EMPLOYER MCR"),y.Qb(),y.Rb(399,"th"),y.Ic(400,"EMPLOYER EC"),y.Qb(),y.Rb(401,"th"),y.Ic(402,"EMPLOYER PAG-IBIG"),y.Qb(),y.Rb(403,"th"),y.Ic(404,"PAYROLL COST"),y.Qb(),y.Rb(405,"th"),y.Ic(406,"YTD GROSS"),y.Qb(),y.Rb(407,"th"),y.Ic(408,"YTD WITHOLDING"),y.Qb(),y.Rb(409,"th"),y.Ic(410,"YTD SSS"),y.Qb(),y.Rb(411,"th"),y.Ic(412,"YTD MCR"),y.Qb(),y.Rb(413,"th"),y.Ic(414,"YTD PAG-IBIG"),y.Qb(),y.Rb(415,"th"),y.Ic(416,"YTD BON/13TH NT"),y.Qb(),y.Rb(417,"th"),y.Ic(418,"YTD BON/13TH TX"),y.Qb(),y.Rb(419,"th"),y.Ic(420,"PAYMENT TYPE"),y.Qb(),y.Rb(421,"th"),y.Ic(422,"BANK ACCT#"),y.Qb(),y.Rb(423,"th"),y.Ic(424,"BANK NAME"),y.Qb(),y.Rb(425,"th"),y.Ic(426,"DATE EMPLOYED"),y.Qb(),y.Rb(427,"th"),y.Ic(428,"DATE TERMINATED"),y.Qb(),y.Rb(429,"th"),y.Ic(430,"COST CENTER"),y.Qb(),y.Rb(431,"th"),y.Ic(432,"CURRENCY"),y.Qb(),y.Rb(433,"th"),y.Ic(434,"EXCHANGE RATE"),y.Qb(),y.Rb(435,"th"),y.Ic(436,"PAYMENT FREQ"),y.Qb(),y.Rb(437,"th"),y.Ic(438,"MTD GROSS"),y.Qb(),y.Rb(439,"th"),y.Ic(440,"MTD BASIC"),y.Qb(),y.Rb(441,"th"),y.Ic(442,"MTD SSS EMPLOYEE"),y.Qb(),y.Rb(443,"th"),y.Ic(444,"MTD MCR EMPLOYEE"),y.Qb(),y.Rb(445,"th"),y.Ic(446,"MTD PAG-IBIG EMPLOYEE"),y.Qb(),y.Rb(447,"th"),y.Ic(448,"MTD SSS EMPLOYER"),y.Qb(),y.Rb(449,"th"),y.Ic(450,"MTD MCR EMPLOYER"),y.Qb(),y.Rb(451,"th"),y.Ic(452,"MTD EC EMPLOYER"),y.Qb(),y.Rb(453,"th"),y.Ic(454,"MTD PAG-IBIG EMPLOYER"),y.Qb(),y.Rb(455,"th"),y.Ic(456,"MTD WH TAX"),y.Qb(),y.Rb(457,"th"),y.Ic(458,"MONTHLY BASIC"),y.Qb(),y.Rb(459,"th"),y.Ic(460,"MONTHLY ALLOW"),y.Qb(),y.Rb(461,"th"),y.Ic(462,"MTD NTX"),y.Qb(),y.Mb(463,"th"),y.Qb(),y.Qb(),y.Mb(464,"tbody"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(465,"div",31),y.Rb(466,"button",41),y.Ic(467,"Back"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=y.dc();y.yb(16),y.jc("awCompletedStep",a.complete),y.yb(2),y.jc("formGroup",a.headerForm),y.yb(6),y.jc("items",a.tkList),y.yb(1),y.jc("ngIf",a.errTimekeeping),y.yb(34),y.jc("ngIf",!a.isView),y.yb(1),y.jc("ngIf",a.isView),y.yb(1),y.jc("awCompletedStep",a.complete),y.yb(5),y.jc("ngIf",!a.isGenerate),y.yb(22),y.jc("ngForOf",a.adjHList),y.yb(6),y.jc("awCompletedStep",a.complete),y.yb(2),y.jc("formGroup",a.payrollForm),y.yb(36),y.jc("ngIf",a.isGenerate),y.yb(1),y.jc("ngIf",!a.isGenerate),y.yb(6),y.jc("items",a.category),y.yb(1),y.jc("ngIf",a.errCategory),y.yb(5),y.jc("items",a.branch),y.yb(1),y.jc("ngIf",a.errBranch),y.yb(5),y.jc("items",a.confidential),y.yb(1),y.jc("ngIf",a.errConfidential),y.yb(23),y.jc("ngForOf",a.payHList),y.yb(6),y.jc("awCompletedStep",a.complete),y.yb(7),y.jc("items",a.payList)("ngModel",a.selectedCode),y.yb(7),y.jc("ngIf",a.isPost),y.yb(1),y.jc("ngIf",!a.isPost),y.yb(4),y.jc("ngIf",a.errPosting),y.yb(1),y.jc("dtTrigger",a.dtTriggerPosting)("dtOptions",a.dtOptions.postingView),y.yb(134),y.jc("awCompletedStep",a.complete),y.yb(5),y.jc("dtTrigger",a.dtTriggerPosted)("dtOptions",a.dtOptions.postedView)}}function je(e,t){if(1&e){var n=y.Sb();y.Rb(0,"div",77),y.Rb(1,"h5",78),y.Ic(2,"Payroll Detail"),y.Qb(),y.Rb(3,"button",79),y.bc("click",function(){return t.$implicit.close("by: close icon")}),y.Rb(4,"span",80),y.Ic(5,"\xd7"),y.Qb(),y.Qb(),y.Qb(),y.Rb(6,"div",81),y.Rb(7,"div",14),y.Rb(8,"div",35),y.Rb(9,"div",38),y.Rb(10,"table",82),y.Rb(11,"thead"),y.Rb(12,"tr"),y.Rb(13,"th"),y.Ic(14,"Paydate"),y.Qb(),y.Rb(15,"th"),y.Ic(16,"Paycode"),y.Qb(),y.Rb(17,"th"),y.Ic(18,"Employee ID"),y.Qb(),y.Rb(19,"th"),y.Ic(20,"Lastname"),y.Qb(),y.Rb(21,"th"),y.Ic(22,"Firstname"),y.Qb(),y.Rb(23,"th"),y.Ic(24,"Filestatus"),y.Qb(),y.Rb(25,"th"),y.Ic(26,"Taxstatus"),y.Qb(),y.Rb(27,"th"),y.Ic(28,"DAILY RATE"),y.Qb(),y.Rb(29,"th"),y.Ic(30,"MONTHLY RATE"),y.Qb(),y.Rb(31,"th"),y.Ic(32,"BASIC SALARY"),y.Qb(),y.Rb(33,"th"),y.Ic(34,"MISC AMOUNT"),y.Qb(),y.Rb(35,"th"),y.Ic(36,"LEAVEAMOUNT"),y.Qb(),y.Rb(37,"th"),y.Ic(38,"OVERTIME(REG)"),y.Qb(),y.Rb(39,"th"),y.Ic(40,"OVERTIME(HOL)"),y.Qb(),y.Rb(41,"th"),y.Ic(42,"OTHER TX INCOME"),y.Qb(),y.Rb(43,"th"),y.Ic(44,"ADJUSTMENTS"),y.Qb(),y.Rb(45,"th"),y.Ic(46,"GROSS INCOME"),y.Qb(),y.Rb(47,"th"),y.Ic(48,"WITHOLDING TAX"),y.Qb(),y.Rb(49,"th"),y.Ic(50,"NET SALARY AFTER TAX"),y.Qb(),y.Rb(51,"th"),y.Ic(52,"EMPLOYEE SSS"),y.Qb(),y.Rb(53,"th"),y.Ic(54,"EMPLOYEE MCR"),y.Qb(),y.Rb(55,"th"),y.Ic(56,"EMPLOYEE PAG-IBIG"),y.Qb(),y.Rb(57,"th"),y.Ic(58,"OTHER NTX INCOME"),y.Qb(),y.Rb(59,"th"),y.Ic(60,"LOAN PAYMENTS"),y.Qb(),y.Rb(61,"th"),y.Ic(62,"DEDUCTIONS"),y.Qb(),y.Rb(63,"th"),y.Ic(64,"NET SALARY"),y.Qb(),y.Rb(65,"th"),y.Ic(66,"EMPLOYER SSS"),y.Qb(),y.Rb(67,"th"),y.Ic(68,"EMPLOYER MCR"),y.Qb(),y.Rb(69,"th"),y.Ic(70,"EMPLOYER EC"),y.Qb(),y.Rb(71,"th"),y.Ic(72,"EMPLOYER PAG-IBIG"),y.Qb(),y.Rb(73,"th"),y.Ic(74,"PAYROLL COST"),y.Qb(),y.Rb(75,"th"),y.Ic(76,"YTD GROSS"),y.Qb(),y.Rb(77,"th"),y.Ic(78,"YTD WITHOLDING"),y.Qb(),y.Rb(79,"th"),y.Ic(80,"YTD SSS"),y.Qb(),y.Rb(81,"th"),y.Ic(82,"YTD MCR"),y.Qb(),y.Rb(83,"th"),y.Ic(84,"YTD PAG-IBIG"),y.Qb(),y.Rb(85,"th"),y.Ic(86,"YTD BON/13TH NT"),y.Qb(),y.Rb(87,"th"),y.Ic(88,"YTD BON/13TH TX"),y.Qb(),y.Rb(89,"th"),y.Ic(90,"PAYMENT TYPE"),y.Qb(),y.Rb(91,"th"),y.Ic(92,"BANK ACCT#"),y.Qb(),y.Rb(93,"th"),y.Ic(94,"BANK NAME"),y.Qb(),y.Rb(95,"th"),y.Ic(96,"DATE EMPLOYED"),y.Qb(),y.Rb(97,"th"),y.Ic(98,"DATE TERMINATED"),y.Qb(),y.Rb(99,"th"),y.Ic(100,"COST CENTER"),y.Qb(),y.Rb(101,"th"),y.Ic(102,"CURRENCY"),y.Qb(),y.Rb(103,"th"),y.Ic(104,"EXCHANGE RATE"),y.Qb(),y.Rb(105,"th"),y.Ic(106,"PAYMENT FREQ"),y.Qb(),y.Rb(107,"th"),y.Ic(108,"MTD GROSS"),y.Qb(),y.Rb(109,"th"),y.Ic(110,"MTD BASIC"),y.Qb(),y.Rb(111,"th"),y.Ic(112,"MTD SSS EMPLOYEE"),y.Qb(),y.Rb(113,"th"),y.Ic(114,"MTD MCR EMPLOYEE"),y.Qb(),y.Rb(115,"th"),y.Ic(116,"MTD PAG-IBIG EMPLOYEE"),y.Qb(),y.Rb(117,"th"),y.Ic(118,"MTD SSS EMPLOYER"),y.Qb(),y.Rb(119,"th"),y.Ic(120,"MTD MCR EMPLOYER"),y.Qb(),y.Rb(121,"th"),y.Ic(122,"MTD EC EMPLOYER"),y.Qb(),y.Rb(123,"th"),y.Ic(124,"MTD PAG-IBIG EMPLOYER"),y.Qb(),y.Rb(125,"th"),y.Ic(126,"MTD WH TAX"),y.Qb(),y.Rb(127,"th"),y.Ic(128,"MONTHLY BASIC"),y.Qb(),y.Rb(129,"th"),y.Ic(130,"MONTHLY ALLOW"),y.Qb(),y.Rb(131,"th"),y.Ic(132,"MTD NTX"),y.Qb(),y.Mb(133,"th"),y.Qb(),y.Qb(),y.Mb(134,"tbody"),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(135,"div",83),y.Rb(136,"button",84),y.bc("click",function(){return t.$implicit.close("by: close button")}),y.Ic(137,"Close"),y.Qb(),y.Rb(138,"button",85),y.bc("click",function(){return y.xc(n),y.dc().savePayroll()}),y.Ic(139,"Save changes"),y.Qb(),y.Qb()}if(2&e){var a=y.dc();y.yb(10),y.jc("dtOptions",a.dtOptions.modalView)}}function xe(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Adjustment Type is needed!"),y.Qb())}function Ge(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Adjustment is needed!"),y.Qb())}function $e(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Amount is needed!"),y.Qb())}function Ye(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Tag Type is needed!"),y.Qb())}function Je(e,t){1&e&&(y.Rb(0,"p",66),y.Ic(1,"Name is needed!"),y.Qb())}function Be(e,t){1&e&&(y.Rb(0,"button",73),y.Mb(1,"span",74),y.Ic(2," Loading... "),y.Qb())}function He(e,t){if(1&e){var n=y.Sb();y.Rb(0,"button",69),y.bc("click",function(){return y.xc(n),y.dc(2).search()}),y.Mb(1,"i",100),y.Ic(2," Add "),y.Qb()}}function Ve(e,t){if(1&e){var n=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.Qb(),y.Rb(5,"td"),y.Ic(6),y.Qb(),y.Rb(7,"td"),y.Ic(8),y.Qb(),y.Rb(9,"td"),y.Ic(10),y.Qb(),y.Rb(11,"td"),y.Rb(12,"button",101),y.bc("click",function(){y.xc(n);var e=t.index;return y.dc(2).deleteAdjustment(e)}),y.Mb(13,"i",102),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=t.$implicit;y.yb(2),y.Jc(a.employee_code),y.yb(2),y.Jc(a.display_name),y.yb(2),y.Jc(a.adjustment_type),y.yb(2),y.Jc(a.amount),y.yb(2),y.Jc(a.taxable)}}function Ue(e,t){if(1&e){var n=y.Sb();y.Rb(0,"div",77),y.Rb(1,"h5",78),y.Ic(2,"Adjustment Detail"),y.Qb(),y.Rb(3,"button",79),y.bc("click",function(){return t.$implicit.close("by: close icon")}),y.Rb(4,"span",80),y.Ic(5,"\xd7"),y.Qb(),y.Qb(),y.Qb(),y.Rb(6,"div",81),y.Rb(7,"form",19),y.Rb(8,"div",14),y.Rb(9,"div",86),y.Rb(10,"div",21),y.Rb(11,"label",22),y.Ic(12,"Adjustment Type"),y.Qb(),y.Mb(13,"ng-select",87),y.Gc(14,xe,2,0,"p",24),y.Qb(),y.Qb(),y.Rb(15,"div",88),y.Rb(16,"div",21),y.Rb(17,"label",22),y.Ic(18,"Adjustment"),y.Qb(),y.Mb(19,"input",89),y.Gc(20,Ge,2,0,"p",24),y.Qb(),y.Qb(),y.Rb(21,"div",86),y.Rb(22,"div",21),y.Rb(23,"label",22),y.Ic(24,"Amount"),y.Qb(),y.Mb(25,"input",90),y.Gc(26,$e,2,0,"p",24),y.Qb(),y.Qb(),y.Rb(27,"div",91),y.Rb(28,"div",21),y.Rb(29,"div",21),y.Rb(30,"label",22),y.Ic(31,"Taxable?"),y.Qb(),y.Rb(32,"div",92),y.Rb(33,"label",93),y.Mb(34,"input",94),y.Mb(35,"i",95),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(36,"div",14),y.Rb(37,"div",86),y.Rb(38,"div",21),y.Rb(39,"label",22),y.Ic(40,"Tag Type"),y.Qb(),y.Rb(41,"ng-select",96),y.bc("change",function(){return y.xc(n),y.dc().onChange()}),y.Qb(),y.Gc(42,Ye,2,0,"p",24),y.Qb(),y.Qb(),y.Rb(43,"div",88),y.Rb(44,"div",21),y.Rb(45,"label",22),y.Ic(46,"Name"),y.Qb(),y.Mb(47,"ng-select",97),y.Gc(48,Je,2,0,"p",24),y.Qb(),y.Qb(),y.Rb(49,"div",20),y.Rb(50,"div",21),y.Rb(51,"label",22),y.Ic(52,"\xa0"),y.Qb(),y.Rb(53,"div",21),y.Rb(54,"div",14),y.Gc(55,Be,3,0,"button",54),y.Gc(56,He,3,0,"button",98),y.Ic(57," \xa0 "),y.Rb(58,"button",67),y.bc("click",function(){return y.xc(n),y.dc().submitAdjustment()}),y.Mb(59,"i",68),y.Ic(60," Save "),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(61,"div",14),y.Rb(62,"div",35),y.Rb(63,"div",38),y.Rb(64,"table",99),y.Rb(65,"thead"),y.Rb(66,"tr"),y.Rb(67,"th"),y.Ic(68,"EMPLOYEE CODE"),y.Qb(),y.Rb(69,"th"),y.Ic(70,"EMPLOYEE"),y.Qb(),y.Rb(71,"th"),y.Ic(72,"TYPE"),y.Qb(),y.Rb(73,"th"),y.Ic(74,"AMOUNT"),y.Qb(),y.Rb(75,"th"),y.Ic(76,"TAXABLE"),y.Qb(),y.Rb(77,"th"),y.Ic(78,"ACTION"),y.Qb(),y.Qb(),y.Qb(),y.Rb(79,"tbody"),y.Gc(80,Ve,14,5,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()}if(2&e){var a=y.dc();y.yb(7),y.jc("formGroup",a.adjustmentForm),y.yb(6),y.jc("items",a.typeList),y.yb(1),y.jc("ngIf",a.errAdjustmentType),y.yb(6),y.jc("ngIf",a.errAdjustment),y.yb(6),y.jc("ngIf",a.errAmount),y.yb(15),y.jc("items",a.tagType),y.yb(1),y.jc("ngIf",a.errTagType),y.yb(5),y.jc("items",a.nameList),y.yb(1),y.jc("ngIf",a.errName),y.yb(7),y.jc("ngIf",a.isSearch),y.yb(1),y.jc("ngIf",!a.isSearch),y.yb(24),y.jc("ngForOf",a.adjList)}}function Xe(e,t){if(1&e&&(y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.ec(5,"number"),y.Qb(),y.Qb()),2&e){var n=t.$implicit;y.yb(2),y.Jc(n.detail),y.yb(2),y.Jc(y.gc(5,2,n.amount,"1.2-2"))}}function We(e,t){if(1&e&&(y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.ec(5,"number"),y.Qb(),y.Qb()),2&e){var n=t.$implicit;y.yb(2),y.Jc(n.detail),y.yb(2),y.Jc(y.gc(5,2,n.amount,"1.2-2"))}}function Ke(e,t){if(1&e&&(y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.ec(5,"number"),y.Qb(),y.Rb(6,"td"),y.Ic(7),y.Qb(),y.Qb()),2&e){var n=t.$implicit;y.yb(2),y.Jc(n.detail),y.yb(2),y.Jc(y.gc(5,3,n.amount,"1.2-2")),y.yb(3),y.Jc(n.taxable)}}function ze(e,t){if(1&e&&(y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.ec(5,"number"),y.Qb(),y.Rb(6,"td"),y.Ic(7),y.Qb(),y.Qb()),2&e){var n=t.$implicit;y.yb(2),y.Jc(n.detail),y.yb(2),y.Jc(y.gc(5,3,n.amount,"1.2-2")),y.yb(3),y.Jc(n.taxable)}}function qe(e,t){if(1&e&&(y.Rb(0,"tr"),y.Rb(1,"td"),y.Ic(2),y.Qb(),y.Rb(3,"td"),y.Ic(4),y.Qb(),y.Rb(5,"td"),y.Ic(6),y.ec(7,"date"),y.Qb(),y.Rb(8,"td"),y.Ic(9),y.Qb(),y.Rb(10,"td"),y.Ic(11),y.Qb(),y.Rb(12,"td"),y.Ic(13),y.Qb(),y.Rb(14,"td"),y.Ic(15),y.Qb(),y.Rb(16,"td"),y.Ic(17),y.Qb(),y.Rb(18,"td"),y.Ic(19),y.ec(20,"number"),y.Qb(),y.Rb(21,"td"),y.Ic(22),y.ec(23,"number"),y.Qb(),y.Rb(24,"td"),y.Ic(25),y.ec(26,"number"),y.Qb(),y.Rb(27,"td"),y.Ic(28),y.ec(29,"number"),y.Qb(),y.Rb(30,"td"),y.Ic(31),y.Qb(),y.Rb(32,"td"),y.Ic(33),y.ec(34,"number"),y.Qb(),y.Rb(35,"td"),y.Ic(36),y.ec(37,"number"),y.Qb(),y.Rb(38,"td"),y.Ic(39),y.ec(40,"number"),y.Qb(),y.Rb(41,"td"),y.Ic(42),y.ec(43,"number"),y.Qb(),y.Rb(44,"td"),y.Ic(45),y.ec(46,"number"),y.Qb(),y.Rb(47,"td"),y.Ic(48),y.ec(49,"number"),y.Qb(),y.Rb(50,"td"),y.Ic(51),y.ec(52,"number"),y.Qb(),y.Rb(53,"td"),y.Ic(54),y.ec(55,"number"),y.Qb(),y.Rb(56,"td"),y.Ic(57),y.ec(58,"number"),y.Qb(),y.Rb(59,"td"),y.Ic(60),y.ec(61,"number"),y.Qb(),y.Rb(62,"td"),y.Ic(63),y.ec(64,"number"),y.Qb(),y.Rb(65,"td"),y.Ic(66),y.ec(67,"number"),y.Qb(),y.Rb(68,"td"),y.Ic(69),y.ec(70,"number"),y.Qb(),y.Rb(71,"td"),y.Ic(72),y.ec(73,"number"),y.Qb(),y.Rb(74,"td"),y.Ic(75),y.ec(76,"number"),y.Qb(),y.Rb(77,"td"),y.Ic(78),y.ec(79,"number"),y.Qb(),y.Rb(80,"td"),y.Ic(81),y.ec(82,"number"),y.Qb(),y.Rb(83,"td"),y.Ic(84),y.ec(85,"number"),y.Qb(),y.Rb(86,"td"),y.Ic(87),y.ec(88,"number"),y.Qb(),y.Rb(89,"td"),y.Ic(90),y.ec(91,"number"),y.Qb(),y.Rb(92,"td"),y.Ic(93),y.ec(94,"number"),y.Qb(),y.Rb(95,"td"),y.Ic(96),y.ec(97,"number"),y.Qb(),y.Rb(98,"td"),y.Ic(99),y.ec(100,"number"),y.Qb(),y.Rb(101,"td"),y.Ic(102),y.ec(103,"number"),y.Qb(),y.Rb(104,"td"),y.Ic(105),y.ec(106,"number"),y.Qb(),y.Rb(107,"td"),y.Ic(108),y.ec(109,"number"),y.Qb(),y.Rb(110,"td"),y.Ic(111),y.ec(112,"number"),y.Qb(),y.Rb(113,"td"),y.Ic(114),y.ec(115,"number"),y.Qb(),y.Rb(116,"td"),y.Ic(117),y.ec(118,"number"),y.Qb(),y.Rb(119,"td"),y.Ic(120),y.ec(121,"number"),y.Qb(),y.Rb(122,"td"),y.Ic(123),y.ec(124,"number"),y.Qb(),y.Rb(125,"td"),y.Ic(126),y.ec(127,"number"),y.Qb(),y.Rb(128,"td"),y.Ic(129),y.ec(130,"number"),y.Qb(),y.Rb(131,"td"),y.Ic(132),y.ec(133,"number"),y.Qb(),y.Rb(134,"td"),y.Ic(135),y.ec(136,"number"),y.Qb(),y.Rb(137,"td"),y.Ic(138),y.Qb(),y.Qb()),2&e){var n=t.$implicit;y.yb(2),y.Jc(n.employee_code),y.yb(2),y.Jc(n.display_name),y.yb(2),y.Jc(y.gc(7,49,n.date,"MM/dd/yyyy")),y.yb(3),y.Jc(n.rest_day),y.yb(2),y.Jc(n.schedule_time_in),y.yb(2),y.Jc(n.schedule_time_out),y.yb(2),y.Jc(n.actual_time_in),y.yb(2),y.Jc(n.actual_time_out),y.yb(2),y.Jc(y.gc(20,52,n.reg,"1.2-2")),y.yb(3),y.Jc(y.gc(23,55,n.reg,"1.2-2")),y.yb(3),y.Jc(y.gc(26,58,n.late,"1.2-2")),y.yb(3),y.Jc(y.gc(29,61,n.undertime,"1.2-2")),y.yb(3),y.Jc(n.is_absent),y.yb(2),y.Jc(y.gc(34,64,n.lwop_hour,"1.2-2")),y.yb(3),y.Jc(y.gc(37,67,n.vl_hour,"1.2-2")),y.yb(3),y.Jc(y.gc(40,70,n.sl_hour,"1.2-2")),y.yb(3),y.Jc(y.gc(43,73,n.otherl_hour,"1.2-2")),y.yb(3),y.Jc(y.gc(46,76,n.regnd,"1.2-2")),y.yb(3),y.Jc(y.gc(49,79,n.ot,"1.2-2")),y.yb(3),y.Jc(y.gc(52,82,n.otnd,"1.2-2")),y.yb(3),y.Jc(y.gc(55,85,n.lhot,"1.2-2")),y.yb(3),y.Jc(y.gc(58,88,n.lhotnd,"1.2-2")),y.yb(3),y.Jc(y.gc(61,91,n.lhot_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(64,94,n.lhotnd_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(67,97,n.lhrdot,"1.2-2")),y.yb(3),y.Jc(y.gc(70,100,n.lhrdotnd,"1.2-2")),y.yb(3),y.Jc(y.gc(73,103,n.lhrdot_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(76,106,n.lhrdotnd_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(79,109,n.shot,"1.2-2")),y.yb(3),y.Jc(y.gc(82,112,n.shotnd,"1.2-2")),y.yb(3),y.Jc(y.gc(85,115,n.shot_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(88,118,n.shotnd_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(91,121,n.shrdot,"1.2-2")),y.yb(3),y.Jc(y.gc(94,124,n.shrdotnd,"1.2-2")),y.yb(3),y.Jc(y.gc(97,127,n.shrdot_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(100,130,n.shrdotnd_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(103,133,n.otrd,"1.2-2")),y.yb(3),y.Jc(y.gc(106,136,n.otrdnd,"1.2-2")),y.yb(3),y.Jc(y.gc(109,139,n.otrd_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(112,142,n.otrdnd_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(115,145,n.dhot,"1.2-2")),y.yb(3),y.Jc(y.gc(118,148,n.dhotnd,"1.2-2")),y.yb(3),y.Jc(y.gc(121,151,n.dhot_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(124,154,n.dhotnd_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(127,157,n.dhrdot,"1.2-2")),y.yb(3),y.Jc(y.gc(130,160,n.dhrdotnd,"1.2-2")),y.yb(3),y.Jc(y.gc(133,163,n.dhrdot_e8,"1.2-2")),y.yb(3),y.Jc(y.gc(136,166,n.dhrdotnd_e8,"1.2-2")),y.yb(3),y.Jc(n.remarks)}}function Ze(e,t){if(1&e&&(y.Rb(0,"div",77),y.Rb(1,"h5",78),y.Ic(2,"Payroll Detail"),y.Qb(),y.Rb(3,"button",79),y.bc("click",function(){return t.$implicit.close("by: close icon")}),y.Rb(4,"span",80),y.Ic(5,"\xd7"),y.Qb(),y.Qb(),y.Qb(),y.Rb(6,"div",81),y.Rb(7,"div",14),y.Rb(8,"div",103),y.Rb(9,"div",104),y.Rb(10,"span",105),y.Mb(11,"i",106),y.Qb(),y.Rb(12,"div",107),y.Rb(13,"span"),y.Ic(14),y.ec(15,"number"),y.Qb(),y.Ic(16," Basic Gross Pay "),y.Qb(),y.Qb(),y.Qb(),y.Rb(17,"div",103),y.Rb(18,"div",108),y.Rb(19,"span",105),y.Mb(20,"i",109),y.Qb(),y.Rb(21,"div",107),y.Rb(22,"span"),y.Ic(23),y.ec(24,"number"),y.Qb(),y.Ic(25," Total Addition "),y.Qb(),y.Qb(),y.Qb(),y.Rb(26,"div",103),y.Rb(27,"div",110),y.Rb(28,"span",105),y.Mb(29,"i",111),y.Qb(),y.Rb(30,"div",107),y.Rb(31,"span"),y.Ic(32),y.ec(33,"number"),y.Qb(),y.Ic(34," Total Deduction "),y.Qb(),y.Qb(),y.Qb(),y.Rb(35,"div",103),y.Rb(36,"div",112),y.Rb(37,"span",105),y.Mb(38,"i",113),y.Qb(),y.Rb(39,"div",107),y.Rb(40,"span"),y.Ic(41),y.ec(42,"number"),y.Qb(),y.Ic(43," Net Pay "),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(44,"hr"),y.Rb(45,"div",16),y.Rb(46,"div",114),y.Rb(47,"h5"),y.Ic(48,"Employee Information"),y.Qb(),y.Qb(),y.Rb(49,"div",17),y.Rb(50,"form",19),y.Rb(51,"div",14),y.Rb(52,"div",115),y.Rb(53,"div",14),y.Rb(54,"label",116),y.Ic(55,"Company"),y.Qb(),y.Rb(56,"div",117),y.Mb(57,"input",118),y.Qb(),y.Qb(),y.Qb(),y.Rb(58,"div",115),y.Rb(59,"div",14),y.Rb(60,"label",116),y.Ic(61,"Pay Period"),y.Qb(),y.Rb(62,"div",117),y.Mb(63,"input",119),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(64,"div",14),y.Rb(65,"div",115),y.Rb(66,"div",14),y.Rb(67,"label",116),y.Ic(68,"Employee"),y.Qb(),y.Rb(69,"div",117),y.Mb(70,"input",120),y.Qb(),y.Qb(),y.Qb(),y.Rb(71,"div",115),y.Rb(72,"div",14),y.Rb(73,"label",116),y.Ic(74,"Cutoff Date"),y.Qb(),y.Rb(75,"div",117),y.Mb(76,"input",121),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(77,"div",14),y.Rb(78,"div",115),y.Rb(79,"div",14),y.Rb(80,"label",116),y.Ic(81,"Department"),y.Qb(),y.Rb(82,"div",117),y.Mb(83,"input",122),y.Qb(),y.Qb(),y.Qb(),y.Rb(84,"div",115),y.Rb(85,"div",14),y.Rb(86,"label",116),y.Ic(87,"Paydate"),y.Qb(),y.Rb(88,"div",117),y.Mb(89,"input",123),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(90,"div",14),y.Rb(91,"div",115),y.Rb(92,"div",14),y.Rb(93,"label",116),y.Ic(94,"Position"),y.Qb(),y.Rb(95,"div",117),y.Mb(96,"input",124),y.Qb(),y.Qb(),y.Qb(),y.Rb(97,"div",115),y.Rb(98,"div",14),y.Rb(99,"label",116),y.Ic(100,"Bank Account"),y.Qb(),y.Rb(101,"div",117),y.Mb(102,"input",125),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(103,"div",14),y.Rb(104,"div",115),y.Rb(105,"div",14),y.Rb(106,"label",116),y.Ic(107,"Payroll Type"),y.Qb(),y.Rb(108,"div",117),y.Mb(109,"input",126),y.Qb(),y.Qb(),y.Qb(),y.Rb(110,"div",115),y.Rb(111,"div",14),y.Rb(112,"label",116),y.Ic(113,"Salary Rate"),y.Qb(),y.Rb(114,"div",117),y.Mb(115,"input",127),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(116,"div",16),y.Rb(117,"div",114),y.Rb(118,"h5"),y.Ic(119,"Payroll Information"),y.Qb(),y.Qb(),y.Rb(120,"div",17),y.Rb(121,"div",14),y.Rb(122,"div",115),y.Rb(123,"div",38),y.Rb(124,"table",128),y.Rb(125,"thead"),y.Rb(126,"tr"),y.Rb(127,"th",129),y.Ic(128,"SUMMARY"),y.Qb(),y.Qb(),y.Rb(129,"tr"),y.Rb(130,"th"),y.Ic(131,"TYPE"),y.Qb(),y.Rb(132,"th"),y.Ic(133,"AMOUNT"),y.Qb(),y.Qb(),y.Qb(),y.Rb(134,"tbody"),y.Gc(135,Xe,6,5,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(136,"div",115),y.Rb(137,"div",38),y.Rb(138,"table",128),y.Rb(139,"thead"),y.Rb(140,"tr"),y.Rb(141,"th",130),y.Ic(142,"OVERTIME"),y.Qb(),y.Qb(),y.Rb(143,"tr"),y.Rb(144,"th"),y.Ic(145,"NAME"),y.Qb(),y.Rb(146,"th"),y.Ic(147,"AMOUNT"),y.Qb(),y.Qb(),y.Qb(),y.Rb(148,"tbody"),y.Gc(149,We,6,5,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Mb(150,"br"),y.Rb(151,"div",14),y.Rb(152,"div",115),y.Rb(153,"div",38),y.Rb(154,"table",128),y.Rb(155,"thead"),y.Rb(156,"tr"),y.Rb(157,"th",130),y.Ic(158,"ADDITION"),y.Qb(),y.Qb(),y.Rb(159,"tr"),y.Rb(160,"th"),y.Ic(161,"NAME"),y.Qb(),y.Rb(162,"th"),y.Ic(163,"AMOUNT"),y.Qb(),y.Rb(164,"th"),y.Ic(165,"TAXABLE"),y.Qb(),y.Qb(),y.Qb(),y.Rb(166,"tbody"),y.Gc(167,Ke,8,6,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(168,"div",115),y.Rb(169,"div",38),y.Rb(170,"table",128),y.Rb(171,"thead"),y.Rb(172,"tr"),y.Rb(173,"th",131),y.Ic(174,"DEDUCTION"),y.Qb(),y.Qb(),y.Rb(175,"tr"),y.Rb(176,"th"),y.Ic(177,"NAME"),y.Qb(),y.Rb(178,"th"),y.Ic(179,"AMOUNT"),y.Qb(),y.Rb(180,"th"),y.Ic(181,"TAXABLE"),y.Qb(),y.Qb(),y.Qb(),y.Rb(182,"tbody"),y.Gc(183,ze,8,6,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Rb(184,"div",16),y.Rb(185,"div",114),y.Rb(186,"h5"),y.Ic(187,"Timekeeping Information"),y.Qb(),y.Qb(),y.Rb(188,"div",17),y.Rb(189,"div",14),y.Rb(190,"div",35),y.Rb(191,"div",38),y.Rb(192,"table",132),y.Rb(193,"thead"),y.Rb(194,"tr"),y.Rb(195,"th"),y.Ic(196,"EMPLOYEE CODE"),y.Qb(),y.Rb(197,"th"),y.Ic(198,"EMPLOYEE"),y.Qb(),y.Rb(199,"th"),y.Ic(200,"DATE"),y.Qb(),y.Rb(201,"th"),y.Ic(202,"RESTDAY"),y.Qb(),y.Rb(203,"th"),y.Ic(204,"SCHEDULE IN"),y.Qb(),y.Rb(205,"th"),y.Ic(206,"SCHEDULE OUT"),y.Qb(),y.Rb(207,"th"),y.Ic(208,"TIME IN"),y.Qb(),y.Rb(209,"th"),y.Ic(210,"TIME OUT"),y.Qb(),y.Rb(211,"th"),y.Ic(212,"REG DAYS WRK"),y.Qb(),y.Rb(213,"th"),y.Ic(214,"REG HOURS"),y.Qb(),y.Rb(215,"th"),y.Ic(216,"TARDY HRS"),y.Qb(),y.Rb(217,"th"),y.Ic(218,"UNDERTIME HRS"),y.Qb(),y.Rb(219,"th"),y.Ic(220,"ABSENT DAYS"),y.Qb(),y.Rb(221,"th"),y.Ic(222,"LWOP DAYS"),y.Qb(),y.Rb(223,"th"),y.Ic(224,"VL DAYS"),y.Qb(),y.Rb(225,"th"),y.Ic(226,"SL DAYS"),y.Qb(),y.Rb(227,"th"),y.Ic(228,"OTHER LV DAYS"),y.Qb(),y.Rb(229,"th"),y.Ic(230,"NITE-DIFF 10%"),y.Qb(),y.Rb(231,"th"),y.Ic(232,"REGULAR-OT"),y.Qb(),y.Rb(233,"th"),y.Ic(234,"REG-OT (NP HRS 10%)"),y.Qb(),y.Rb(235,"th"),y.Ic(236,"LEGAL HOL OT"),y.Qb(),y.Rb(237,"th"),y.Ic(238,"LEGAL HOL OT (NP HRS 10%)"),y.Qb(),y.Rb(239,"th"),y.Ic(240,"LEGAL HOL OT > 8HRS"),y.Qb(),y.Rb(241,"th"),y.Ic(242,"LEGAL HOL OT >8 (NP HRS 10%)"),y.Qb(),y.Rb(243,"th"),y.Ic(244,"LEGAL HOL RD"),y.Qb(),y.Rb(245,"th"),y.Ic(246,"LEGAL HOL RD (NP HRS 10%)"),y.Qb(),y.Rb(247,"th"),y.Ic(248,"LEGAL HOL RD >8HRS"),y.Qb(),y.Rb(249,"th"),y.Ic(250,"LEGAL HOL RD >8 (NP HRS 10%)"),y.Qb(),y.Rb(251,"th"),y.Ic(252,"SPECL HOL OT"),y.Qb(),y.Rb(253,"th"),y.Ic(254,"SPECL HOL OT (NP HRS 10%)"),y.Qb(),y.Rb(255,"th"),y.Ic(256,"SPECL HOLIDAY OT >8"),y.Qb(),y.Rb(257,"th"),y.Ic(258,"SPECL HOL OT >8 (NP HRS 10%)"),y.Qb(),y.Rb(259,"th"),y.Ic(260,"SPECIAL HOLIDAY RD"),y.Qb(),y.Rb(261,"th"),y.Ic(262,"SPECIAL HOL RD (NP HRS 10%)"),y.Qb(),y.Rb(263,"th"),y.Ic(264,"SPECL HOLIDAY ON RD > 8HRS"),y.Qb(),y.Rb(265,"th"),y.Ic(266,"SPECL HOL RD > 8 (NP HRS 10%)"),y.Qb(),y.Rb(267,"th"),y.Ic(268,"REST DAY OT"),y.Qb(),y.Rb(269,"th"),y.Ic(270,"REST DAY OT (NP HRS 10%)"),y.Qb(),y.Rb(271,"th"),y.Ic(272,"REST DAY OT > 8HRS"),y.Qb(),y.Rb(273,"th"),y.Ic(274,"REST DAY OT > 8 (NP HRS 10%)"),y.Qb(),y.Rb(275,"th"),y.Ic(276,"DOUBLE HOLIDAY OT"),y.Qb(),y.Rb(277,"th"),y.Ic(278,"DOUBLE HOLIDAY OT (NP HRS 10%)"),y.Qb(),y.Rb(279,"th"),y.Ic(280,"DOUBLE HOLIDAY OT > 8HRS"),y.Qb(),y.Rb(281,"th"),y.Ic(282,"DOUBLE HOLIDAY OT > 8 (NP HRS 10%)"),y.Qb(),y.Rb(283,"th"),y.Ic(284,"DOUBLE HOLIDAY RD"),y.Qb(),y.Rb(285,"th"),y.Ic(286,"DOUBLE HOL RD (NP HRS 10%)"),y.Qb(),y.Rb(287,"th"),y.Ic(288,"DOUBLE HOL ON RD > 8HRS"),y.Qb(),y.Rb(289,"th"),y.Ic(290,"DOUBLE HOL RD > 8 (NP HRS 10%)"),y.Qb(),y.Rb(291,"th"),y.Ic(292,"REMARKS"),y.Qb(),y.Qb(),y.Qb(),y.Rb(293,"tbody"),y.Gc(294,qe,139,169,"tr",40),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()),2&e){var n=y.dc();y.yb(14),y.Kc("\u20b1 ",y.gc(15,10,n.hGross,"1.2-2"),""),y.yb(9),y.Kc("\u20b1 ",y.gc(24,13,n.hAddition,"1.2-2"),""),y.yb(9),y.Kc("\u20b1 ",y.gc(33,16,n.hDeduction,"1.2-2"),""),y.yb(9),y.Kc("\u20b1 ",y.gc(42,19,n.hNetpay,"1.2-2"),""),y.yb(9),y.jc("formGroup",n.detailForm),y.yb(85),y.jc("ngForOf",n.summary),y.yb(14),y.jc("ngForOf",n.overtime),y.yb(18),y.jc("ngForOf",n.addition),y.yb(16),y.jc("ngForOf",n.deduction),y.yb(111),y.jc("ngForOf",n.tkView)}}var et,tt,nt=[{path:"",component:i.a,children:[{path:"loans-view",component:_},{path:"loans-detail",redirectTo:"loans-detail/",pathMatch:"full"},{path:"loans-detail/:id",component:V},{path:"government-contribution",component:oe},{path:"payroll-generation-view",component:pe},{path:"payroll-generation-detail",redirectTo:"payroll-generation-detail/",pathMatch:"full"},{path:"payroll-generation-detail/:id",component:(et=function(){function t(n,a,r,i,o,c,d,l,s,m,u,p){e(this,t),this.fb=n,this.modalService=a,this.timekeepingManagementService=r,this.tenantMasterService=i,this.employeeCategory=o,this.branchManagement=c,this.payrollManagementService=d,this.route=l,this.accountManagementService=s,this.tenantDefaultService=m,this.userManagementService=u,this.renderer=p,this.isLoading=!0,this.isView=!1,this.complete=!0,this.isGenerate=!1,this.errTimekeeping=!1,this.errPosting=!1,this.isSearch=!1,this.isPost=!1,this.defaultNavActiveId=1,this.tkList=[],this.category=[],this.branch=[],this.confidential=[],this.adjList=[],this.adjHList=[],this.payHList=[],this.tagType=[],this.branchlist=[],this.company=[],this.department=[],this.employee=[],this.nameList=[],this.typeList=[],this.genList=[],this.postedList=[],this.summary=[],this.overtime=[],this.addition=[],this.deduction=[],this.tkView=[],this.payList=[],this.pipe=new b.e("en-US"),this.dtOptions=[],this.dtTriggerPosting=new h.a,this.dtTriggerPosted=new h.a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.listenerFn=this.renderButton(),this.id=this.route.snapshot.paramMap.get("id"),this.payrollForm=this.fb.group({timekeepingID:null,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:null,branch:null,confidential:null}),this.headerForm=this.fb.group({timekeepingID:null,payrollType:"",dateFrom:"",dateTo:"",category:"",branch:"",confidential:""}),this.adjustmentForm=this.fb.group({adjustmentType:null,adjustment:"",amount:0,taxable:!1,selectedTagType:null,selectedEmployee:null}),this.detailForm=this.fb.group({company:"",payPeriod:"",employee:"",cutoffDate:"",department:"",paydate:"",position:"",bankAccount:"",payrollType:"",salaryRate:""}),this.resetError(!1),this.dtOptions.postingView={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0,order:[0,"desc"]},setTimeout(function(){e.dtTriggerPosting.next()},100),this.tenantMasterService.dropdownList("50").subscribe(function(t){e.tagType=t.filter(function(e){return 50===e.type_id}),e.tenantMasterService.dropdownList("42, 26,").subscribe(function(t){e.confidential=Object(he.merge)([{id:0,description:"All"}],t.filter(function(e){return 42===e.type_id})),e.typeList=t.filter(function(e){return 26===e.type_id}),""!==e.id?(e.isView=!0,e.payrollManagementService.headerView(e.id).subscribe(function(t){e.tkList=t,e.headerForm.setValue({timekeepingID:t[0].timekeeping_header_id,payrollType:t[0].payroll_type,dateFrom:e.pipe.transform(t[0].date_from,"MM/dd/yyyy"),dateTo:e.pipe.transform(t[0].date_to,"MM/dd/yyyy"),category:t[0].category_name,branch:t[0].branch,confidential:t[0].confidentiality}),e.payrollForm.setValue({timekeepingID:t[0].timekeeping_header_id,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:t[0].category_id,branch:t[0].branch_id,confidential:t[0].confidentiality_id}),e.loadCustomDropdown(t),e.loadAdjustment(),e.loadPayroll(0),e.loadPayrollList(0),e.loadPostedPayroll(),e.isLoading=!1},function(e){console.log(e.error)})):(e.id="0",e.isView=!1,e.isLoading=!1,e.timekeepingManagementService.payrollTKView("0").subscribe(function(t){e.tkList=t},function(e){console.log(e.error)}))},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"ngOnDestroy",value:function(){this.listenerFn&&this.listenerFn()}},{key:"renderButton",value:function(){var e=this;return this.renderer.listen("document","click",function(t){if(t.target.classList.contains("viewPayroll"))switch(e.viewType){case"Generation":e.viewTempDetail(t.target.id);break;case"Generated":e.viewDetail(t.target.id)}t.target.classList.contains("viewPostedPayroll")&&e.viewPostedDetail(t.target.id),t.target.classList.contains("selectPayroll")&&(e.genList[t.target.value].is_checked=t.target.checked)})}},{key:"loadCustomDropdown",value:function(e){var t=this;0!==e[0].branch_id?this.branch=[{branch_id:e[0].branch_id,branch_name:e[0].branch}]:this.branchManagement.branchList().subscribe(function(e){t.branch=Object(he.merge)([{branch_id:0,branch_name:"All"}],e)},function(e){console.log(e.error)}),0!==e[0].category_id?this.category=[{category_id:e[0].category_id,category_name:e[0].category_name}]:this.employeeCategory.categoryList(0).subscribe(function(e){t.category=Object(he.merge)([{category_id:0,category_name:"All"}],e)},function(e){console.log(e.error)}),0!==e[0].confidentiality_id&&(this.confidential=[{id:e[0].confidentiality_id,description:e[0].confidentiality}])}},{key:"reloadheader",value:function(){var e=this;this.payrollManagementService.headerView(this.id).subscribe(function(t){e.tkList=t,e.headerForm.setValue({timekeepingID:t[0].timekeeping_header_id,payrollType:t[0].payroll_type,dateFrom:e.pipe.transform(t[0].date_from,"MM/dd/yyyy"),dateTo:e.pipe.transform(t[0].date_to,"MM/dd/yyyy"),category:t[0].category_name,branch:t[0].branch,confidential:t[0].confidentiality}),e.payrollForm.setValue({timekeepingID:t[0].timekeeping_header_id,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:t[0].category_id,branch:t[0].branch_id,confidential:t[0].confidentiality_id}),e.loadCustomDropdown(t)},function(e){console.log(e.error)})}},{key:"selectTK",value:function(e){this.headerForm.setValue({timekeepingID:e.timekeeping_header_id,payrollType:e.payroll_type,dateFrom:this.pipe.transform(e.date_from,"MM/dd/yyyy"),dateTo:this.pipe.transform(e.date_to,"MM/dd/yyyy"),category:e.category,branch:e.branch,confidential:e.confidentiality}),this.payrollForm=this.fb.group({timekeepingID:e.timekeeping_header_id,payrollCode:"",includeTax:!0,includeSSS:!0,includePagibig:!0,includePhilhealth:!0,category:e.category_id,branch:e.branch_id,confidential:e.confidentiality_id})}},{key:"submitHeader",value:function(){var e=this,t=!0;this.errTimekeeping=!1,""!==this.headerForm.get("timekeepingID").value&&null!==this.headerForm.get("timekeepingID").value||(t=!1,this.errTimekeeping=!0),t&&M.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&M.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){M.a.showLoading();var t={payroll_header_code:e.id,timekeeping_header_id:e.headerForm.value.timekeepingID,approval_level_id:sessionStorage.getItem("apl"),created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")};e.payrollManagementService.headerIU(t).subscribe(function(t){0===t.payroll_header_id?M.a.fire("Failed!","Transaction failed!","error"):(e.id=t.encrypted_payroll_header_id,e.isView=!0,e.reloadheader(),M.a.fire("Ok!","Transaction successful!","success"))},function(e){console.log(e.error),M.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"onChange",value:function(){var e=this;switch(this.nameList=[],this.adjustmentForm.get("selectedTagType").value){case 102:this.branchlist.length>0?this.nameList=this.branchlist:this.branchManagement.branchList().subscribe(function(t){for(var n=0;n<t.length;n++)e.branchlist.push({id:t[n].encrypted_branch_id,description:t[n].branch_name});e.nameList=e.branchlist},function(e){console.log(e.error)});break;case 103:this.company.length>0?this.nameList=this.company:this.accountManagementService.companyView().subscribe(function(t){for(var n=0;n<t.length;n++)e.company.push({id:t[n].companyID,description:t[n].companyName});e.nameList=e.company},function(e){console.log(e.error)});break;case 90:this.department.length>0?this.nameList=this.department:this.tenantDefaultService.dropdownTList("38").subscribe(function(t){for(var n=0;n<t.length;n++)e.department.push({id:t[n].encrypted_id,description:t[n].description});e.nameList=e.department},function(e){console.log(e.error)});break;case 89:this.employee.length>0?this.nameList=this.employee:this.userManagementService.employeeList().subscribe(function(t){for(var n=0;n<t.length;n++)e.employee.push({id:t[n].encrypt_employee_id,description:t[n].display_name});e.nameList=e.employee},function(e){console.log(e.error)})}}},{key:"resetError",value:function(e){this.errAdjustmentType=e,this.errAdjustment=e,this.errTagType=e,this.errName=e,this.errAmount=e,this.errCategory=e,this.errBranch=e,this.errConfidential=e}},{key:"validation",value:function(){this.resetError(!1);var e=!0;return""!==this.adjustmentForm.get("adjustmentType").value&&null!==this.adjustmentForm.get("adjustmentType").value||(e=!1,this.errAdjustmentType=!0),""!==this.adjustmentForm.get("adjustment").value&&null!==this.adjustmentForm.get("adjustment").value||(e=!1,this.errAdjustment=!0),""!==this.adjustmentForm.get("selectedTagType").value&&null!==this.adjustmentForm.get("selectedTagType").value||(e=!1,this.errTagType=!0),""!==this.adjustmentForm.get("selectedEmployee").value&&null!==this.adjustmentForm.get("selectedEmployee").value||(e=!1,this.errName=!0),""!==this.adjustmentForm.get("amount").value&&null!==this.adjustmentForm.get("amount").value||(e=!1,this.errAmount=!0),e}},{key:"search",value:function(){var e=this;this.validation()&&(this.isSearch=!0,this.userManagementService.employeeAdjustment(this.id,this.adjustmentForm.value.adjustmentType,this.adjustmentForm.value.adjustment,this.adjustmentForm.value.amount,this.adjustmentForm.value.taxable,this.adjustmentForm.value.selectedTagType,this.adjustmentForm.value.selectedEmployee).subscribe(function(t){e.adjList=t,console.log(e.adjList),e.isSearch=!1},function(e){console.log(e.error)}))}},{key:"deleteAdjustment",value:function(e){this.adjList.splice(e,1)}},{key:"submitAdjustment",value:function(){var e=this,t=!0;""!==this.headerForm.get("timekeepingID").value&&null!==this.headerForm.get("timekeepingID").value||(t=!1,this.errTimekeeping=!0),t&&M.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&M.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){M.a.showLoading();var t=e.adjList.map(function(t){return{payroll_adjustment_id:"0",payroll_header_id:e.id,employee_id:t.employee_id,adjustment_type_id:t.adjustment_type_id,adjustment_name:t.adjustment_name,amount:t.amount,taxable:t.taxable_id,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")}});e.payrollManagementService.adjustmentIU(t).subscribe(function(t){0===t?M.a.fire("Failed!","Transaction failed!","error"):(M.a.fire("Ok!","Transaction successful!","success"),e.loadAdjustment())},function(e){console.log(e.error),M.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"loadAdjustment",value:function(){var e=this;this.payrollManagementService.adjustmentView(this.id).subscribe(function(t){e.adjHList=t},function(e){console.log(e.error)})}},{key:"checkTrans",value:function(e,t){var n=[{payroll_adjustment_id:this.adjHList[e].encrypted_payroll_adjustment_id,payroll_header_id:this.id,employee_id:this.adjHList[e].employee_id,adjustment_type_id:this.adjHList[e].adjustment_type_id,adjustment_name:this.adjHList[e].adjustment_name,amount:this.adjHList[e].amount,taxable:this.adjHList[e].taxable_id,created_by:sessionStorage.getItem("u"),active:t.currentTarget.checked,series_code:sessionStorage.getItem("sc")}];this.payrollManagementService.adjustmentIU(n).subscribe(function(e){},function(e){console.log(e.error)})}},{key:"addAdjustment",value:function(){this.modalService.open(this.adjustmentModal,{size:"xl"})}},{key:"validateGeneration",value:function(){var e=!0;return this.resetError(!1),""!==this.payrollForm.get("category").value&&null!==this.payrollForm.get("category").value||(e=!1,this.errCategory=!0),""!==this.payrollForm.get("branch").value&&null!==this.payrollForm.get("branch").value||(e=!1,this.errBranch=!0),""!==this.payrollForm.get("confidential").value&&null!==this.payrollForm.get("confidential").value||(e=!1,this.errConfidential=!0),e}},{key:"generate",value:function(){var e=this;this.validateGeneration()&&(this.isGenerate=!0,this.payrollManagementService.payrollGeneration(this.id,this.payrollForm.value.category,this.payrollForm.value.branch,this.payrollForm.value.confidential,this.payrollForm.value.includeTax,this.payrollForm.value.includeSSS,this.payrollForm.value.includePagibig,this.payrollForm.value.includePhilhealth).subscribe(function(t){e.isGenerate=!1,e.genList=t,e.modalService.open(e.generatedModal,{size:"xl"}),e.generationModal(t,"Generation")},function(e){console.log(e.error)}))}},{key:"generationModal",value:function(e,t){this.viewType=t,this.dtOptions.modalView={data:e,dom:"Bfrtip",columns:[{data:"pay_date",render:function(e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"payroll_code"},{data:"employee_code"},{data:"last_name"},{data:"first_name"},{data:"file_status"},{data:"tax_status"},{data:"daily_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"basic_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"misc_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"leave_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime_holiday",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_tax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"adjustments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"gross_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"witholding_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary_after_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_ntax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"loan_payments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"deductions",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_ec",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payroll_cost",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_witholding",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_type"},{data:"bank_account"},{data:"bank_name"},{data:"date_employed",render:function(e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"date_terminated",render:function(e){if(""!==e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}return""}},{data:"cost_center"},{data:"currency"},{data:"exchange_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_freq"},{data:"mtd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ec_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_wh_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_allow",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_id",render:function(e,t,n,a){return'<button type="button" id="'+e+'" class="btn btn-sm btn-primary btn-icon viewPayroll"><i class="feather icon-search viewPayroll" id="'+e+'" ></i></button>'}}]}}},{key:"viewTempDetail",value:function(e){var t=this,n=this.genList.filter(function(t){return t.employee_id==e});this.hGross=n[0].gross_income,this.hAddition=n[0].total_addition,this.hDeduction=n[0].total_deduction,this.hNetpay=n[0].net_salary,this.detailForm.setValue({company:n[0].company_name,payPeriod:n[0].pay_period,employee:n[0].display_name,cutoffDate:n[0].cutoff_date,department:n[0].department,paydate:n[0].pay_date,position:n[0].position,bankAccount:n[0].bank_name,payrollType:n[0].payroll_type,salaryRate:n[0].salary_rate}),this.payrollManagementService.tempDetailView(this.id,e).subscribe(function(n){t.summary=n.filter(function(e){return 1===e.detail_group_id}),t.overtime=n.filter(function(e){return 2===e.detail_group_id}),t.addition=n.filter(function(e){return 3===e.detail_group_id}),t.deduction=n.filter(function(e){return 4===e.detail_group_id}),t.payrollManagementService.tempTimekeepingView(t.id,e).subscribe(function(e){t.tkView=e,t.modalService.open(t.viewModal,{size:"xl"})},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"savePayroll",value:function(){var e=this;M.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&M.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){M.a.showLoading();var t={payroll_code:e.payrollForm.value.payrollCode,payroll_header_id:e.id,category_id:e.payrollForm.value.category,branch_id:e.payrollForm.value.branch,confidential_id:e.payrollForm.value.confidential,include_tax:e.payrollForm.value.includeTax,include_sss:e.payrollForm.value.includeSSS,include_pagibig:e.payrollForm.value.includePagibig,include_philhealth:e.payrollForm.value.includePhilhealth,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),approval_level_id:sessionStorage.getItem("apl")};e.payrollManagementService.payrollI(t).subscribe(function(t){0===t?M.a.fire("Failed!","Transaction failed!","error"):(M.a.fire("Ok!","Transaction successful!","success"),e.loadPayroll(0),e.loadPayrollList(0))},function(e){console.log(e.error),M.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"loadPayroll",value:function(e){var t=this;this.payrollManagementService.payrollView(this.id,e).subscribe(function(e){t.payHList=e},function(e){console.log(e.error)})}},{key:"loadPayrollList",value:function(e){var t=this;this.payrollManagementService.payrollList(this.id,e).subscribe(function(e){t.payList=e},function(e){console.log(e.error)})}},{key:"loadList",value:function(){var e=this;this.isPost=!0,this.payrollManagementService.payrollDetailView(this.id,this.selectedCode,"0").subscribe(function(t){e.viewType="Generated",e.genList=t,console.log(e.genList),console.log(t),e.loadPostPayroll(e.genList)},function(e){console.log(e.error)})}},{key:"checkAll",value:function(e){this.genList.map(function(t){return t.is_checked=e.target.checked}),this.loadPostPayroll(this.genList)}},{key:"loadPostPayroll",value:function(e){var t=this;$("#postingTable").DataTable().clear(),$("#postingTable").DataTable().destroy(),this.dtOptions.postingView={data:e,dom:"Bfrtip",destroy:!0,columns:[{data:"is_posted",className:"text-center",render:function(e,t,n,a){return!1===e?'<div class="custom-control custom-switch"><input type="checkbox" '+(!0===n.is_checked?"checked":"")+' value="'+a.row+'" class="custom-control-input selectPayroll"id="'+n.payslip_id+'"><label class="custom-control-label" for="'+n.payslip_id+'"></label></div>':'<span class="badge badge-success">Posted</span>'}},{data:"pay_date",render:function(e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"payroll_code"},{data:"employee_code"},{data:"last_name"},{data:"first_name"},{data:"file_status"},{data:"tax_status"},{data:"daily_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"basic_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"misc_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"leave_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime_holiday",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_tax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"adjustments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"gross_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"witholding_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary_after_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_ec",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_ntax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"loan_payments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"deductions",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payroll_cost",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_witholding",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_type"},{data:"bank_account"},{data:"bank_name"},{data:"date_employed",render:function(e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"date_terminated",render:function(e){if(""!==e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}return""}},{data:"cost_center"},{data:"currency"},{data:"exchange_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_freq"},{data:"mtd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ec_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_wh_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_allow",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_id",render:function(e,t,n,a){return'<button type="button" id="'+e+'" class="btn btn-sm btn-primary btn-icon viewPayroll"><i class="feather icon-search viewPayroll" id="'+e+'" ></i></button>'}}]},this.isPost=!1,setTimeout(function(){t.dtTriggerPosting.next(),t.dtTriggerPosted.next()},100)}},{key:"rerender",value:function(){this.dtElements.forEach(function(e){e.dtInstance&&e.dtInstance.then(function(e){e.destroy()})})}},{key:"view",value:function(e){var t=this;this.payrollManagementService.payrollDetailView(this.id,e,"0").subscribe(function(e){t.genList=e,t.generationModal(e,"Generated"),t.modalService.open(t.generatedModal,{size:"xl"})},function(e){console.log(e.error)})}},{key:"viewDetail",value:function(e){var t=this,n=this.genList.filter(function(t){return t.employee_id==e});this.hGross=n[0].gross_income,this.hAddition=n[0].total_addition,this.hDeduction=n[0].total_deduction,this.hNetpay=n[0].net_salary,this.detailForm.setValue({company:n[0].company_name,payPeriod:n[0].pay_period,employee:n[0].display_name,cutoffDate:n[0].cutoff_date,department:n[0].department,paydate:n[0].pay_date,position:n[0].position,bankAccount:n[0].bank_name,payrollType:n[0].payroll_type,salaryRate:n[0].salary_rate}),this.payrollManagementService.detailView(this.id,e,n[0].payroll_id,n[0].payslip_id).subscribe(function(a){t.summary=a.filter(function(e){return 1===e.detail_group_id}),t.overtime=a.filter(function(e){return 2===e.detail_group_id}),t.addition=a.filter(function(e){return 3===e.detail_group_id}),t.deduction=a.filter(function(e){return 4===e.detail_group_id}),t.payrollManagementService.timekeepingView(t.id,e,n[0].payroll_id,n[0].payslip_id,n[0].timekeeping_header_id).subscribe(function(e){t.tkView=e,t.modalService.open(t.viewModal,{size:"xl"})},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"postPayroll",value:function(){var e=this,t=!0;this.errPosting=!1,this.genList.filter(function(e){return!0===e.is_checked&&!1===e.is_posted}).length<=0&&(t=!1,this.errPosting=!0),t&&M.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&M.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){M.a.showLoading();var t=e.genList.filter(function(e){return!0===e.is_checked&&!1===e.is_posted}).map(function(t){return{payroll_header_id:e.id,payroll_id:t.payroll_id,payslip_id:t.payslip_id,employee_id:t.employee_id,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}});e.payrollManagementService.postPayroll(t).subscribe(function(t){0===t?M.a.fire("Failed!","Transaction failed!","error"):(e.loadList(),e.loadPostedPayroll(),M.a.fire("Ok!","Transaction successful!","success"))},function(e){console.log(e.error),M.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"loadPostedPayroll",value:function(){var e=this;this.payrollManagementService.postedView(this.id,"0").subscribe(function(t){e.postedList=t,$("#postedTable").DataTable().clear(),$("#postedTable").DataTable().destroy(),e.dtOptions.postedView={data:e.postedList,dom:"Bfrtip",destroy:!0,columns:[{data:"pay_date",render:function(e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"payroll_code"},{data:"employee_code"},{data:"last_name"},{data:"first_name"},{data:"file_status"},{data:"tax_status"},{data:"daily_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"basic_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"misc_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"leave_amount",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"overtime_holiday",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_tax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"adjustments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"gross_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"witholding_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary_after_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"other_ntax_income",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"loan_payments",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"deductions",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"net_salary",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_ec",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employer_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payroll_cost",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_witholding",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_sss",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_mcr",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_pagibig",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"ytd_13tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_type"},{data:"bank_account"},{data:"bank_name"},{data:"date_employed",render:function(e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}},{data:"date_terminated",render:function(e){if(""!==e){var t=new Date(e),n=t.getMonth()+1;return(n.toString().length>1?n:"0"+n)+"/"+("0"+t.getDate()).slice(-2)+"/"+t.getFullYear()}return""}},{data:"cost_center"},{data:"currency"},{data:"exchange_rate",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"payment_freq"},{data:"mtd_gross",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employee",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_sss_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_mcr_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ec_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_pagibig_employer",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_wh_tax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_basic",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"monthly_allow",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"mtd_ntax",render:$.fn.dataTable.render.number(",",".",2,"")},{data:"employee_id",render:function(e,t,n,a){return'<button type="button" id="'+e+'" class="btn btn-sm btn-primary btn-icon viewPostedPayroll"><i class="feather icon-search viewPostedPayroll" id="'+e+'" ></i></button>'}}]},setTimeout(function(){e.dtTriggerPosted.next()},100)},function(e){console.log(e.error)})}},{key:"viewPostedDetail",value:function(e){var t=this,n=this.postedList.filter(function(t){return t.employee_id==e});this.hGross=n[0].gross_income,this.hAddition=n[0].total_addition,this.hDeduction=n[0].total_deduction,this.hNetpay=n[0].net_salary,this.detailForm.setValue({company:n[0].company_name,payPeriod:n[0].pay_period,employee:n[0].display_name,cutoffDate:n[0].cutoff_date,department:n[0].department,paydate:n[0].pay_date,position:n[0].position,bankAccount:n[0].bank_name,payrollType:n[0].payroll_type,salaryRate:n[0].salary_rate}),this.payrollManagementService.postedDetailView(this.id,n[0].posted_payslip_id).subscribe(function(e){t.summary=e.filter(function(e){return 1===e.detail_group_id}),t.overtime=e.filter(function(e){return 2===e.detail_group_id}),t.addition=e.filter(function(e){return 3===e.detail_group_id}),t.deduction=e.filter(function(e){return 4===e.detail_group_id}),t.payrollManagementService.postedTimekeepingView(t.id,n[0].payroll_id,n[0].employee_id,n[0].timekeeping_header_id).subscribe(function(e){t.tkView=e,t.modalService.open(t.viewModal,{size:"xl"})},function(e){console.log(e.error)})},function(e){console.log(e.error)})}}]),t}(),et.\u0275fac=function(e){return new(e||et)(y.Lb(o.c),y.Lb(m.j),y.Lb(ye.a),y.Lb(S.a),y.Lb(Re.a),y.Lb(U.a),y.Lb(ce.a),y.Lb(c.a),y.Lb(X.a),y.Lb(W.a),y.Lb(E.a),y.Lb(y.E))},et.\u0275cmp=y.Fb({type:et,selectors:[["app-payroll-generation-detail"]],viewQuery:function(e,t){var n;1&e&&(y.Nc(fe,!0),y.Nc(Qe,!0),y.Nc(ve,!0),y.Nc(u.a,!0)),2&e&&(y.uc(n=y.cc())&&(t.generatedModal=n.first),y.uc(n=y.cc())&&(t.adjustmentModal=n.first),y.uc(n=y.cc())&&(t.viewModal=n.first),y.uc(n=y.cc())&&(t.dtElements=n))},decls:8,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["generatedModal",""],["adjustmentModal",""],["viewModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/payroll/payroll-generation-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["stepTitle","Details",3,"awCompletedStep"],[3,"formGroup"],[1,"col-md-4"],[1,"form-group"],[1,"control-label"],["formControlName","timekeepingID","name","Payroll Type","bindLabel","timekeeping_header_code","bindValue","timekeeping_header_id","placeholder","Select Timekeeping",3,"items","change"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","payrollType","readonly","","placeholder","Payroll Type",1,"form-control",2,"background-color","white"],["type","text","formControlName","dateFrom","readonly","","placeholder","Date From",1,"form-control",2,"background-color","white"],["type","text","formControlName","dateTo","readonly","","placeholder","Date To",1,"form-control",2,"background-color","white"],["type","text","formControlName","category","readonly","","placeholder","Category",1,"form-control",2,"background-color","white"],["type","text","formControlName","branch","readonly","","placeholder","Branch",1,"form-control",2,"background-color","white"],["type","text","formControlName","confidential","readonly","","placeholder","Confidential",1,"form-control",2,"background-color","white"],[1,"d-flex","justify-content-center","mt-2"],["class","btn btn-primary btn-icon-text",3,"click",4,"ngIf"],["class","btn btn-primary","type","button","awNextStep","",4,"ngIf"],["stepTitle","One Time Adjustment",3,"awCompletedStep"],[1,"col-md-12"],[1,"text-right"],["type","button","class","btn btn-primary btn-icon-text",3,"click",4,"ngIf"],[1,"table-responsive"],["id","tkList",1,"table","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","button","awPreviousStep","",1,"btn","btn-light","mr-2"],["type","button","awNextStep","",1,"btn","btn-primary"],["stepTitle","Payroll Generation",3,"awCompletedStep"],[1,"col-md-2"],[1,"custom-control","custom-switch"],["formControlName","includeTax","type","checkbox","id","cktax",1,"custom-control-input"],["for","cktax",1,"custom-control-label"],["formControlName","includeSSS","type","checkbox","id","cksss",1,"custom-control-input"],["for","cksss",1,"custom-control-label"],["formControlName","includePagibig","type","checkbox","id","ckpagibig",1,"custom-control-input"],["for","ckpagibig",1,"custom-control-label"],["formControlName","includePhilhealth","type","checkbox","id","ckphilhealth",1,"custom-control-input"],["for","ckphilhealth",1,"custom-control-label"],["class","btn btn-primary","type","button","disabled","",4,"ngIf"],["formControlName","category","name","Category","bindLabel","category_name","bindValue","category_id","placeholder","Select Category",3,"items"],["formControlName","branch","name","Branch","bindLabel","branch_name","bindValue","branch_id","placeholder","Select Department",3,"items"],["formControlName","confidential","name","Confidential","bindLabel","description","bindValue","id","placeholder","Select Confidential",3,"items"],[1,"table","table-bordered",2,"width","100%"],["stepTitle","Post Payroll",3,"awCompletedStep"],["name","Payroll Type","bindLabel","payroll_code","bindValue","payroll_id","placeholder","Select Payroll Code",3,"items","ngModel","ngModelChange"],["id","postingTable","datatable","",1,"table","table-bordered",3,"dtTrigger","dtOptions"],["type","checkbox","checked","","id","check-all",1,"custom-control-input",3,"change"],["for","check-all",1,"custom-control-label"],["stepTitle","Posted Payroll",3,"awCompletedStep"],["id","postedTable","datatable","",1,"table","table-bordered",3,"dtTrigger","dtOptions"],[1,"text-danger","mt-1"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["type","button",1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","clock","appFeatherIcon","",1,"btn-icon-prepend"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange","change"],[1,"custom-control-label",3,"for"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","button",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-search"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","modalTable","datatable","",1,"table","table-bordered",3,"dtOptions"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-3"],["formControlName","adjustmentType","name","Adustment Type","bindLabel","description","bindValue","id","placeholder","Select Adjustment Type",3,"items"],[1,"col-md-5"],["formControlName","adjustment","type","text","placeholder","Adjustment",1,"form-control"],["formControlName","amount","type","number","placeholder","0",1,"form-control"],[1,"col-sm-1"],[1,"form-check"],[1,"form-check-label"],["formControlName","taxable","type","checkbox",1,"form-check-input"],[1,"input-frame"],["formControlName","selectedTagType","name","Tag Type","bindLabel","description","bindValue","id","placeholder","Select Tag Type",3,"items","change"],["formControlName","selectedEmployee","name","Name","bindLabel","description","bindValue","id","placeholder","Select Name",3,"items"],["type","button","class","btn btn-primary btn-icon-text ",3,"click",4,"ngIf"],["id","modalTable",1,"table","table-bordered"],["data-feather","corner-right-down","appFeatherIcon","",1,"btn-icon-prepend"],["type","button","title","Edit",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"],[1,"col-md-3","col-sm-6","col-xs-12"],[1,"mini-stat","clearfix","bg-gross","rounded"],[1,"mini-stat-icon"],[1,"mdi","mdi-cards"],[1,"mini-stat-info"],[1,"mini-stat","clearfix","bg-addition","rounded"],[1,"mdi","mdi-trending-up"],[1,"mini-stat","clearfix","bg-deduction","rounded"],[1,"mdi","mdi-trending-down"],[1,"mini-stat","clearfix","bg-net","rounded"],[1,"mdi","mdi-cash-multiple"],[1,"card-header"],[1,"col-md-6"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","readonly","","formControlName","company","placeholder","Company",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","payPeriod","placeholder","Pay Period",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","employee","placeholder","Employee",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","cutoffDate","placeholder","Cutoff Date",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","department","placeholder","Department",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","paydate","placeholder","Paydate",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","position","placeholder","Position",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","bankAccount","placeholder","Bank Account",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","payrollType","placeholder","Payroll Type",1,"form-control",2,"background-color","white"],["type","text","readonly","","formControlName","salaryRate","placeholder","Salary Rate",1,"form-control",2,"background-color","white"],[1,"table","table-bordered"],["colspan","2",1,"text-center"],["colspan","3",1,"text-center"],["colspan","4",1,"text-center"],["id","tkFinal",1,"table"]],template:function(e,t){1&e&&(y.Gc(0,Ie,3,0,"div",0),y.Gc(1,Ne,468,31,"div",1),y.Gc(2,je,140,1,"ng-template",null,2,y.Hc),y.Gc(4,Ue,81,12,"ng-template",null,3,y.Hc),y.Gc(6,Ze,295,22,"ng-template",null,4,y.Hc)),2&e&&(y.jc("ngIf",t.isLoading),y.yb(1),y.jc("ngIf",!t.isLoading))},directives:[b.n,c.f,ge.f,ge.g,ge.b,o.s,o.j,o.e,l.a,o.i,o.d,o.b,b.m,ge.e,ge.d,o.a,o.l,u.a,g.a,o.n],pipes:[b.e,b.f],styles:["body[_ngcontent-%COMP%]{background:#eee;margin-top:20px}.rounded[_ngcontent-%COMP%]{border-radius:3px!important}.mini-stat[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px}.mini-stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;display:inline-block;line-height:60px;text-align:center;font-size:30px;background:none repeat scroll 0 0 #eee;border-radius:100%;float:left;margin-right:10px;background-color:transparent}.mini-stat-info[_ngcontent-%COMP%]{font-size:12px;padding-top:2px}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#fff}.mini-stat-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:25px;font-weight:600;margin-bottom:5px;margin-top:7px}.bg-gross[_ngcontent-%COMP%]{width:100%;background-color:#1ab394!important;border:1px solid #1ab394;color:#fff}.fg-gross[_ngcontent-%COMP%]{color:#1ab394!important}.bg-addition[_ngcontent-%COMP%]{width:100%;background-color:#23c6c8!important;border:1px solid #23c6c8;color:#fff}.fg-addition[_ngcontent-%COMP%]{color:#23c6c8!important}.bg-deduction[_ngcontent-%COMP%]{width:100%;background-color:#ed5565!important;border:1px solid #ed5565;color:#fff}.fg-deduction[_ngcontent-%COMP%]{color:#ed5565!important}.bg-net[_ngcontent-%COMP%]{width:100%;background-color:#f8ac59!important;border:1px solid #f8ac59;color:#fff}.fg-net[_ngcontent-%COMP%]{color:#f8ac59!important}"]}),et)}]}],at=((tt=function t(){e(this,t)}).\u0275mod=y.Jb({type:tt}),tt.\u0275inj=y.Ib({factory:function(e){return new(e||tt)},providers:[b.f,{provide:m.b,useClass:p.a}],imports:[[b.c,o.f,o.p,c.g.forChild(nt),d.a,l.b,s.b.forRoot(),m.k,u.b,ge.a]]}),tt)}}])}();