!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"8USl":function(t,a,r){"use strict";r.r(a),r.d(a,"AdministrationModule",function(){return Dr});var n=r("PSD3"),o=r.n(n),c=r("fXoL"),s=r("Txdn"),b=r("/oZC"),l=r("CTYy"),d=r("ofXK"),u=r("tyNb"),h=r("ZOsW"),f=r("3Pt+"),p=r("IYwT"),m=r("QJFE");function v(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function g(e,t){1&e&&(c.Rb(0,"p",32),c.Ic(1,"Please select group!"),c.Qb())}function y(e,t){1&e&&(c.Rb(0,"p",32),c.Ic(1,"Please select type!"),c.Qb())}function R(e,t){1&e&&(c.Rb(0,"p",32),c.Ic(1,"Please select payroll type!"),c.Qb())}function Q(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",17),c.Rb(1,"div",18),c.Rb(2,"label",19),c.Ic(3,"Payroll Type"),c.Qb(),c.Rb(4,"ng-select",33),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).selectedPayrollType=e})("change",function(){return c.xc(i),c.dc(2).selectedTable()}),c.Qb(),c.Gc(5,R,2,0,"p",21),c.Qb(),c.Qb()}if(2&e){var a=c.dc(2);c.yb(4),c.jc("items",a.payrollType)("ngModel",a.selectedPayrollType),c.yb(1),c.jc("ngIf",a.errPayroll)}}function _(e,t){if(1&e){var i=c.Sb();c.Rb(0,"thead"),c.Rb(1,"tr"),c.Rb(2,"th"),c.Ic(3,"Range From"),c.Qb(),c.Rb(4,"th"),c.Ic(5,"Range To"),c.Qb(),c.Rb(6,"th"),c.Ic(7,"Salary Base"),c.Qb(),c.Rb(8,"th"),c.Ic(9,"Employee Share"),c.Qb(),c.Rb(10,"th"),c.Ic(11,"Employer Share"),c.Qb(),c.Rb(12,"th"),c.Ic(13,"EC"),c.Qb(),c.Rb(14,"th"),c.Ic(15,"MPF Employee Share"),c.Qb(),c.Rb(16,"th"),c.Ic(17,"MPF Employer Share"),c.Qb(),c.Rb(18,"th"),c.Rb(19,"button",34),c.bc("click",function(){return c.xc(i),c.dc(2).add()}),c.Mb(20,"i",35),c.Qb(),c.Qb(),c.Qb(),c.Qb()}}function I(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Mb(2,"input",37),c.ec(3,"number"),c.Qb(),c.Rb(4,"td"),c.Mb(5,"input",37),c.ec(6,"number"),c.Qb(),c.Rb(7,"td"),c.Mb(8,"input",37),c.ec(9,"number"),c.Qb(),c.Rb(10,"td"),c.Mb(11,"input",37),c.ec(12,"number"),c.Qb(),c.Rb(13,"td"),c.Mb(14,"input",37),c.ec(15,"number"),c.Qb(),c.Rb(16,"td"),c.Mb(17,"input",37),c.ec(18,"number"),c.Qb(),c.Rb(19,"td"),c.Mb(20,"input",37),c.ec(21,"number"),c.Qb(),c.Rb(22,"td"),c.Mb(23,"input",37),c.ec(24,"number"),c.Qb(),c.Rb(25,"td"),c.Rb(26,"button",38),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(3).remove(e)}),c.Mb(27,"i",39),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.kc("value",c.gc(3,8,a.range_from,"1.4-4")),c.yb(3),c.kc("value",c.gc(6,11,a.range_to,"1.4-4")),c.yb(3),c.kc("value",c.gc(9,14,a.salary_base,"1.4-4")),c.yb(3),c.kc("value",c.gc(12,17,a.employee_share,"1.4-4")),c.yb(3),c.kc("value",c.gc(15,20,a.employer_share,"1.4-4")),c.yb(3),c.kc("value",c.gc(18,23,a.employee_compensation,"1.4-4")),c.yb(3),c.kc("value",c.gc(21,26,a.employee_mpf,"1.4-4")),c.yb(3),c.kc("value",c.gc(24,29,a.employer_mpf,"1.4-4"))}}function k(e,t){if(1&e&&(c.Rb(0,"tbody"),c.Gc(1,I,28,32,"tr",36),c.Qb()),2&e){var i=c.dc(2);c.yb(1),c.jc("ngForOf",i.table)}}function D(e,t){if(1&e){var i=c.Sb();c.Rb(0,"thead"),c.Rb(1,"tr"),c.Rb(2,"th"),c.Ic(3,"Minimum"),c.Qb(),c.Rb(4,"th"),c.Ic(5,"Maximum"),c.Qb(),c.Rb(6,"th"),c.Ic(7,"Premium Rate"),c.Qb(),c.Rb(8,"th"),c.Rb(9,"button",34),c.bc("click",function(){return c.xc(i),c.dc(2).add()}),c.Mb(10,"i",35),c.Qb(),c.Qb(),c.Qb(),c.Qb()}}function C(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Rb(2,"input",40),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"minimum",e)}),c.ec(3,"number"),c.Qb(),c.Qb(),c.Rb(4,"td"),c.Rb(5,"input",40),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"maximum",e)}),c.ec(6,"number"),c.Qb(),c.Qb(),c.Rb(7,"td"),c.Rb(8,"input",40),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"premium_rate",e)}),c.ec(9,"number"),c.Qb(),c.Qb(),c.Mb(10,"td"),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.kc("value",c.gc(3,3,a.minimum,"1.4-4")),c.yb(3),c.kc("value",c.gc(6,6,a.maximum,"1.4-4")),c.yb(3),c.kc("value",c.gc(9,9,a.premium_rate,"1.4-4"))}}function F(e,t){if(1&e&&(c.Rb(0,"tbody"),c.Gc(1,C,11,12,"tr",36),c.Qb()),2&e){var i=c.dc(2);c.yb(1),c.jc("ngForOf",i.table)}}function M(e,t){if(1&e){var i=c.Sb();c.Rb(0,"thead"),c.Rb(1,"tr"),c.Rb(2,"th"),c.Ic(3,"Range From"),c.Qb(),c.Rb(4,"th"),c.Ic(5,"Range To"),c.Qb(),c.Rb(6,"th"),c.Ic(7,"Share Type"),c.Qb(),c.Rb(8,"th"),c.Ic(9,"Employee Share"),c.Qb(),c.Rb(10,"th"),c.Ic(11,"Employer Share"),c.Qb(),c.Rb(12,"th"),c.Rb(13,"button",34),c.bc("click",function(){return c.xc(i),c.dc(2).add()}),c.Mb(14,"i",35),c.Qb(),c.Qb(),c.Qb(),c.Qb()}}function w(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Rb(2,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"range_from",e)}),c.ec(3,"number"),c.Qb(),c.Qb(),c.Rb(4,"td"),c.Rb(5,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"range_to",e)}),c.ec(6,"number"),c.Qb(),c.Qb(),c.Rb(7,"td"),c.Rb(8,"ng-select",42),c.bc("ngModelChange",function(e){return t.$implicit.share_type_id=e})("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChangeSelect(a,e)}),c.Qb(),c.Qb(),c.Rb(9,"td"),c.Rb(10,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"employee_share",e)}),c.ec(11,"number"),c.Qb(),c.Qb(),c.Rb(12,"td"),c.Rb(13,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"employer_share",e)}),c.ec(14,"number"),c.Qb(),c.Qb(),c.Rb(15,"td"),c.Rb(16,"button",38),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(3).remove(e)}),c.Mb(17,"i",39),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit,r=c.dc(3);c.yb(2),c.kc("value",c.gc(3,6,a.range_from,"1.4-4")),c.yb(3),c.kc("value",c.gc(6,9,a.range_to,"1.4-4")),c.yb(3),c.jc("items",r.pagibigType)("ngModel",a.share_type_id),c.yb(2),c.kc("value",c.gc(11,12,a.employee_share,"1.4-4")),c.yb(3),c.kc("value",c.gc(14,15,a.employer_share,"1.4-4"))}}function B(e,t){if(1&e&&(c.Rb(0,"tbody"),c.Gc(1,w,18,18,"tr",36),c.Qb()),2&e){var i=c.dc(2);c.yb(1),c.jc("ngForOf",i.table)}}function T(e,t){if(1&e){var i=c.Sb();c.Rb(0,"thead"),c.Rb(1,"tr"),c.Rb(2,"th"),c.Ic(3,"Range From"),c.Qb(),c.Rb(4,"th"),c.Ic(5,"Range To"),c.Qb(),c.Rb(6,"th"),c.Ic(7,"Salary Base"),c.Qb(),c.Rb(8,"th"),c.Ic(9,"Base Amount"),c.Qb(),c.Rb(10,"th"),c.Ic(11,"Tax Percent"),c.Qb(),c.Rb(12,"th"),c.Rb(13,"button",34),c.bc("click",function(){return c.xc(i),c.dc(2).add()}),c.Mb(14,"i",35),c.Qb(),c.Qb(),c.Qb(),c.Qb()}}function O(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Rb(2,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"range_from",e)}),c.ec(3,"number"),c.Qb(),c.Qb(),c.Rb(4,"td"),c.Rb(5,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"range_to",e)}),c.ec(6,"number"),c.Qb(),c.Qb(),c.Rb(7,"td"),c.Rb(8,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"salary_base",e)}),c.ec(9,"number"),c.Qb(),c.Qb(),c.Rb(10,"td"),c.Rb(11,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"base_amount",e)}),c.ec(12,"number"),c.Qb(),c.Qb(),c.Rb(13,"td"),c.Rb(14,"input",41),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(3).onChange(a,"tax_percentage",e)}),c.ec(15,"number"),c.Qb(),c.Qb(),c.Rb(16,"td"),c.Rb(17,"button",38),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(3).remove(e)}),c.Mb(18,"i",39),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.kc("value",c.gc(3,5,a.range_from,"1.4-4")),c.yb(3),c.kc("value",c.gc(6,8,a.range_to,"1.4-4")),c.yb(3),c.kc("value",c.gc(9,11,a.salary_base,"1.4-4")),c.yb(3),c.kc("value",c.gc(12,14,a.base_amount,"1.4-4")),c.yb(3),c.kc("value",c.gc(15,17,a.tax_percentage,"1.4-4"))}}function L(e,t){if(1&e&&(c.Rb(0,"tbody"),c.Gc(1,O,19,20,"tr",36),c.Qb()),2&e){var i=c.dc(2);c.yb(1),c.jc("ngForOf",i.table)}}var S=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function x(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Contribution Table"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Contribution Table"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(17,"hr"),c.Rb(18,"div",10),c.Rb(19,"div",16),c.Rb(20,"div",17),c.Rb(21,"div",18),c.Rb(22,"label",19),c.Ic(23,"Contribution Group"),c.Qb(),c.Rb(24,"ng-select",20),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().selectedGroup=e})("change",function(){return c.xc(i),c.dc().selectedTable()}),c.Qb(),c.Gc(25,g,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(26,"div",17),c.Rb(27,"div",18),c.Rb(28,"label",19),c.Ic(29,"Contribution Type"),c.Qb(),c.Rb(30,"ng-select",22),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().selectedContribution=e})("change",function(){return c.xc(i),c.dc().selectedTable()}),c.Qb(),c.Gc(31,y,2,0,"p",21),c.Qb(),c.Qb(),c.Gc(32,Q,6,3,"div",23),c.Rb(33,"ul",24),c.Rb(34,"button",25),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(35,"i",26),c.Ic(36," Save Changes "),c.Qb(),c.Mb(37,"button",27),c.Qb(),c.Qb(),c.Rb(38,"div",28),c.Rb(39,"div",29),c.Rb(40,"table",30),c.Gc(41,_,21,0,"thead",31),c.Gc(42,k,2,1,"tbody",31),c.Gc(43,D,11,0,"thead",31),c.Gc(44,F,2,1,"tbody",31),c.Gc(45,M,15,0,"thead",31),c.Gc(46,B,2,1,"tbody",31),c.Gc(47,T,15,0,"thead",31),c.Gc(48,L,2,1,"tbody",31),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(24),c.jc("items",a.groupList)("ngModel",a.selectedGroup),c.yb(1),c.jc("ngIf",a.errGroup),c.yb(5),c.jc("items",a.contributionType)("ngModel",a.selectedContribution),c.yb(1),c.jc("ngIf",a.errType),c.yb(1),c.jc("ngIf",a.isTax),c.yb(5),c.jc("swal",c.mc(16,S)),c.yb(4),c.jc("ngIf",a.tblSSS),c.yb(1),c.jc("ngIf",a.tblSSS),c.yb(1),c.jc("ngIf",a.tblPhilhealth),c.yb(1),c.jc("ngIf",a.tblPhilhealth),c.yb(1),c.jc("ngIf",a.tblPagibig),c.yb(1),c.jc("ngIf",a.tblPagibig),c.yb(1),c.jc("ngIf",a.tblTax),c.yb(1),c.jc("ngIf",a.tblTax)}}var j,N=((j=function(){function t(i,a,r){e(this,t),this.tenantDefaultService=i,this.tenantMasterService=a,this.payrollRatesService=r,this.isLoading=!1,this.contributionType=[],this.groupList=[],this.pagibigType=[],this.payrollType=[],this.table=[],this.tblSSS=!1,this.tblPagibig=!1,this.tblPhilhealth=!1,this.tblTax=!1,this.errGroup=!1,this.errType=!1,this.errPayroll=!1,this.isTax=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.tenantDefaultService.dropdownTList("22").subscribe(function(t){e.groupList=t,e.tenantMasterService.dropdownList("23").subscribe(function(t){e.contributionType=t,e.tenantMasterService.dropdownList("48").subscribe(function(t){e.pagibigType=t,e.tenantMasterService.dropdownList("49").subscribe(function(t){e.payrollType=t,e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)})},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"onChange",value:function(e,t,i){this.table[e][t]=i.target.value}},{key:"onChangeSelect",value:function(e,t){this.table[e].share_type_id=t.id}},{key:"add",value:function(){switch(this.selectedContribution){case 48:this.table.push({range_from:0,range_to:0,salary_base:0,employee_share:0,employer_share:0,employee_compensation:0,employee_mpf:0,employer_mpf:0});break;case 49:this.table.push({range_from:0,range_to:0,share_type_id:null,employee_share:0,employer_share:0});break;case 50:this.table.push({maximum:0,minimum:0,premium_rate:0});break;default:this.table.push({range_from:0,range_to:0,salary_base:null,base_amount:0,tax_percentage:0})}}},{key:"remove",value:function(e){this.table.splice(e,1)}},{key:"selectedTable",value:function(){var e=this;if(this.table=[],this.tblSSS=!1,this.tblPagibig=!1,this.tblPhilhealth=!1,this.tblTax=!1,this.isTax=!1,null!=this.selectedContribution&&null!=this.selectedGroup)switch(this.selectedContribution){case 48:this.tblSSS=!0,this.payrollRatesService.sssView(this.selectedGroup).subscribe(function(t){t.length>0?e.table=t:e.tenantMasterService.sssView().subscribe(function(t){e.table=t},function(e){console.log(e.error)})},function(e){console.log(e.error)});break;case 49:this.tblPagibig=!0,this.payrollRatesService.pagibigView(this.selectedGroup).subscribe(function(t){t.length>0?e.table=t:e.tenantMasterService.pagibigView().subscribe(function(t){e.table=t},function(e){console.log(e.error)})},function(e){console.log(e.error)});break;case 50:this.tblPhilhealth=!0,this.payrollRatesService.philhealthView(this.selectedGroup).subscribe(function(t){t.length>0?e.table=t:e.tenantMasterService.philhealthView().subscribe(function(t){e.table=t},function(e){console.log(e.error)})},function(e){console.log(e.error)});break;default:this.tblTax=!0,this.isTax=!0,null!=this.selectedPayrollType&&this.payrollRatesService.taxView(this.selectedGroup,this.selectedPayrollType).subscribe(function(t){t.length>0?e.table=t:e.tenantMasterService.taxView(e.selectedPayrollType).subscribe(function(t){e.table=t},function(e){console.log(e.error)})},function(e){console.log(e.error)})}}},{key:"validation",value:function(){this.errType=!1,this.errGroup=!1,this.errPayroll=!1;var e=!0;return null==this.selectedContribution&&(this.errType=!0,e=!1),null==this.selectedGroup&&(this.errGroup=!0,e=!1),this.isTax&&null==this.selectedPayrollType&&(this.errPayroll=!0,e=!1),e}},{key:"submit",value:function(){var e=this;this.validation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){switch(o.a.showLoading(),e.selectedContribution){case 48:e.payrollRatesService.sssIU(e.table.map(function(t){return{base_amount:t.base_amount,contribution_group_id:e.selectedGroup,employee_compensation:t.employee_compensation,employee_mpf:t.employee_mpf,employee_share:t.employee_share,employer_mpf:t.employer_mpf,employer_share:t.employer_share,range_from:t.range_from,range_to:t.range_to,salary_base:t.salary_base,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}})).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")});break;case 49:e.payrollRatesService.pagibigIU(e.table.map(function(t){return{contribution_group_id:e.selectedGroup,employee_share:t.employee_share,employer_share:t.employer_share,range_from:t.range_from,range_to:t.range_to,share_type_id:t.share_type_id,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}})).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")});break;case 50:e.payrollRatesService.philhealthIU(e.table.map(function(t){return{contribution_group_id:e.selectedGroup,maximum:t.maximum,minimum:t.minimum,premium_rate:t.premium_rate,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}})).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")});break;default:e.payrollRatesService.taxIU(e.table.map(function(t){return{contribution_group_id:e.selectedGroup,base_amount:t.base_amount,payroll_type_id:e.selectedPayrollType,range_from:t.range_from,range_to:t.range_to,salary_base:t.salary_base,tax_percentage:t.tax_percentage,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")}})).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}}})})}}]),t}()).\u0275fac=function(e){return new(e||j)(c.Lb(s.a),c.Lb(b.a),c.Lb(l.a))},j.\u0275cmp=c.Fb({type:j,selectors:[["app-contributions"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"col-lg-3","email-aside","border-lg-right"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","Contribution Group","bindLabel","description","bindValue","id","placeholder","Select Contribution Group",3,"items","ngModel","ngModelChange","change"],["class","text-danger mt-1",4,"ngIf"],["name","Contribution Type","bindLabel","description","bindValue","id","placeholder","Select Contribution",3,"items","ngModel","ngModelChange","change"],["class","aside-content",4,"ngIf"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],[4,"ngIf"],[1,"text-danger","mt-1"],["name","Payroll Type","bindLabel","description","bindValue","id","placeholder","Select PayrollType",3,"items","ngModel","ngModelChange","change"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[4,"ngFor","ngForOf"],["type","text","placeholder","0",1,"form-control",2,"width","110px",3,"value"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"],["type","text","placeholder","0",1,"form-control",3,"value","change"],["type","text","placeholder","0",1,"form-control",2,"width","110px",3,"value","change"],["name","Share Type","bindLabel","description","bindValue","id","placeholder","Select Share Type",2,"width","150px",3,"items","ngModel","ngModelChange","change"]],template:function(e,t){1&e&&(c.Gc(0,v,3,0,"div",0),c.Gc(1,x,49,17,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,h.a,f.i,f.l,p.a,m.a,d.m],pipes:[d.f],styles:[""]}),j);function G(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function P(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Rb(4,"input",30),c.bc("change",function(e){c.xc(i);var a=t.index;return c.dc(2).changeRate(a,e)}),c.ec(5,"number"),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.description),c.yb(2),c.kc("value",c.gc(5,2,a.rates,"1.4-4"))}}var H=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function A(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Payroll Rates"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Payroll Rates"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(17,"hr"),c.Rb(18,"form",16),c.Rb(19,"div",10),c.Rb(20,"div",17),c.Rb(21,"div",18),c.Rb(22,"div",19),c.Rb(23,"label",20),c.Ic(24,"Rate Group"),c.Qb(),c.Rb(25,"ng-select",21),c.bc("change",function(){return c.xc(i),c.dc().selectGroup()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(26,"ul",22),c.Rb(27,"button",23),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(28,"i",24),c.Ic(29," Save Changes "),c.Qb(),c.Mb(30,"button",25),c.Qb(),c.Qb(),c.Rb(31,"div",26),c.Rb(32,"div",27),c.Rb(33,"table",28),c.Rb(34,"thead"),c.Rb(35,"tr"),c.Rb(36,"th"),c.Ic(37,"Description"),c.Qb(),c.Rb(38,"th"),c.Ic(39,"Rates %"),c.Qb(),c.Qb(),c.Qb(),c.Rb(40,"tbody"),c.Gc(41,P,6,5,"tr",29),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(18),c.jc("formGroup",a.rateForm),c.yb(7),c.jc("items",a.groupList),c.yb(5),c.jc("swal",c.mc(4,H)),c.yb(11),c.jc("ngForOf",a.rateList)}}var V,E=((V=function(){function t(i,a,r,n){e(this,t),this.tenantDefaultService=i,this.tenantMasterService=a,this.fb=r,this.rateManagementService=n,this.isLoading=!0,this.groupList=[],this.defaultList=[],this.rateList=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.rateForm=this.fb.group({selectedRateGroup:null}),this.tenantDefaultService.dropdownTList("25,").subscribe(function(t){e.groupList=t.filter(function(e){return 25===e.type_id}),e.tenantMasterService.rateList().subscribe(function(t){e.defaultList=t,e.rateList=t,e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"changeRate",value:function(e,t){this.rateList[e].rates=Number(t.target.value).toFixed(4),t.value=Number(t.target.value).toFixed(4)}},{key:"selectGroup",value:function(){var e=this,t=this.rateForm.get("selectedRateGroup").value;this.rateManagementService.rateView(t).subscribe(function(t){if(t.length>0){e.rateList=t;for(var i=[],a=0;a<t.length;a++){var r=e.defaultList.filter(function(e){return e.payroll_rates_id===t[a].payroll_rate_id})[0];i.push({rate_group_id:t[a].rate_group_id,payroll_rate_id:t[a].payroll_rate_id,description:r.description,rates:t[a].rates,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")})}e.rateList=i}else{var n=[];for(a=0;a<e.defaultList.length;a++)n.push({rate_group_id:e.rateForm.get("selectedRateGroup").value,payroll_rate_id:e.defaultList[a].payroll_rates_id,description:e.defaultList[a].description,rates:e.defaultList[a].rates,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc")});e.rateList=n}},function(e){console.log(e.error)})}},{key:"submit",value:function(){var e=this;o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading(),e.rateManagementService.rateIU(e.rateList).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||V)(c.Lb(s.a),c.Lb(b.a),c.Lb(f.c),c.Lb(l.a))},V.\u0275cmp=c.Fb({type:V,selectors:[["app-payroll-rates"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[3,"formGroup"],[1,"col-lg-3","email-aside","border-lg-right"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","Rate Group","bindLabel","description","bindValue","id","placeholder","Select Rate Group","formControlName","selectedRateGroup",3,"items","change"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9","email-content"],[1,"table-responsive"],["id","dataTableExample",1,"table","table-bordered"],[4,"ngFor","ngForOf"],["type","text","placeholder","0",1,"form-control",3,"value","change"]],template:function(e,t){1&e&&(c.Gc(0,G,3,0,"div",0),c.Gc(1,A,42,5,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,h.a,f.i,f.d,p.a,m.a,d.m],pipes:[d.f],styles:[""]}),V);function U(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function J(e,t){1&e&&(c.Rb(0,"p",37),c.Ic(1,"Name is needed!"),c.Qb())}function W(e,t){1&e&&(c.Rb(0,"p",37),c.Ic(1,"Type is needed!"),c.Qb())}function Y(e,t){1&e&&(c.Rb(0,"p",37),c.Ic(1,"Minimum hour is needed!"),c.Qb())}function q(e,t){if(1&e&&(c.Rb(0,"div",18),c.Rb(1,"label",19),c.Ic(2,"Minimum Hour"),c.Qb(),c.Mb(3,"input",38),c.Gc(4,Y,2,0,"p",21),c.Qb()),2&e){var i=c.dc(2);c.yb(4),c.jc("ngIf",i.errMinimum)}}function z(e,t){1&e&&(c.Rb(0,"p",37),c.Ic(1,"Maximum hour is needed!"),c.Qb())}function Z(e,t){if(1&e&&(c.Rb(0,"div",18),c.Rb(1,"label",19),c.Ic(2,"Maximum Hour"),c.Qb(),c.Mb(3,"input",39),c.Gc(4,z,2,0,"p",21),c.Qb()),2&e){var i=c.dc(2);c.yb(4),c.jc("ngIf",i.errMaximum)}}var K=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function X(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",7),c.Rb(7,"a",9),c.Ic(8,"Allowance/Deduction"),c.Qb(),c.Qb(),c.Rb(9,"li",10),c.Ic(10,"Detail"),c.Qb(),c.Qb(),c.Qb(),c.Rb(11,"div",11),c.Rb(12,"div",12),c.Rb(13,"div",13),c.Rb(14,"div",14),c.Rb(15,"div",15),c.Rb(16,"h6"),c.Ic(17,"Allowance/Deduction"),c.Qb(),c.Qb(),c.Rb(18,"form",16),c.Rb(19,"div",11),c.Rb(20,"div",17),c.Rb(21,"div",18),c.Rb(22,"label",19),c.Ic(23,"Name"),c.Qb(),c.Mb(24,"input",20),c.Gc(25,J,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(26,"div",17),c.Rb(27,"div",18),c.Rb(28,"label",19),c.Ic(29,"Type"),c.Qb(),c.Rb(30,"ng-select",22),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().modelChangeFn(e)}),c.Qb(),c.Gc(31,W,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(32,"div",23),c.Rb(33,"div",18),c.Rb(34,"div",18),c.Rb(35,"label",19),c.Ic(36,"\xa0"),c.Qb(),c.Rb(37,"div",24),c.Rb(38,"label",25),c.Mb(39,"input",26),c.Mb(40,"i",27),c.Ic(41," Active? "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(42,"hr"),c.Rb(43,"div",11),c.Rb(44,"div",28),c.Gc(45,q,5,1,"div",29),c.Qb(),c.Rb(46,"div",28),c.Gc(47,Z,5,1,"div",29),c.Qb(),c.Rb(48,"div",30),c.Rb(49,"div",18),c.Rb(50,"div",18),c.Rb(51,"label",19),c.Ic(52,"\xa0"),c.Qb(),c.Rb(53,"div",24),c.Rb(54,"label",25),c.Mb(55,"input",31),c.Mb(56,"i",27),c.Ic(57," Taxable? "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(58,"div",32),c.Rb(59,"ul",33),c.Rb(60,"button",34),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(61,"i",35),c.Ic(62," Save Changes "),c.Qb(),c.Mb(63,"button",36),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(18),c.jc("formGroup",a.adForm),c.yb(7),c.jc("ngIf",a.errName),c.yb(5),c.jc("items",a.moduleType),c.yb(1),c.jc("ngIf",a.errType),c.yb(14),c.jc("ngIf",a.isType),c.yb(2),c.jc("ngIf",a.isType),c.yb(16),c.jc("swal",c.mc(7,K))}}var ee,te=((ee=function(){function t(i,a,r,n){e(this,t),this.fb=i,this.tenantMasterService=a,this.rateManagementService=r,this.route=n,this.isLoading=!0,this.isType=!0,this.moduleType=[],this.deductionType=[],this.governmentType=[],this.errName=!1,this.errType=!1,this.errMinimum=!1,this.errDeductionType=!1,this.errMaximum=!1,this.errGovernment=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.recID=this.route.snapshot.paramMap.get("id"),this.adForm=this.fb.group({name:[""],selectedModuleType:57,active:!0,minimumHour:[0],maximumHour:[0],taxable:!1}),this.tenantMasterService.dropdownList(0).subscribe(function(t){e.moduleType=t.filter(function(e){return 26===e.type_id}),e.deductionType=t.filter(function(e){return 27===e.type_id}),e.governmentType=t.filter(function(e){return 28===e.type_id}),""!=e.recID?e.rateManagementService.adView(e.recID).subscribe(function(t){e.adForm=e.fb.group({name:t[0].recurring_name,selectedModuleType:t[0].recurring_type,active:t[0].active,minimumHour:t[0].minimum_hour,maximumHour:t[0].maximum_hour,taxable:t[0].taxable}),e.modelChangeFn(t[0].recurring_type),e.isLoading=!1},function(e){console.log(e.error)}):(e.isLoading=!1,e.recID="0")},function(e){console.log(e.error)})}},{key:"modelChangeFn",value:function(e){this.toggleError(!1),this.isType=57===e}},{key:"toggleError",value:function(e){this.errName=e,this.errType=e,this.errMinimum=e,this.errDeductionType=e,this.errMaximum=e,this.errGovernment=e}},{key:"validation",value:function(){var e=!0;return this.toggleError(!1),""!==this.adForm.get("name").value&&null!==this.adForm.get("name").value||(e=!1,this.errName=!0),""!==this.adForm.get("selectedModuleType").value&&null!==this.adForm.get("selectedModuleType").value||(e=!1,this.errType=!0),e}},{key:"submit",value:function(){var e=this;this.validation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading(),57!==e.adForm.get("selectedModuleType").value&&(e.adForm.get("minimumHour").setValue(0),e.adForm.get("maximumHour").setValue(0));var t={recurring_id:e.recID,recurring_name:e.adForm.get("name").value,recurring_type:e.adForm.get("selectedModuleType").value,minimum_hour:e.adForm.get("minimumHour").value,maximum_hour:e.adForm.get("maximumHour").value,taxable:e.adForm.get("taxable").value,created_by:sessionStorage.getItem("u"),active:e.adForm.get("active").value,series_code:sessionStorage.getItem("sc")};e.rateManagementService.adIU(t).subscribe(function(e){0===e.branchID?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||ee)(c.Lb(f.c),c.Lb(b.a),c.Lb(l.a),c.Lb(u.a))},ee.\u0275cmp=c.Fb({type:ee,selectors:[["app-allowance-deduction-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/allowance-deduction-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-5"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedModuleType",3,"items","ngModelChange"],[1,"col-sm-2"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","formControlName","active",1,"form-check-input"],[1,"input-frame"],[1,"col-sm-4"],["class","form-group",4,"ngIf"],[1,"col-sm-3"],["formControlName","taxable","type","checkbox",1,"form-check-input"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],["type","text","formControlName","minimumHour","placeholder","Minimum Hour",1,"form-control"],["type","text","formControlName","maximumHour","placeholder","Minimum Hour",1,"form-control"]],template:function(e,t){1&e&&(c.Gc(0,U,3,0,"div",0),c.Gc(1,X,64,8,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,f.b,f.i,f.d,h.a,f.a,p.a,m.a],styles:[""]}),ee),ie=r("XNiG"),ae=r("ltvU"),re=r("njyG");function ne(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function oe(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Ic(8),c.Qb(),c.Rb(9,"td"),c.Ic(10),c.Qb(),c.Rb(11,"td"),c.Ic(12),c.Qb(),c.Rb(13,"td"),c.Rb(14,"button",22),c.bc("click",function(){c.xc(i);var e=t.$implicit;return c.dc(2).viewAD(e.recurring_id)}),c.Mb(15,"i",23),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.recurring_code),c.yb(2),c.Jc(a.recurring_name),c.yb(2),c.Jc(a.taxable),c.yb(2),c.Jc(a.active),c.yb(2),c.Jc(a.created_desc),c.yb(2),c.Jc(a.date_created)}}var ce=function(){return["/layout/administration/allowance-deduction-detail"]};function se(e,t){if(1&e&&(c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Allowance/Deduction"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Allowance/Deduction"),c.Qb(),c.Qb(),c.Rb(17,"div",15),c.Rb(18,"ul",16),c.Rb(19,"button",17),c.Mb(20,"i",18),c.Ic(21," Add Allowance/Deduction "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(22,"hr"),c.Rb(23,"div",19),c.Rb(24,"table",20),c.Rb(25,"thead"),c.Rb(26,"tr"),c.Rb(27,"th"),c.Ic(28,"Code"),c.Qb(),c.Rb(29,"th"),c.Ic(30,"Name"),c.Qb(),c.Rb(31,"th"),c.Ic(32,"Taxable"),c.Qb(),c.Rb(33,"th"),c.Ic(34,"Active"),c.Qb(),c.Rb(35,"th"),c.Ic(36,"Created By"),c.Qb(),c.Rb(37,"th"),c.Ic(38,"Date Created"),c.Qb(),c.Mb(39,"th"),c.Qb(),c.Qb(),c.Rb(40,"tbody"),c.Gc(41,oe,16,6,"tr",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(19),c.jc("routerLink",c.mc(4,ce)),c.yb(5),c.jc("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),c.yb(17),c.jc("ngForOf",i.table)}}var be,le=((be=function(){function t(i,a,r,n){e(this,t),this.ratesManagementService=i,this.router=a,this.userManagementService=r,this.tenantMasterService=n,this.isLoading=!1,this.dtOptions={},this.dtTrigger=new ie.a,this.table=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.ratesManagementService.adView(0).subscribe(function(t){e.table=t.map(function(e){return{active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,recurring_code:e.recurring_code,recurring_name:e.recurring_name,taxable:e.taxable,recurring_id:e.recurring_id}}),e.isLoading=!1,setTimeout(function(){e.dtTrigger.next()},100)},function(e){console.log(e.error)})}},{key:"viewAD",value:function(e){this.router.navigate(["/layout/administration/allowance-deduction-detail",e])}}]),t}()).\u0275fac=function(e){return new(e||be)(c.Lb(l.a),c.Lb(u.c),c.Lb(ae.a),c.Lb(b.a))},be.\u0275cmp=c.Fb({type:be,selectors:[["app-allowance-deduction-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(c.Gc(0,ne,3,0,"div",0),c.Gc(1,se,42,5,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,u.d,p.a,re.a,d.m],styles:[""]}),be),de=r("EVdn"),ue=r("tinS"),he=r("pujn"),fe=r("1kSV");function pe(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function me(e,t){1&e&&(c.Rb(0,"p",46),c.Ic(1,"Please input name!"),c.Qb())}function ve(e,t){1&e&&(c.Rb(0,"p",46),c.Ic(1,"Please select atleast one branch!"),c.Qb())}function ge(e,t){1&e&&(c.Rb(0,"p",46),c.Ic(1,"Please input description!"),c.Qb())}function ye(e,t){1&e&&(c.Rb(0,"p",46),c.Ic(1,"Please input holiday name!"),c.Qb())}function Re(e,t){1&e&&(c.Rb(0,"p",46),c.Ic(1,"Please input holiday type!"),c.Qb())}function Qe(e,t){1&e&&(c.Rb(0,"p",46),c.Ic(1,"Please input year!"),c.Qb())}function _e(e,t){1&e&&(c.Rb(0,"p",46),c.Ic(1,"Please add atleast one holiday!"),c.Qb())}function Ie(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Rb(8,"button",47),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(2).removeHoliday(e)}),c.Mb(9,"i",48),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.holiday_name),c.yb(2),c.Jc(a.holidayTypeDesc),c.yb(2),c.Jc(a.holiday_date)}}var ke=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function De(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",7),c.Rb(7,"a",9),c.Ic(8,"Holiday"),c.Qb(),c.Qb(),c.Rb(9,"li",10),c.Ic(10,"Detail"),c.Qb(),c.Qb(),c.Qb(),c.Rb(11,"div",11),c.Rb(12,"div",12),c.Rb(13,"div",13),c.Rb(14,"div",14),c.Rb(15,"div",15),c.Rb(16,"h6"),c.Ic(17,"Holiday"),c.Qb(),c.Qb(),c.Rb(18,"form",16),c.Rb(19,"div",11),c.Rb(20,"div",17),c.Rb(21,"div",18),c.Rb(22,"label",19),c.Ic(23,"Name"),c.Qb(),c.Mb(24,"input",20),c.Gc(25,me,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(26,"div",22),c.Rb(27,"div",18),c.Rb(28,"label",19),c.Ic(29,"Branch"),c.Qb(),c.Rb(30,"ng-select",23),c.bc("change",function(){return c.xc(i),c.dc().selectAll()}),c.Qb(),c.Gc(31,ve,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(32,"div",24),c.Rb(33,"div",18),c.Rb(34,"label",19),c.Ic(35,"Description"),c.Qb(),c.Mb(36,"input",25),c.Gc(37,ge,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(38,"hr"),c.Rb(39,"form",16),c.Rb(40,"div",11),c.Rb(41,"div",17),c.Rb(42,"div",18),c.Rb(43,"label",19),c.Ic(44,"Holiday Name"),c.Qb(),c.Mb(45,"input",26),c.Gc(46,ye,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(47,"div",17),c.Rb(48,"div",18),c.Rb(49,"label",19),c.Ic(50,"Holiday Type"),c.Qb(),c.Mb(51,"ng-select",27),c.Gc(52,Re,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(53,"div",28),c.Rb(54,"div",18),c.Rb(55,"label",19),c.Ic(56,"Date"),c.Qb(),c.Rb(57,"div",11),c.Rb(58,"div",29),c.Rb(59,"div",18),c.Rb(60,"div",30),c.Rb(61,"input",31,32),c.bc("dateSelect",function(e){return c.xc(i),c.dc().onDateSelect(e)})("click",function(){return c.xc(i),c.vc(62).toggle()}),c.Qb(),c.Rb(63,"div",33),c.Rb(64,"button",34),c.bc("click",function(){return c.xc(i),c.vc(62).toggle()}),c.Mb(65,"i",35),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Gc(66,Qe,2,0,"p",21),c.Qb(),c.Rb(67,"div",29),c.Rb(68,"button",36),c.bc("click",function(){return c.xc(i),c.dc().addHoliday()}),c.Mb(69,"i",37),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(70,"div",11),c.Gc(71,_e,2,0,"p",21),c.Rb(72,"div",38),c.Rb(73,"table",39),c.Rb(74,"thead"),c.Rb(75,"tr"),c.Rb(76,"th"),c.Ic(77,"Holiday Name"),c.Qb(),c.Rb(78,"th"),c.Ic(79,"Holiday Type"),c.Qb(),c.Rb(80,"th"),c.Ic(81,"Date"),c.Qb(),c.Rb(82,"th"),c.Ic(83,"Action"),c.Qb(),c.Qb(),c.Qb(),c.Rb(84,"tbody"),c.Gc(85,Ie,10,3,"tr",40),c.Qb(),c.Mb(86,"tfoot"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(87,"div",41),c.Rb(88,"ul",42),c.Rb(89,"button",43),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(90,"i",44),c.Ic(91," Save Holiday "),c.Qb(),c.Rb(92,"button",45),c.Ic(93," Click here! "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(18),c.jc("formGroup",a.headerForm),c.yb(7),c.jc("ngIf",a.errName),c.yb(5),c.jc("items",a.branch)("multiple",!0),c.yb(1),c.jc("ngIf",a.errBranch),c.yb(6),c.jc("ngIf",a.errDescription),c.yb(2),c.jc("formGroup",a.holidayForm),c.yb(7),c.jc("ngIf",a.errHolidayName),c.yb(5),c.jc("items",a.holidayType),c.yb(1),c.jc("ngIf",a.errHolidayType),c.yb(14),c.jc("ngIf",a.errYear),c.yb(5),c.jc("ngIf",a.errHolidayList),c.yb(14),c.jc("ngForOf",a.holidayList),c.yb(7),c.jc("swal",c.mc(14,ke))}}var Ce,Fe=((Ce=function(){function t(i,a,r,n,o){e(this,t),this.fb=i,this.tenantMasterService=a,this.branchManagementService=r,this.holidayManagementService=n,this.route=o,this.holidayID="0",this.isLoading=!0,this.pipe=new d.e("en-US"),this.branch=[],this.allBranch=[],this.holidayType=[],this.holidayList=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.holidayID=this.route.snapshot.paramMap.get("id"),this.headerForm=this.fb.group({name:[""],selectedBranch:[null],description:[""]}),this.holidayForm=this.fb.group({holidayName:[""],selectedHolidayType:[null],holidayTypeDesc:[""],selectedDate:[""]}),this.pageLoad(!1),this.tenantMasterService.dropdownList(19).subscribe(function(t){e.holidayType=t,e.branchManagementService.branchList().subscribe(function(t){for(var i=0;i<t.length;i++)e.allBranch.push(t[i].branch_id);e.branch=Object(de.merge)([{branch_id:0,branch_name:"All"}],t),""!==e.holidayID?e.holidayManagementService.branchList(e.holidayID).subscribe(function(t){for(var i=[],a=0;a<t.length;a++)i.push(t[a].branch_id);e.holidayManagementService.holidayList(e.holidayID).subscribe(function(t){e.headerForm.setValue({name:t[0].holiday_header_name,selectedBranch:i,description:t[0].holiday_description}),e.holidayManagementService.detailList(e.holidayID).subscribe(function(t){e.holidayList=t.map(function(t){return{holiday_name:t.holiday_name,holiday_type_id:t.holiday_type_id,holidayTypeDesc:t.description,holiday_date:e.pipe.transform(t.holiday_date,"MM/dd/yyyy")}}),e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)})},function(e){console.log(e.error)}):(e.holidayID="0",e.isLoading=!1)},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"selectAll",value:function(){for(var e=this.headerForm.get("selectedBranch").value,t=!1,i=0;i<e.length;i++)0===e[i]&&(t=!0);t&&this.headerForm.controls.selectedBranch.setValue(this.allBranch)}},{key:"onDateSelect",value:function(e){}},{key:"removeHoliday",value:function(e){this.holidayList.splice(e,1)}},{key:"addHoliday",value:function(){var e=this;if(this.validateHoliday()){var t=this.holidayType.filter(function(t){return t.id===e.holidayForm.get("selectedHolidayType").value})[0];this.holidayList.push({holiday_name:this.holidayForm.get("holidayName").value,holiday_type_id:t.id,holidayTypeDesc:t.description,holiday_date:this.pipe.transform(this.holidayForm.get("selectedDate").value.year+"/"+this.holidayForm.get("selectedDate").value.month+"/"+this.holidayForm.get("selectedDate").value.day,"MM/dd/yyyy")}),this.holidayForm.reset()}}},{key:"validateHoliday",value:function(){this.pageLoad(!1);var e=!0;return""!=this.holidayForm.get("holidayName").value&&null!=this.holidayForm.get("holidayName").value||(e=!1,this.errHolidayName=!0),""!=this.holidayForm.get("selectedHolidayType").value&&null!=this.holidayForm.get("selectedHolidayType").value||(e=!1,this.errHolidayType=!0),e}},{key:"pageLoad",value:function(e){this.errHolidayName=e,this.errHolidayType=e,this.errMonth=e,this.errDay=e,this.errYear=e,this.errName=e,this.errBranch=e,this.errDescription=e,this.errHolidayList=e}},{key:"submit",value:function(){var e=this;this.submitValidation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){var t;o.a.showLoading();for(var i=[],a=0;a<e.headerForm.get("selectedBranch").value.length;a++)i.push({branch_id:e.headerForm.get("selectedBranch").value[a]});t={holiday_id:e.holidayID,holiday_code:"",holiday_header_name:e.headerForm.get("name").value,holiday_description:e.headerForm.get("description").value,active:!0,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),Detail:e.holidayList,Branch:i},console.log(JSON.stringify(t)),e.holidayManagementService.HolidayIU(t).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"submitValidation",value:function(){this.pageLoad(!1);var e=!0;return""!=this.headerForm.get("name").value&&null!=this.headerForm.get("name").value||(e=!1,this.errName=!0),""!=this.headerForm.get("description").value&&null!=this.headerForm.get("description").value||(e=!1,this.errDescription=!0),this.holidayList.length<=0&&(e=!1,this.errHolidayList=!0),""!=this.headerForm.get("selectedBranch").value&&null!=this.headerForm.get("selectedBranch").value||(e=!1,this.errBranch=!0),e}}]),t}()).\u0275fac=function(e){return new(e||Ce)(c.Lb(f.c),c.Lb(b.a),c.Lb(ue.a),c.Lb(he.a),c.Lb(u.a))},Ce.\u0275cmp=c.Fb({type:Ce,selectors:[["app-holiday-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/holiday-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-3"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"col-sm-5"],["bindLabel","branch_name","bindValue","branch_id","placeholder","Select Branch","formControlName","selectedBranch",3,"items","multiple","change"],[1,"col-sm-4"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],["type","text","formControlName","holidayName","placeholder","Holiday Name",1,"form-control"],["name","Holiday","bindLabel","description","bindValue","id","placeholder","Select Holiday Type","formControlName","selectedHolidayType",3,"items"],[1,"col-sm-6"],[1,"col-md-6"],[1,"input-group"],["placeholder","mm/dd/yyyy","name","dp","formControlName","selectedDate","ngbDatepicker","",1,"form-control",3,"dateSelect","click"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-light","btn-icon","calendar",3,"click"],["data-feather","calendar","appFeatherIcon","",1,"text-secondary"],["type","button",1,"btn","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(c.Gc(0,pe,3,0,"div",0),c.Gc(1,De,94,15,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,f.b,f.i,f.d,h.a,fe.i,p.a,d.m,m.a],styles:[""]}),Ce);function Me(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function we(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Ic(8),c.Qb(),c.Rb(9,"td"),c.Ic(10),c.Qb(),c.Rb(11,"td"),c.Rb(12,"button",23),c.bc("click",function(){c.xc(i);var e=t.$implicit;return c.dc(2).viewHoliday(e.holiday_id_encrypted)}),c.Mb(13,"i",24),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.holiday_code),c.yb(2),c.Jc(a.holiday_header_name),c.yb(2),c.Jc(a.holiday_description),c.yb(2),c.Jc(a.created_desc),c.yb(2),c.Jc(a.date_created)}}var Be=function(){return["/layout/administration/holiday-detail"]};function Te(e,t){if(1&e&&(c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Holiday"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Holiday"),c.Qb(),c.Qb(),c.Rb(17,"div",15),c.Rb(18,"ul",16),c.Rb(19,"button",17),c.Mb(20,"i",18),c.Ic(21," Add Holiday "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(22,"hr"),c.Rb(23,"div",19),c.Rb(24,"div",20),c.Rb(25,"table",21),c.Rb(26,"thead"),c.Rb(27,"tr"),c.Rb(28,"th"),c.Ic(29,"Holiday Code"),c.Qb(),c.Rb(30,"th"),c.Ic(31,"Name"),c.Qb(),c.Rb(32,"th"),c.Ic(33,"Description"),c.Qb(),c.Rb(34,"th"),c.Ic(35,"Created By"),c.Qb(),c.Rb(36,"th"),c.Ic(37,"Date Created"),c.Qb(),c.Mb(38,"th"),c.Qb(),c.Qb(),c.Rb(39,"tbody"),c.Gc(40,we,14,5,"tr",22),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(19),c.jc("routerLink",c.mc(4,Be)),c.yb(6),c.jc("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),c.yb(15),c.jc("ngForOf",i.table)}}var Oe,Le=((Oe=function(){function t(i,a,r){e(this,t),this.holidayManagementService=i,this.router=a,this.userManagementService=r,this.isLoading=!0,this.dtOptions={},this.dtTrigger=new ie.a,this.table=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.holidayManagementService.holidayList(0).subscribe(function(t){e.table=t.map(function(e){return{active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,holiday_code:e.holiday_code,holiday_description:e.holiday_description,holiday_header_name:e.holiday_header_name,holiday_id:e.holiday_id,holiday_id_encrypted:e.holiday_id_encrypted}}),e.isLoading=!1,setTimeout(function(){e.dtTrigger.next()},100)},function(e){console.log(e.error)})}},{key:"viewHoliday",value:function(e){this.router.navigate(["/layout/administration/holiday-detail",e])}}]),t}()).\u0275fac=function(e){return new(e||Oe)(c.Lb(he.a),c.Lb(u.c),c.Lb(ae.a))},Oe.\u0275cmp=c.Fb({type:Oe,selectors:[["app-holiday-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"col-md-12"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(c.Gc(0,Me,3,0,"div",0),c.Gc(1,Te,41,5,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,u.d,p.a,re.a,d.m],styles:[""]}),Oe),Se=r("cnwU"),xe=r("EDFS"),je=r("kUHs");function Ne(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function Ge(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input shift name!"),c.Qb())}function Pe(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input description!"),c.Qb())}var He=function(){return{standalone:!0}};function Ae(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setTimeIn(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).timeIn=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.timeIn)("showMeridian",!0)}}function Ve(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input time in!"),c.Qb())}function Ee(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setTimeOut(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).timeOut=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.timeOut)("showMeridian",!0)}}function Ue(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input time out!"),c.Qb())}function $e(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setHalfDayIn(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).halfDayIn=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.halfDayIn)("showMeridian",!0)}}function Je(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input halfday in!"),c.Qb())}function We(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setHalfDayOut(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).halfDayOut=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.halfDayOut)("showMeridian",!0)}}function Ye(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input halfday out!"),c.Qb())}function qe(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setNightDiffIn(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).nightDiffIn=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.nightDiffIn)("showMeridian",!0)}}function ze(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input night diff in!"),c.Qb())}function Ze(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setNightDiffOut(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).nightDiffOut=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.nightDiffOut)("showMeridian",!0)}}function Ke(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Please input night diff out!"),c.Qb())}function Xe(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setBreakIn(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).BreakIn=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.BreakIn)("showMeridian",!0)}}function et(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Input Break In!"),c.Qb())}function tt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"timepicker",82),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).setBreakOut(e)})("ngModelChange",function(e){return c.xc(i),c.dc(2).BreakOut=e}),c.Qb()}if(2&e){var a=c.dc(2);c.jc("ngModelOptions",c.mc(3,He))("ngModel",a.BreakOut)("showMeridian",!0)}}function it(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Input Break Out!"),c.Qb())}function at(e,t){1&e&&(c.Rb(0,"p",81),c.Ic(1,"Breaks can only accommodate up to three breaks!"),c.Qb())}function rt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Ic(8),c.Qb(),c.Rb(9,"td"),c.Ic(10),c.Qb(),c.Rb(11,"td"),c.Rb(12,"button",83),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(2).removeBreak(e)}),c.Mb(13,"i",84),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.breakType),c.yb(2),c.Jc(a.breakIn),c.yb(2),c.Jc(a.breakInDays),c.yb(2),c.Jc(a.breakOut),c.yb(2),c.Jc(a.breakOutDays)}}var nt=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function ot(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",7),c.Rb(7,"a",9),c.Ic(8,"Shift Codes"),c.Qb(),c.Qb(),c.Rb(9,"li",10),c.Ic(10,"Detail"),c.Qb(),c.Qb(),c.Qb(),c.Rb(11,"div",11),c.Rb(12,"div",12),c.Rb(13,"div",13),c.Rb(14,"div",14),c.Rb(15,"div",15),c.Rb(16,"h6"),c.Ic(17,"Shift Codes"),c.Qb(),c.Qb(),c.Rb(18,"form",16),c.Rb(19,"div",11),c.Rb(20,"div",17),c.Rb(21,"div",18),c.Rb(22,"label",19),c.Ic(23,"Shift Name"),c.Qb(),c.Mb(24,"input",20),c.Gc(25,Ge,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(26,"div",17),c.Rb(27,"div",18),c.Rb(28,"label",19),c.Ic(29,"Grace Period"),c.Qb(),c.Mb(30,"input",22),c.Qb(),c.Qb(),c.Rb(31,"div",23),c.Rb(32,"div",18),c.Rb(33,"label",19),c.Ic(34,"Description"),c.Qb(),c.Mb(35,"input",24),c.Gc(36,Pe,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(37,"div",25),c.Rb(38,"div",18),c.Rb(39,"label",19),c.Ic(40,"\xa0"),c.Qb(),c.Rb(41,"div",26),c.Rb(42,"label",27),c.Rb(43,"input",28),c.bc("change",function(e){return c.xc(i),c.dc().onFlexi(e)}),c.Qb(),c.Mb(44,"i",29),c.Ic(45," Is Flexi? "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(46,"div",11),c.Rb(47,"div",17),c.Rb(48,"div",18),c.Rb(49,"label",19),c.Ic(50,"Time In"),c.Qb(),c.Gc(51,Ae,1,4,"ng-template",null,30,c.Hc),c.Mb(53,"input",31),c.Gc(54,Ve,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(55,"div",17),c.Rb(56,"div",18),c.Rb(57,"label",19),c.Ic(58,"Time Out"),c.Qb(),c.Gc(59,Ee,1,4,"ng-template",null,32,c.Hc),c.Mb(61,"input",33),c.Gc(62,Ue,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(63,"div",17),c.Rb(64,"div",18),c.Rb(65,"label",19),c.Ic(66,"Days Cover"),c.Qb(),c.Rb(67,"input",34),c.bc("change",function(){return c.xc(i),c.dc().computeDateDiff()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(68,"div",17),c.Rb(69,"div",18),c.Rb(70,"label",19),c.Ic(71,"Total Working Hr(s)"),c.Qb(),c.Mb(72,"input",35),c.Qb(),c.Qb(),c.Qb(),c.Rb(73,"div",11),c.Rb(74,"div",17),c.Rb(75,"div",18),c.Rb(76,"label",19),c.Ic(77,"Halfday In"),c.Qb(),c.Gc(78,$e,1,4,"ng-template",null,36,c.Hc),c.Mb(80,"input",37),c.Gc(81,Je,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(82,"div",17),c.Rb(83,"div",18),c.Rb(84,"label",19),c.Ic(85,"Days Cover"),c.Qb(),c.Mb(86,"input",38),c.Qb(),c.Qb(),c.Rb(87,"div",17),c.Rb(88,"div",18),c.Rb(89,"label",19),c.Ic(90,"Halfday Out"),c.Qb(),c.Gc(91,We,1,4,"ng-template",null,39,c.Hc),c.Mb(93,"input",40),c.Gc(94,Ye,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(95,"div",17),c.Rb(96,"div",18),c.Rb(97,"label",19),c.Ic(98,"Days Cover"),c.Qb(),c.Mb(99,"input",41),c.Qb(),c.Qb(),c.Qb(),c.Rb(100,"div",11),c.Rb(101,"div",17),c.Rb(102,"div",18),c.Rb(103,"label",19),c.Ic(104,"Nighdiff In"),c.Qb(),c.Gc(105,qe,1,4,"ng-template",null,42,c.Hc),c.Mb(107,"input",43),c.Gc(108,ze,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(109,"div",17),c.Rb(110,"div",18),c.Rb(111,"label",19),c.Ic(112,"Days Cover"),c.Qb(),c.Mb(113,"input",44),c.Qb(),c.Qb(),c.Rb(114,"div",17),c.Rb(115,"div",18),c.Rb(116,"label",19),c.Ic(117,"Nighdiff Out"),c.Qb(),c.Gc(118,Ze,1,4,"ng-template",null,45,c.Hc),c.Mb(120,"input",46),c.Gc(121,Ke,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(122,"div",17),c.Rb(123,"div",18),c.Rb(124,"label",19),c.Ic(125,"Days Cover"),c.Qb(),c.Mb(126,"input",47),c.Qb(),c.Qb(),c.Qb(),c.Mb(127,"hr"),c.Rb(128,"div",15),c.Rb(129,"h6"),c.Ic(130,"Restday"),c.Qb(),c.Qb(),c.Rb(131,"div",11),c.Rb(132,"div",48),c.Rb(133,"table",49),c.Rb(134,"thead"),c.Rb(135,"tr"),c.Rb(136,"th"),c.Ic(137,"Sunday"),c.Qb(),c.Rb(138,"th"),c.Ic(139,"Monday"),c.Qb(),c.Rb(140,"th"),c.Ic(141,"Tuesday"),c.Qb(),c.Rb(142,"th"),c.Ic(143,"Wednesday"),c.Qb(),c.Rb(144,"th"),c.Ic(145,"Thursday"),c.Qb(),c.Rb(146,"th"),c.Ic(147,"Friday"),c.Qb(),c.Rb(148,"th"),c.Ic(149,"Saturday"),c.Qb(),c.Qb(),c.Qb(),c.Rb(150,"tbody"),c.Rb(151,"tr"),c.Rb(152,"td"),c.Rb(153,"div",50),c.Mb(154,"input",51),c.Mb(155,"label",52),c.Qb(),c.Qb(),c.Rb(156,"td"),c.Rb(157,"div",50),c.Mb(158,"input",53),c.Mb(159,"label",54),c.Qb(),c.Qb(),c.Rb(160,"td"),c.Rb(161,"div",50),c.Mb(162,"input",55),c.Mb(163,"label",56),c.Qb(),c.Qb(),c.Rb(164,"td"),c.Rb(165,"div",50),c.Mb(166,"input",57),c.Mb(167,"label",58),c.Qb(),c.Qb(),c.Rb(168,"td"),c.Rb(169,"div",50),c.Mb(170,"input",59),c.Mb(171,"label",60),c.Qb(),c.Qb(),c.Rb(172,"td"),c.Rb(173,"div",50),c.Mb(174,"input",61),c.Mb(175,"label",62),c.Qb(),c.Qb(),c.Rb(176,"td"),c.Rb(177,"div",50),c.Mb(178,"input",63),c.Mb(179,"label",64),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(180,"hr"),c.Qb(),c.Rb(181,"form",16),c.Rb(182,"div",11),c.Rb(183,"div",25),c.Rb(184,"div",18),c.Rb(185,"label",19),c.Ic(186,"Time In"),c.Qb(),c.Gc(187,Xe,1,4,"ng-template",null,65,c.Hc),c.Mb(189,"input",66),c.Gc(190,et,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(191,"div",25),c.Rb(192,"div",18),c.Rb(193,"label",19),c.Ic(194,"Days Cover"),c.Qb(),c.Mb(195,"input",67),c.Qb(),c.Qb(),c.Rb(196,"div",25),c.Rb(197,"div",18),c.Rb(198,"label",19),c.Ic(199,"Time Out"),c.Qb(),c.Gc(200,tt,1,4,"ng-template",null,68,c.Hc),c.Mb(202,"input",69),c.Gc(203,it,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(204,"div",17),c.Rb(205,"div",18),c.Rb(206,"label",19),c.Ic(207,"Days Cover"),c.Qb(),c.Rb(208,"div",11),c.Rb(209,"div",70),c.Mb(210,"input",71),c.Qb(),c.Rb(211,"div",72),c.Rb(212,"button",73),c.bc("click",function(){return c.xc(i),c.dc().addBreak()}),c.Mb(213,"i",74),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(214,"div",11),c.Gc(215,at,2,0,"p",21),c.Rb(216,"div",48),c.Rb(217,"table",49),c.Rb(218,"thead"),c.Rb(219,"tr"),c.Rb(220,"th"),c.Ic(221,"Break Type"),c.Qb(),c.Rb(222,"th"),c.Ic(223,"Break In"),c.Qb(),c.Rb(224,"th"),c.Ic(225,"Days Cover"),c.Qb(),c.Rb(226,"th"),c.Ic(227,"Break Out"),c.Qb(),c.Rb(228,"th"),c.Ic(229,"Days Cover"),c.Qb(),c.Rb(230,"th"),c.Ic(231,"Action"),c.Qb(),c.Qb(),c.Qb(),c.Rb(232,"tbody"),c.Gc(233,rt,14,5,"tr",75),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(234,"div",76),c.Rb(235,"ul",77),c.Rb(236,"button",78),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(237,"i",79),c.Ic(238," Save Shift Code "),c.Qb(),c.Rb(239,"button",80),c.Ic(240," Click here! "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.vc(52),r=c.vc(60),n=c.vc(79),o=c.vc(92),s=c.vc(106),b=c.vc(119),l=c.vc(188),d=c.vc(201),u=c.dc();c.yb(18),c.jc("formGroup",u.shiftForm),c.yb(7),c.jc("ngIf",u.errShiftName),c.yb(11),c.jc("ngIf",u.errDescription),c.yb(17),c.jc("popover",a)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.errTimeIn),c.yb(7),c.jc("popover",r)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.errTimeOut),c.yb(18),c.jc("popover",n)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.errHalfDayIn),c.yb(12),c.jc("popover",o)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.errHalfDayOut),c.yb(13),c.jc("popover",s)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.errNightDiffIn),c.yb(12),c.jc("popover",b)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.errNightDiffOut),c.yb(60),c.jc("formGroup",u.breakForm),c.yb(8),c.jc("popover",l)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.isBreakIn),c.yb(12),c.jc("popover",d)("outsideClick",!0),c.yb(1),c.jc("ngIf",u.isBreakOut),c.yb(12),c.jc("ngIf",u.isBreak),c.yb(18),c.jc("ngForOf",u.break),c.yb(6),c.jc("swal",c.mc(31,nt))}}var ct,st=((ct=function(){function t(i,a,r,n){e(this,t),this.fb=i,this.decimalPipe=a,this.shiftcodeManagementService=r,this.route=n,this.isLoading=!0,this.today=new Date,this.pipe=new d.e("en-US"),this.breakList=["First Break","Second Break","Third Break"],this.break=[],this.isBreak=!1,this.isBreakIn=!1,this.isBreakOut=!1,this.errShiftName=!1,this.errDescription=!1,this.errTimeIn=!1,this.errTimeOut=!1,this.errHalfDayIn=!1,this.errHalfDayOut=!1,this.errNightDiffIn=!1,this.errNightDiffOut=!1,this.BreakOut="",this.BreakIn="",this.halfDayIn="",this.halfDayOut="",this.nightDiffIn="",this.nightDiffOut=""}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.shiftID=this.route.snapshot.paramMap.get("id"),this.shiftForm=this.fb.group({shiftName:[""],gracePeriod:["0"],description:[""],isFlexi:[!1],timeIn:[""],dtimeIn:[""],daysCover:[0],timeOut:[""],dtimeOut:[""],halfDayIn:[""],halfDayOut:[""],halfDayInDays:[0],halfDayOutDays:[0],nightDiffIn:this.pipe.transform("01/01/1900/ 22:00","shortTime"),nightDiffOut:this.pipe.transform("01/01/1900/ 06:00","shortTime"),nightDiffInDays:[0],nightDiffOutDays:[1],is_rd_mon:!1,is_rd_tue:!1,is_rd_wed:!1,is_rd_thu:!1,is_rd_fri:!1,is_rd_sat:!1,is_rd_sun:!1,first_break_in:null,first_break_out:null,first_break_in_days_cover:[0],first_break_out_days_cover:[0],second_break_in:null,second_break_out:null,second_break_in_days_cover:[0],second_break_out_days_cover:[0],third_break_in:null,third_break_out:null,third_break_in_days_cover:[0],third_break_out_days_cover:[0],workingHrs:[{value:"0",disabled:!0}]}),this.breakForm=this.fb.group({selectedBreak:[null],description:[""],BreakIn:[""],breakInDays:[""],BreakOut:[""],breakOutDays:[""]}),""!==this.shiftID?this.shiftcodeManagementService.shiftView(this.shiftID).subscribe(function(t){var i=new Date("01/01/1900/ "+t[0].time_out);i.setDate(i.getDate()+Number(t[0].time_out_days_cover)),e.shiftForm=e.fb.group({shiftName:t[0].shift_name,gracePeriod:t[0].grace_period,description:t[0].description,isFlexi:t[0].is_flexi,timeIn:t[0].time_in,dtimeIn:new Date("01/01/1900/ "+t[0].time_in),daysCover:t[0].time_out_days_cover,timeOut:t[0].time_out,dtimeOut:i,halfDayIn:t[0].half_day_in,halfDayOut:t[0].half_day_out,halfDayInDays:t[0].half_day_in_days_cover,halfDayOutDays:t[0].half_day_out_days_cover,nightDiffIn:t[0].night_dif_in,nightDiffOut:t[0].night_dif_out,nightDiffInDays:t[0].night_dif_in_days_cover,nightDiffOutDays:t[0].night_dif_out_days_cover,is_rd_mon:t[0].is_rd_mon,is_rd_tue:t[0].is_rd_tue,is_rd_wed:t[0].is_rd_wed,is_rd_thu:t[0].is_rd_thu,is_rd_fri:t[0].is_rd_fri,is_rd_sat:t[0].is_rd_sat,is_rd_sun:t[0].is_rd_sun,first_break_in:""===t[0].first_break_in?null:t[0].first_break_in,first_break_out:""===t[0].first_break_out?null:t[0].first_break_out,first_break_in_days_cover:""===t[0].first_break_in?0:t[0].first_break_in_days_cover,first_break_out_days_cover:""===t[0].first_break_out?0:t[0].first_break_out_days_cover,second_break_in:""===t[0].second_break_in?null:t[0].second_break_in,second_break_out:""===t[0].second_break_out?null:t[0].second_break_out,second_break_in_days_cover:""===t[0].second_break_in?0:t[0].second_break_in_days_cover,second_break_out_days_cover:""===t[0].second_break_out?0:t[0].second_break_out_days_cover,third_break_in:""===t[0].third_break_in?null:t[0].third_break_in,third_break_out:""===t[0].third_break_out?null:t[0].third_break_out,third_break_in_days_cover:""===t[0].third_break_in?0:t[0].third_break_in_days_cover,third_break_out_days_cover:""===t[0].third_break_out?0:t[0].third_break_out_days_cover,workingHrs:[{value:t[0].total_working_hours,disabled:!t[0].is_flexi}]}),""!==t[0].first_break_in&&""!=t[0].first_break_out&&e.break.push({breakType:e.breakList[0],breakIn:t[0].first_break_in,breakInDays:t[0].first_break_in_days_cover,breakOut:t[0].first_break_out,breakOutDays:t[0].first_break_out_days_cover}),""!==t[0].second_break_in&&""!=t[0].second_break_out&&e.break.push({breakType:e.breakList[1],breakIn:t[0].second_break_in,breakInDays:t[0].second_break_in_days_cover,breakOut:t[0].second_break_out,breakOutDays:t[0].second_break_out_days_cover}),""!==t[0].third_break_in&&""!=t[0].third_break_out&&e.break.push({breakType:e.breakList[2],breakIn:t[0].third_break_in,breakInDays:t[0].third_break_in_days_cover,breakOut:t[0].third_break_out,breakOutDays:t[0].third_break_out_days_cover}),e.isLoading=!1},function(e){console.log(e.error)}):(this.shiftID="0",this.isLoading=!1)}},{key:"onFlexi",value:function(e){this.shiftForm.get("workingHrs").setValue("0"),e.target.checked?this.shiftForm.get("workingHrs").enable():(this.shiftForm.get("workingHrs").disable(),this.computeDateDiff())}},{key:"setTimeIn",value:function(e){this.shiftForm.get("timeIn").setValue(this.pipe.transform(e,"shortTime")),this.shiftForm.get("dtimeIn").setValue(e),this.computeDateDiff()}},{key:"setTimeOut",value:function(e){this.shiftForm.get("timeOut").setValue(this.pipe.transform(e,"shortTime")),this.shiftForm.get("dtimeOut").setValue(e),this.computeDateDiff()}},{key:"computeDateDiff",value:function(){if(""!=this.shiftForm.get("dtimeIn").value||null!=this.shiftForm.get("dtimeIn").value&&""!=this.shiftForm.get("dtimeOut").value||null!=this.shiftForm.get("dtimeOut").value){var e=new Date(this.shiftForm.get("dtimeIn").value),t=new Date(this.shiftForm.get("dtimeOut").value);e>t&&t.setDate(t.getDate()+Number(this.shiftForm.get("daysCover").value));var i=(t.valueOf()-e.valueOf())/1e3/60/60;this.shiftForm.get("workingHrs").setValue(this.decimalPipe.transform(i,"1.2-2"))}}},{key:"setHalfDayIn",value:function(e){this.shiftForm.get("halfDayIn").setValue(this.pipe.transform(e,"shortTime"))}},{key:"setHalfDayOut",value:function(e){this.shiftForm.get("halfDayOut").setValue(this.pipe.transform(e,"shortTime"))}},{key:"setBreakIn",value:function(e){this.breakForm.get("BreakIn").setValue(this.pipe.transform(e,"shortTime"))}},{key:"setBreakOut",value:function(e){this.breakForm.get("BreakOut").setValue(this.pipe.transform(e,"shortTime"))}},{key:"setNightDiffIn",value:function(e){this.breakForm.get("nightDiffIn").setValue(this.pipe.transform(e,"shortTime"))}},{key:"setNightDiffOut",value:function(e){this.breakForm.get("nightDiffOut").setValue(this.pipe.transform(e,"shortTime"))}},{key:"addBreak",value:function(){this.isBreak=!1,this.break.length<3?this.breakValidation()&&(this.break.push({breakType:this.breakList[this.break.length],breakIn:this.breakForm.get("BreakIn").value,breakInDays:""==this.breakForm.get("breakInDays").value||null==this.breakForm.get("breakInDays").value?"0":this.breakForm.get("breakInDays").value,breakOut:this.breakForm.get("BreakOut").value,breakOutDays:""==this.breakForm.get("breakOutDays").value||null==this.breakForm.get("breakOutDays").value?"0":this.breakForm.get("breakOutDays").value}),this.breakForm.reset()):this.isBreak=!0}},{key:"breakValidation",value:function(){var e=!0;return""==this.breakForm.get("BreakIn").value||null==this.breakForm.get("BreakIn").value?(e=!1,this.isBreakIn=!0):(e=!0,this.isBreakIn=!1),""==this.breakForm.get("BreakOut").value||null==this.breakForm.get("BreakOut").value?(e=!1,this.isBreakOut=!0):(e=!0,this.isBreakOut=!1),e}},{key:"removeBreak",value:function(e){this.isBreak=!1,this.break.splice(e,1);for(var t=[],i=0;i<this.break.length;i++)t.push({breakType:this.breakList[i],breakIn:this.break[i].breakIn,breakInDays:this.break[i].breakInDays,breakOut:this.break[i].breakOut,breakOutDays:this.break[i].breakOutDays});this.break=t}},{key:"submit",value:function(){var e=this;this.formValidation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading(),e.shiftForm.get("first_break_in").setValue(null),e.shiftForm.get("first_break_in_days_cover").setValue(0),e.shiftForm.get("first_break_out").setValue(null),e.shiftForm.get("first_break_out_days_cover").setValue(0),e.shiftForm.get("second_break_in").setValue(null),e.shiftForm.get("second_break_in_days_cover").setValue(0),e.shiftForm.get("second_break_out").setValue(null),e.shiftForm.get("second_break_out_days_cover").setValue(0),e.shiftForm.get("third_break_in").setValue(null),e.shiftForm.get("third_break_in_days_cover").setValue(0),e.shiftForm.get("third_break_out").setValue(null),e.shiftForm.get("third_break_out_days_cover").setValue(0);for(var t=0;t<e.break.length;t++)1===t&&(e.shiftForm.get("second_break_in").setValue(e.break[t].breakIn),e.shiftForm.get("second_break_in_days_cover").setValue(e.break[t].breakInDays),e.shiftForm.get("second_break_out").setValue(e.break[t].breakOut),e.shiftForm.get("second_break_out_days_cover").setValue(e.break[t].breakOutDays)),2===t?(e.shiftForm.get("third_break_in").setValue(e.break[t].breakIn),e.shiftForm.get("third_break_in_days_cover").setValue(e.break[t].breakInDays),e.shiftForm.get("third_break_out").setValue(e.break[t].breakOut),e.shiftForm.get("third_break_out_days_cover").setValue(e.break[t].breakOutDays)):(e.shiftForm.get("first_break_in").setValue(e.break[t].breakIn),e.shiftForm.get("first_break_in_days_cover").setValue(e.break[t].breakInDays),e.shiftForm.get("first_break_out").setValue(e.break[t].breakOut),e.shiftForm.get("first_break_out_days_cover").setValue(e.break[t].breakOutDays));var i={shift_id:e.shiftID,shift_name:e.shiftForm.get("shiftName").value,grace_period:""==e.shiftForm.get("gracePeriod").value||null==e.shiftForm.get("gracePeriod").value?"0":e.shiftForm.get("gracePeriod").value,description:e.shiftForm.get("description").value,is_flexi:e.shiftForm.get("isFlexi").value,time_in:e.shiftForm.get("timeIn").value,time_out:e.shiftForm.get("timeOut").value,time_out_days_cover:""==e.shiftForm.get("daysCover").value||null==e.shiftForm.get("daysCover").value?"0":e.shiftForm.get("daysCover").value,total_working_hours:e.shiftForm.get("workingHrs").value,is_rd_mon:e.shiftForm.get("is_rd_mon").value,is_rd_tue:e.shiftForm.get("is_rd_tue").value,is_rd_wed:e.shiftForm.get("is_rd_wed").value,is_rd_thu:e.shiftForm.get("is_rd_thu").value,is_rd_fri:e.shiftForm.get("is_rd_fri").value,is_rd_sat:e.shiftForm.get("is_rd_sat").value,is_rd_sun:e.shiftForm.get("is_rd_sun").value,half_day_in:e.shiftForm.get("halfDayIn").value,half_day_in_days_cover:""==e.shiftForm.get("halfDayInDays").value||null==e.shiftForm.get("halfDayInDays").value?"0":e.shiftForm.get("halfDayInDays").value,half_day_out:e.shiftForm.get("halfDayOut").value,half_day_out_days_cover:""==e.shiftForm.get("halfDayOutDays").value||null==e.shiftForm.get("halfDayOutDays").value?"0":e.shiftForm.get("halfDayOutDays").value,night_dif_in:e.shiftForm.get("nightDiffIn").value,night_dif_in_days_cover:e.shiftForm.get("nightDiffInDays").value,night_dif_out:e.shiftForm.get("nightDiffOut").value,night_dif_out_days_cover:e.shiftForm.get("nightDiffOutDays").value,first_break_in:e.shiftForm.get("first_break_in").value,first_break_in_days_cover:e.shiftForm.get("first_break_in_days_cover").value,first_break_out:e.shiftForm.get("first_break_out").value,first_break_out_days_cover:e.shiftForm.get("first_break_out_days_cover").value,second_break_in:e.shiftForm.get("second_break_in").value,second_break_in_days_cover:e.shiftForm.get("second_break_in_days_cover").value,second_break_out:e.shiftForm.get("second_break_out").value,second_break_out_days_cover:e.shiftForm.get("second_break_out_days_cover").value,third_break_in:e.shiftForm.get("third_break_in").value,third_break_in_days_cover:e.shiftForm.get("third_break_in_days_cover").value,third_break_out:e.shiftForm.get("third_break_out").value,third_break_out_days_cover:e.shiftForm.get("third_break_out_days_cover").value,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")};e.shiftcodeManagementService.shiftIU(i).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"formValidation",value:function(){var e=!0;return this.errShiftName=!1,this.errDescription=!1,this.errTimeIn=!1,this.errTimeOut=!1,this.errHalfDayIn=!1,this.errHalfDayOut=!1,""!=this.shiftForm.get("shiftName").value&&null!=this.shiftForm.get("shiftName").value||(e=!1,this.errShiftName=!0),""!=this.shiftForm.get("description").value&&null!=this.shiftForm.get("description").value||(e=!1,this.errDescription=!0),""!=this.shiftForm.get("timeIn").value&&null!=this.shiftForm.get("timeIn").value||(e=!1,this.errTimeIn=!0),""!=this.shiftForm.get("timeOut").value&&null!=this.shiftForm.get("timeOut").value||(e=!1,this.errTimeOut=!0),""!=this.shiftForm.get("halfDayIn").value&&null!=this.shiftForm.get("halfDayIn").value||(e=!1,this.errHalfDayIn=!0),""!=this.shiftForm.get("halfDayOut").value&&null!=this.shiftForm.get("halfDayOut").value||(e=!1,this.errHalfDayOut=!0),e}}]),t}()).\u0275fac=function(e){return new(e||ct)(c.Lb(f.c),c.Lb(d.f),c.Lb(Se.a),c.Lb(u.a))},ct.\u0275cmp=c.Fb({type:ct,selectors:[["app-shiftcodes-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/shiftcodes-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-3"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","shiftName","placeholder","Shift Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","gracePeriod","placeholder","Grace Period",1,"form-control"],[1,"col-sm-4"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"col-sm-2"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","formControlName","isFlexi",1,"form-check-input",3,"change"],[1,"input-frame"],["popTimeIn",""],["type","text","formControlName","timeIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["popTimeOut",""],["type","text","formControlName","timeOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","daysCover","placeholder","Days Cover",1,"form-control",3,"change"],["type","text","formControlName","workingHrs","placeholder","Total Working Hr(s)",1,"form-control"],["popHalfDayIn",""],["type","text","formControlName","halfDayIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","halfDayInDays","placeholder","Days Cover",1,"form-control"],["popHalfDayOut",""],["type","text","formControlName","halfDayOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","halfDayOutDays","placeholder","Days Cover",1,"form-control"],["popNightDiffIn",""],["type","text","formControlName","nightDiffIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","nightDiffInDays","placeholder","Days Cover",1,"form-control"],["popNightDiffOut",""],["type","text","formControlName","nightDiffOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","nightDiffOutDays","placeholder","Days Cover",1,"form-control"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[1,"custom-control","custom-switch"],["formControlName","is_rd_sun","type","checkbox","id","cksunday",1,"custom-control-input"],["for","cksunday",1,"custom-control-label"],["formControlName","is_rd_mon","type","checkbox","id","ckmonday",1,"custom-control-input"],["for","ckmonday",1,"custom-control-label"],["formControlName","is_rd_tue","type","checkbox","id","cktuesday",1,"custom-control-input"],["for","cktuesday",1,"custom-control-label"],["formControlName","is_rd_wed","type","checkbox","id","ckwednesday",1,"custom-control-input"],["for","ckwednesday",1,"custom-control-label"],["formControlName","is_rd_thu","type","checkbox","id","ckthursday",1,"custom-control-input"],["for","ckthursday",1,"custom-control-label"],["formControlName","is_rd_fri","type","checkbox","id","ckfriday",1,"custom-control-input"],["for","ckfriday",1,"custom-control-label"],["formControlName","is_rd_sat","type","checkbox","id","cksaturday",1,"custom-control-input"],["for","cksaturday",1,"custom-control-label"],["popBreakIn",""],["type","text","formControlName","BreakIn","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],["type","text","formControlName","breakInDays","placeholder","Days Cover",1,"form-control"],["popBreakOut",""],["type","text","formControlName","BreakOut","placeholder","HH:MM AM/PM","placement","bottom",1,"form-control",3,"popover","outsideClick"],[1,"col-md-8"],["type","text","formControlName","breakOutDays","placeholder","Days Cover",1,"form-control"],[1,"col-md-4"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],[3,"ngModelOptions","ngModel","showMeridian","ngModelChange"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(c.Gc(0,Ne,3,0,"div",0),c.Gc(1,ot,241,32,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,f.b,f.i,f.d,f.a,xe.a,d.m,p.a,m.a,je.a,f.l],styles:[""]}),ct);function bt(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function lt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Ic(8),c.Qb(),c.Rb(9,"td"),c.Ic(10),c.Qb(),c.Rb(11,"td"),c.Ic(12),c.Qb(),c.Rb(13,"td"),c.Ic(14),c.Qb(),c.Rb(15,"td"),c.Rb(16,"button",22),c.bc("click",function(){c.xc(i);var e=t.$implicit;return c.dc(2).viewShift(e.shift_id)}),c.Mb(17,"i",23),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.shift_code),c.yb(2),c.Jc(a.shift_name),c.yb(2),c.Jc(a.time_in),c.yb(2),c.Jc(a.time_out),c.yb(2),c.Jc(a.description),c.yb(2),c.Jc(a.created_desc),c.yb(2),c.Jc(a.date_created)}}var dt=function(){return["/layout/administration/shiftcodes-detail"]};function ut(e,t){if(1&e&&(c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Shift Codes"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Shift Codes"),c.Qb(),c.Qb(),c.Rb(17,"div",15),c.Rb(18,"ul",16),c.Rb(19,"button",17),c.Mb(20,"i",18),c.Ic(21," Add Shift Codes "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(22,"hr"),c.Rb(23,"div",19),c.Rb(24,"table",20),c.Rb(25,"thead"),c.Rb(26,"tr"),c.Rb(27,"th"),c.Ic(28,"Shift Code"),c.Qb(),c.Rb(29,"th"),c.Ic(30,"Shift Name"),c.Qb(),c.Rb(31,"th"),c.Ic(32,"Time In"),c.Qb(),c.Rb(33,"th"),c.Ic(34,"Time Out"),c.Qb(),c.Rb(35,"th"),c.Ic(36,"Description"),c.Qb(),c.Rb(37,"th"),c.Ic(38,"Created By"),c.Qb(),c.Rb(39,"th"),c.Ic(40,"Date Created"),c.Qb(),c.Mb(41,"th"),c.Qb(),c.Qb(),c.Rb(42,"tbody"),c.Gc(43,lt,18,7,"tr",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(19),c.jc("routerLink",c.mc(4,dt)),c.yb(5),c.jc("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),c.yb(19),c.jc("ngForOf",i.table)}}var ht,ft=((ht=function(){function t(i,a){e(this,t),this.shiftcodeManagementService=i,this.router=a,this.isLoading=!0,this.table=[],this.dtOptions={},this.dtTrigger=new ie.a}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.shiftcodeManagementService.shiftView(0).subscribe(function(t){e.table=t.map(function(e){return{active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,shift_code:e.shift_code,shift_name:e.shift_name,time_in:e.time_in,time_out:e.time_out,shift_id:e.shift_id,description:e.description}}),e.isLoading=!1,setTimeout(function(){e.dtTrigger.next()},100)},function(e){console.log(e.error)})}},{key:"viewShift",value:function(e){this.router.navigate(["/layout/administration/shiftcodes-detail",e])}}]),t}()).\u0275fac=function(e){return new(e||ht)(c.Lb(Se.a),c.Lb(u.c))},ht.\u0275cmp=c.Fb({type:ht,selectors:[["app-shiftcodes-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(c.Gc(0,bt,3,0,"div",0),c.Gc(1,ut,44,5,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,u.d,p.a,re.a,d.m],styles:[""]}),ht),pt=["seriesModal"];function mt(e,t){1&e&&(c.Rb(0,"div",3),c.Rb(1,"div",4),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function vt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Ic(8),c.Qb(),c.Rb(9,"td"),c.Ic(10),c.Qb(),c.Rb(11,"td"),c.Ic(12),c.Qb(),c.Rb(13,"td"),c.Rb(14,"button",20),c.bc("click",function(){c.xc(i);var e=t.$implicit;return c.dc(2).editSeries(e.module_id)}),c.Mb(15,"i",21),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.module_name),c.yb(2),c.Jc(a.prefix),c.yb(2),c.Jc(a.year),c.yb(2),c.Jc(a.series),c.yb(2),c.Jc(a.length),c.yb(2),c.Jc(a.series_code)}}function gt(e,t){if(1&e&&(c.Rb(0,"div",5),c.Rb(1,"nav",6),c.Rb(2,"ol",7),c.Rb(3,"li",8),c.Rb(4,"a",9),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",10),c.Ic(7,"Series Code"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",11),c.Rb(9,"div",12),c.Rb(10,"div",13),c.Rb(11,"div",14),c.Rb(12,"div",15),c.Rb(13,"div",11),c.Rb(14,"div",16),c.Rb(15,"h6"),c.Ic(16,"Series Code"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(17,"hr"),c.Rb(18,"div",17),c.Rb(19,"table",18),c.Rb(20,"thead"),c.Rb(21,"tr"),c.Rb(22,"th"),c.Ic(23,"Transaction Type"),c.Qb(),c.Rb(24,"th"),c.Ic(25,"Prefix"),c.Qb(),c.Rb(26,"th"),c.Ic(27,"Year"),c.Qb(),c.Rb(28,"th"),c.Ic(29,"Series"),c.Qb(),c.Rb(30,"th"),c.Ic(31,"Length"),c.Qb(),c.Rb(32,"th"),c.Ic(33,"Code"),c.Qb(),c.Rb(34,"th"),c.Ic(35,"Action"),c.Qb(),c.Qb(),c.Qb(),c.Rb(36,"tbody"),c.Gc(37,vt,16,6,"tr",19),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(19),c.jc("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),c.yb(18),c.jc("ngForOf",i.table)}}function yt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",22),c.Rb(1,"h5",23),c.Ic(2),c.Qb(),c.Ic(3),c.Qb(),c.Rb(4,"div",24),c.Rb(5,"form",25),c.Rb(6,"div",11),c.Rb(7,"div",16),c.Rb(8,"div",26),c.Rb(9,"label",27),c.Ic(10,"Prefix"),c.Qb(),c.Rb(11,"input",28),c.bc("input",function(){return c.xc(i),c.dc().loadSeries()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(12,"div",16),c.Rb(13,"div",26),c.Rb(14,"label",27),c.Ic(15,"Year"),c.Qb(),c.Rb(16,"input",29),c.bc("input",function(){return c.xc(i),c.dc().loadSeries()}),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(17,"div",11),c.Rb(18,"div",16),c.Rb(19,"div",26),c.Rb(20,"label",27),c.Ic(21,"Series"),c.Qb(),c.Rb(22,"input",30),c.bc("input",function(){return c.xc(i),c.dc().loadSeries()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(23,"div",16),c.Rb(24,"div",26),c.Rb(25,"label",27),c.Ic(26,"Length"),c.Qb(),c.Rb(27,"input",31),c.bc("input",function(){return c.xc(i),c.dc().loadSeries()}),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(28,"div",32),c.Rb(29,"button",33),c.bc("click",function(){return t.$implicit.close("by: close button")}),c.Ic(30,"Close"),c.Qb(),c.Rb(31,"button",34),c.bc("click",function(){return t.$implicit.close("by: save button")})("click",function(){return c.xc(i),c.dc().submit()}),c.Ic(32,"Save changes"),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(2),c.Jc(a.transactionType),c.yb(1),c.Kc(" ",a.seriesCode," "),c.yb(2),c.jc("formGroup",a.seriesForm)}}var Rt,Qt=((Rt=function(){function t(i,a,r,n){e(this,t),this.tenantDefaultService=i,this.tenantMasterService=a,this.modalService=r,this.fb=n,this.isLoading=!0,this.seriesList=[],this.moduleList=[],this.table=[],this.dtOptions={},this.dtTrigger=new ie.a,this.seriesCode="",this.transactionType=""}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.seriesForm=this.fb.group({prefix:[""],year:[""],series:[""],length:[""]}),this.tenantDefaultService.seriesList().subscribe(function(t){e.table=t,setTimeout(function(){e.dtTrigger.next()},100),e.isLoading=!1},function(e){console.log(e.error)})}},{key:"editSeries",value:function(e){this.module_id=e,this.modalService.open(this.seriesModal);var t=this.table.filter(function(t){return t.module_id==e})[0];this.seriesCode=t.series_code,this.transactionType=t.module_name,this.seriesForm.setValue({prefix:t.prefix,year:t.year,series:t.series,length:t.length})}},{key:"loadSeries",value:function(){for(var e=""+this.seriesForm.get("series").value;e.length<this.seriesForm.get("length").value;)e="0"+e;e.length<=this.seriesForm.get("length").value&&(this.seriesCode=this.seriesForm.get("prefix").value+this.seriesForm.get("year").value+e)}},{key:"submit",value:function(){var e=this;o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading();var t={module_id:e.module_id,created_by:sessionStorage.getItem("u"),series:e.seriesForm.get("series").value,series_code:sessionStorage.getItem("sc"),prefix:e.seriesForm.get("prefix").value,year:e.seriesForm.get("year").value,length:e.seriesForm.get("length").value,active:!0};e.tenantDefaultService.seriesU(t).subscribe(function(t){0===t?o.a.fire("Failed!","Transaction failed!","error"):e.tenantDefaultService.seriesList().subscribe(function(t){e.seriesList=t,e.table=[];for(var i=0;i<e.seriesList.length;i++)e.table.push({module_id:e.seriesList[i].module_id,module_name:e.seriesList[i].module_name,prefix:e.seriesList[i].prefix,year:e.seriesList[i].year,series:e.seriesList[i].series,length:e.seriesList[i].length,series_code:e.seriesList[i].series_code});$("#dataTableExample").DataTable().destroy(),e.dtTrigger.next(),o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error)})},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}},{key:"ngOnDestroy",value:function(){this.dtTrigger.unsubscribe()}}]),t}()).\u0275fac=function(e){return new(e||Rt)(c.Lb(s.a),c.Lb(b.a),c.Lb(fe.j),c.Lb(f.c))},Rt.\u0275cmp=c.Fb({type:Rt,selectors:[["app-series-code"]],viewQuery:function(e,t){var i;1&e&&c.Nc(pt,!0),2&e&&c.uc(i=c.cc())&&(t.seriesModal=i.first)},decls:4,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["seriesModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"control-label"],["formControlName","prefix","type","text","placeholder","Prefix",1,"form-control",3,"input"],["formControlName","year","type","text","placeholder","Year",1,"form-control",3,"input"],["formControlName","series","type","text","placeholder","Series",1,"form-control",3,"input"],["formControlName","length","type","text","placeholder","Length",1,"form-control",3,"input"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(c.Gc(0,mt,3,0,"div",0),c.Gc(1,gt,38,3,"div",1),c.Gc(2,yt,33,3,"ng-template",null,2,c.Hc)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,re.a,d.m,f.s,f.j,f.e,f.b,f.i,f.d],styles:[""]}),Rt),_t=r("PdH4"),It=r.n(_t);function kt(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function Dt(e,t){1&e&&(c.Rb(0,"p",33),c.Ic(1,"Module is needed!"),c.Qb())}function Ct(e,t){1&e&&(c.Rb(0,"p",33),c.Ic(1,"Description is needed!"),c.Qb())}function Ft(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Rb(4,"div",34),c.Rb(5,"label",35),c.Rb(6,"input",36),c.bc("change",function(e){return c.xc(i),c.dc(2).checkChange(e)}),c.Qb(),c.Mb(7,"i",37),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.description),c.yb(4),c.kc("checked",!0===a.active?"true":""),c.kc("value",a.id)}}var Mt=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function wt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Dropdown Settings"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Dropdown Settings"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(17,"hr"),c.Rb(18,"div",10),c.Rb(19,"div",16),c.Rb(20,"form",17),c.Rb(21,"div",18),c.Rb(22,"div",19),c.Rb(23,"label",20),c.Ic(24,"Module"),c.Qb(),c.Rb(25,"ng-select",21),c.bc("change",function(){return c.xc(i),c.dc().moduleChange()}),c.Qb(),c.Gc(26,Dt,2,0,"p",22),c.Qb(),c.Rb(27,"div",19),c.Rb(28,"label",23),c.Ic(29,"Description"),c.Qb(),c.Mb(30,"input",24),c.Gc(31,Ct,2,0,"p",22),c.Qb(),c.Qb(),c.Qb(),c.Rb(32,"ul",25),c.Rb(33,"button",26),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(34,"i",27),c.Ic(35," Save Changes "),c.Qb(),c.Rb(36,"button",28),c.Ic(37," Click here! "),c.Qb(),c.Qb(),c.Qb(),c.Rb(38,"div",29),c.Rb(39,"div",30),c.Rb(40,"table",31),c.Rb(41,"thead"),c.Rb(42,"tr"),c.Rb(43,"th"),c.Ic(44,"Description"),c.Qb(),c.Rb(45,"th"),c.Ic(46,"Active"),c.Qb(),c.Mb(47,"th"),c.Qb(),c.Qb(),c.Rb(48,"tbody"),c.Gc(49,Ft,8,3,"tr",32),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(20),c.jc("formGroup",a.dropdownForm),c.yb(5),c.jc("items",a.moduleType),c.yb(1),c.jc("ngIf",a.errModule),c.yb(5),c.jc("ngIf",a.errDescription),c.yb(5),c.jc("swal",c.mc(6,Mt)),c.yb(13),c.jc("ngForOf",a.table)}}var Bt,Tt=((Bt=function(){function t(i,a,r){e(this,t),this.tenantMasterService=i,this.tenantDefaultService=a,this.fb=r,this.isLoading=!1,this.disSubmit=!1,this.errDescription=!1,this.errModule=!1,this.submitText="Proceed",this.moduleType=[],this.table=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.dropdownForm=this.fb.group({description:[""],selectedModule:[null],createdBy:sessionStorage.getItem("user")}),this.tenantMasterService.dropdownFixType().subscribe(function(t){e.moduleType=t,e.isLoading=!1},function(e){console.log(e.error)})}},{key:"moduleChange",value:function(){var e=this;this.table=[],this.dropdownForm.get("description").setValue(""),this.tenantDefaultService.dropdownTAList(this.dropdownForm.get("selectedModule").value).subscribe(function(t){e.table=t},function(e){console.log(e.error)})}},{key:"checkChange",value:function(e){var t=this,i=this.table.filter(function(t){return t.id==e.target.value})[0],a={dropdown_id:i.id,dropdown_type_id:i.type_id,dropdown_description:i.description,created_by:sessionStorage.getItem("u"),active:e.target.checked,series_code:sessionStorage.getItem("sc"),company_id:sessionStorage.getItem("ci")};this.tenantDefaultService.dropdownIU(a).subscribe(function(e){t.tenantDefaultService.dropdownTAList(t.dropdownForm.get("selectedModule").value).subscribe(function(e){t.table=e},function(e){console.log(e.error)})},function(e){console.log(e.error),It.a.fire("Failed!","Transaction failed!","error")})}},{key:"validation",value:function(){var e=!0;return this.errDescription=!1,""!==this.dropdownForm.get("selectedModule").value&&null!==this.dropdownForm.get("selectedModule").value||(e=!1,this.errModule=!0),""!==this.dropdownForm.get("description").value&&null!==this.dropdownForm.get("description").value||(e=!1,this.errDescription=!0),e}},{key:"submit",value:function(){var e=this;this.validation()&&It.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&It.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){It.a.showLoading();var t={dropdown_id:"0",dropdown_type_id:e.moduleType.filter(function(t){return t.id===e.dropdownForm.get("selectedModule").value})[0].id,dropdown_description:e.dropdownForm.get("description").value,active:!0,series_code:sessionStorage.getItem("sc"),company_id:sessionStorage.getItem("ci"),created_by:sessionStorage.getItem("u")};e.tenantDefaultService.dropdownIU(t).subscribe(function(t){"0"===t.dropdown_id?It.a.fire("Failed!","Transaction failed!","error"):(It.a.fire("Ok!","Transaction successful!","success"),e.tenantDefaultService.dropdownTAList(e.dropdownForm.get("selectedModule").value).subscribe(function(t){e.table=[],e.table=t,e.dropdownForm.get("description").setValue("")}))},function(e){console.log(e.error),It.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||Bt)(c.Lb(b.a),c.Lb(s.a),c.Lb(f.c))},Bt.\u0275cmp=c.Fb({type:Bt,selectors:[["app-dropdown-settings"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"col-lg-3","email-aside","border-lg-right"],[3,"formGroup"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","industry","bindLabel","description","bindValue","id","placeholder","Select Module","formControlName","selectedModule",3,"items","change"],["class","text-danger mt-1",4,"ngIf"],["for","exampleInputUsername1"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9","email-content"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"text-danger","mt-1"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","value","change"],[1,"input-frame"]],template:function(e,t){1&e&&(c.Gc(0,kt,3,0,"div",0),c.Gc(1,wt,50,7,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,h.a,f.i,f.d,f.b,p.a,m.a,d.m],styles:[""]}),Bt),Ot=r("mkVx"),Lt=["sequenceModal"];function St(e,t){1&e&&(c.Rb(0,"div",3),c.Rb(1,"div",4),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function xt(e,t){1&e&&c.Mb(0,"aw-wizard-step",43)}function jt(e,t){1&e&&c.Mb(0,"aw-wizard-step",44),2&e&&(c.kc("stepTitle",t.$implicit.status),c.jc("awCompletedStep",!0))}function Nt(e,t){if(1&e&&(c.Rb(0,"ng-option",45),c.Ic(1),c.Qb()),2&e){var i=t.$implicit;c.jc("value",i.index),c.yb(1),c.Jc(i.status)}}function Gt(e,t){if(1&e&&(c.Rb(0,"li",52),c.Ic(1),c.Qb()),2&e){var i=t.$implicit;c.yb(1),c.Jc(i.display_name)}}function Pt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",17),c.Rb(1,"div",13),c.Rb(2,"div",46),c.Rb(3,"div",11),c.Rb(4,"div",47),c.Ic(5),c.Qb(),c.Rb(6,"div",47),c.Rb(7,"button",48),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(2).removeStatus(e)}),c.Rb(8,"span",49),c.Ic(9,"\xd7"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(10,"div",14),c.Rb(11,"ul",50),c.Gc(12,Gt,2,1,"li",51),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(5),c.Kc(" ",a.status," "),c.yb(7),c.jc("ngForOf",a.DetailRequest)}}var Ht=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function At(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",5),c.Rb(1,"nav",6),c.Rb(2,"ol",7),c.Rb(3,"li",8),c.Rb(4,"a",9),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",10),c.Ic(7,"Approval Process"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",11),c.Rb(9,"div",12),c.Rb(10,"div",13),c.Rb(11,"div",14),c.Rb(12,"div",15),c.Rb(13,"h6"),c.Ic(14,"Approval Process"),c.Qb(),c.Qb(),c.Rb(15,"form",16),c.Rb(16,"div",11),c.Rb(17,"div",17),c.Rb(18,"div",18),c.Rb(19,"label",19),c.Ic(20,"Approval Group"),c.Qb(),c.Mb(21,"ng-select",20),c.Qb(),c.Qb(),c.Rb(22,"div",21),c.Rb(23,"div",18),c.Rb(24,"label",19),c.Ic(25,"Module"),c.Qb(),c.Rb(26,"ng-select",22),c.bc("change",function(){return c.xc(i),c.dc().selectAll()}),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(27,"div",11),c.Rb(28,"div",23),c.Rb(29,"div",24),c.Rb(30,"button",25),c.bc("click",function(){return c.xc(i),c.dc().openSequenceModal()}),c.Mb(31,"i",26),c.Ic(32," View Sequence "),c.Qb(),c.Ic(33," \xa0 "),c.Rb(34,"button",25),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(35,"i",27),c.Ic(36," Save Changes "),c.Qb(),c.Mb(37,"button",28),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(38,"hr"),c.Rb(39,"form",16),c.Rb(40,"div",11),c.Rb(41,"div",29),c.Rb(42,"div",18),c.Rb(43,"label",30),c.Ic(44,"Status"),c.Qb(),c.Mb(45,"input",31),c.Rb(46,"p",32),c.Ic(47),c.Qb(),c.Qb(),c.Rb(48,"ul",33),c.Rb(49,"button",34),c.bc("click",function(){return c.xc(i),c.dc().addStatus()}),c.Mb(50,"i",27),c.Ic(51," Add "),c.Qb(),c.Qb(),c.Qb(),c.Rb(52,"div",35),c.Rb(53,"aw-wizard",36),c.Gc(54,xt,1,0,"aw-wizard-step",37),c.Gc(55,jt,1,2,"aw-wizard-step",38),c.Qb(),c.Qb(),c.Qb(),c.Mb(56,"hr"),c.Qb(),c.Rb(57,"form",16),c.Rb(58,"div",11),c.Rb(59,"div",29),c.Rb(60,"div",18),c.Rb(61,"label",30),c.Ic(62,"Status"),c.Qb(),c.Rb(63,"ng-select",39),c.bc("change",function(e){return c.xc(i),c.dc().changeStatus(e)}),c.Gc(64,Nt,2,2,"ng-option",40),c.Qb(),c.Rb(65,"p",32),c.Ic(66),c.Qb(),c.Qb(),c.Rb(67,"div",18),c.Rb(68,"label",30),c.Ic(69,"Employee"),c.Qb(),c.Mb(70,"ng-select",41),c.Rb(71,"p",32),c.Ic(72),c.Qb(),c.Qb(),c.Rb(73,"ul",33),c.Rb(74,"button",34),c.bc("click",function(){return c.xc(i),c.dc().addEmployee()}),c.Mb(75,"i",27),c.Ic(76," Add "),c.Qb(),c.Qb(),c.Qb(),c.Rb(77,"div",35),c.Rb(78,"div",11),c.Gc(79,Pt,13,2,"div",42),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(15),c.jc("formGroup",a.headerForm),c.yb(6),c.jc("items",a.approvalList),c.yb(5),c.jc("items",a.moduleList)("multiple",!0)("searchable",!0),c.yb(11),c.jc("swal",c.mc(16,Ht)),c.yb(2),c.jc("formGroup",a.approvalForm),c.yb(8),c.Jc(a.errStatus),c.yb(7),c.jc("ngIf",a.defaultStatus),c.yb(1),c.jc("ngForOf",a.statusList),c.yb(2),c.jc("formGroup",a.employeeForm),c.yb(7),c.jc("ngForOf",a.statusList),c.yb(2),c.Jc(a.errSelectStatus),c.yb(4),c.jc("items",a.employeeList),c.yb(2),c.Jc(a.errEmployee),c.yb(7),c.jc("ngForOf",a.statusList)}}function Vt(e,t){if(1&e&&(c.Rb(0,"li",52),c.Ic(1),c.Qb()),2&e){var i=t.$implicit;c.yb(1),c.Jc(i.display_name)}}function Et(e,t){if(1&e&&(c.Rb(0,"div",17),c.Rb(1,"div",13),c.Rb(2,"div",46),c.Rb(3,"div",11),c.Ic(4),c.Qb(),c.Qb(),c.Rb(5,"div",14),c.Rb(6,"ul",50),c.Gc(7,Vt,2,1,"li",51),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=t.$implicit;c.yb(4),c.Kc(" ",i.status," "),c.yb(3),c.jc("ngForOf",i.approver)}}function Ut(e,t){if(1&e&&(c.Rb(0,"div",23),c.Rb(1,"p"),c.Ic(2),c.Qb(),c.Rb(3,"div",11),c.Gc(4,Et,8,2,"div",42),c.Qb(),c.Mb(5,"hr"),c.Qb()),2&e){var i=t.$implicit;c.yb(2),c.Jc(i.module_name),c.yb(2),c.jc("ngForOf",i.status)}}function $t(e,t){if(1&e&&(c.Rb(0,"div",53),c.Rb(1,"h5",54),c.Ic(2,"Approval Sequence"),c.Qb(),c.Rb(3,"button",48),c.bc("click",function(){return t.$implicit.close("by: close icon")}),c.Rb(4,"span",49),c.Ic(5,"\xd7"),c.Qb(),c.Qb(),c.Qb(),c.Rb(6,"div",55),c.Rb(7,"div",11),c.Gc(8,Ut,6,2,"div",56),c.Qb(),c.Qb(),c.Rb(9,"div",57),c.Rb(10,"button",58),c.bc("click",function(){return t.$implicit.close("by: close button")}),c.Ic(11,"Close"),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(8),c.jc("ngForOf",i.sequenceList)}}var Jt,Wt=((Jt=function(){function t(i,a,r,n,o){e(this,t),this.fb=i,this.userManagementService=a,this.tenantDefaultService=r,this.tenantMasterService=n,this.modalService=o,this.isLoading=!0,this.defaultStatus=!0,this.statusList=[],this.employeeList=[],this.approvalList=[],this.moduleList=[],this.allModule=[],this.errStatus="",this.errSelectStatus="",this.errEmployee="",this.sequenceList=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.headerForm=this.fb.group({selectedApprovalGroup:[null],selectedModule:null}),this.approvalForm=this.fb.group({status:[""]}),this.employeeForm=this.fb.group({status:[""],selectedStatus:[null],selectedEmployee:[null]}),this.userManagementService.employeeList().subscribe(function(t){e.employeeList=t,e.tenantDefaultService.dropdownTList("17").subscribe(function(t){e.approvalList=t,e.tenantMasterService.moduleList().subscribe(function(t){e.moduleList=t;for(var i=0;i<t.length;i++)0!==t[i].module_id&&e.allModule.push(t[i].module_id);e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"selectAll",value:function(){for(var e=this.headerForm.get("selectedModule").value,t=!1,i=0;i<e.length;i++)0===e[i]&&(t=!0);t&&this.headerForm.controls.selectedModule.setValue(this.allModule)}},{key:"validateStatus",value:function(){var e=!0;this.errStatus="",this.errSelectStatus="",this.errEmployee="",""!==this.approvalForm.get("status").value&&null!==this.approvalForm.get("status").value||(e=!1,this.errStatus="Input Status!");for(var t=0;t<this.statusList.length;t++)this.approvalForm.get("status").value===this.statusList[t].status&&(e=!1,this.errStatus="Duplicate Status!");return e}},{key:"addStatus",value:function(){this.validateStatus()&&(this.defaultStatus=!1,this.statusList.push({index:this.statusList.length,status:this.approvalForm.get("status").value,DetailRequest:[]}),this.approvalForm.reset())}},{key:"removeStatus",value:function(e){this.statusList.splice(e,1)}},{key:"validateEmployee",value:function(){var e=!0;this.errStatus="",this.errSelectStatus="",this.errEmployee="";var t=this.employeeForm.get("selectedEmployee").value;if(""===this.employeeForm.get("selectedStatus").value||null===this.employeeForm.get("selectedStatus").value)e=!1,this.errSelectStatus="Select Status!";else if(""===this.employeeForm.get("selectedEmployee").value||null===this.employeeForm.get("selectedEmployee").value)e=!1,this.errEmployee="Select Employee!";else{var i=this.statusList[this.selectedIndex].status;this.statusList.forEach(function(a){for(var r=0;r<a.DetailRequest.length;r++)t===a.DetailRequest[r].approver_id&&i===a.status&&(e=!1)}),e||(this.errEmployee="Duplicate Employee!")}return e}},{key:"addEmployee",value:function(){var e=this;if(this.validateEmployee()){var t=this.employeeList.filter(function(t){return t.employee_id===e.employeeForm.get("selectedEmployee").value})[0];this.statusList[this.selectedIndex].DetailRequest.push({approver_id:this.employeeForm.get("selectedEmployee").value,display_name:t.display_name}),this.employeeForm.reset()}}},{key:"changeStatus",value:function(e){this.selectedIndex=e}},{key:"openSequenceModal",value:function(){for(var e=this,t=this.headerForm.get("selectedModule").value,i="",a=[],r=0;r<t.length;r++)0!==t[r]&&(i+=t[r]+",");this.tenantDefaultService.approvalSequenceList(i,this.headerForm.get("selectedApprovalGroup").value).subscribe(function(t){for(var i=0;i<t.length;i++){for(var r=[],n=0;n<t[i].statusRequest.length;n++){for(var o=[],c=0;c<t[i].statusRequest[n].detailRequest.length;c++){var s=t[i].statusRequest[n].detailRequest[c].approver_id;o.push({display_name:e.employeeList.filter(function(e){return e.employee_id===s})[0].display_name})}r.push({status:t[i].statusRequest[n].status,approver:o})}a.push({module_name:e.moduleList.filter(function(e){return e.module_id===t[i].module_id})[0].module_name,status:r})}e.sequenceList=a,e.modalService.open(e.sequenceModal,{size:"lg"})})}},{key:"validation",value:function(){return!0}},{key:"submit",value:function(){var e=this;this.validation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading();for(var t=[],i=e.headerForm.controls.selectedModule.value,a=0;a<i.length;a++)t.push({module_id:i[a],approval_level_id:e.headerForm.controls.selectedApprovalGroup.value,created_by:sessionStorage.getItem("u"),series_code:sessionStorage.getItem("sc"),StatusRequest:e.statusList});e.tenantDefaultService.approvalIU(t).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){o.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||Jt)(c.Lb(f.c),c.Lb(ae.a),c.Lb(s.a),c.Lb(b.a),c.Lb(fe.j))},Jt.\u0275cmp=c.Fb({type:Jt,selectors:[["app-approval-process"]],viewQuery:function(e,t){var i;1&e&&c.Nc(Lt,!0),2&e&&c.uc(i=c.cc())&&(t.sequenceModal=i.first)},decls:4,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],["sequenceModal",""],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-md-4"],[1,"form-group"],[1,"form-label"],["name","Approval Group","bindLabel","description","bindValue","id","placeholder","Select Approval Group","formControlName","selectedApprovalGroup",3,"items"],[1,"col-md-8"],["name","Module","bindLabel","module_name","bindValue","module_id","placeholder","Select Module","formControlName","selectedModule",3,"items","multiple","searchable","change"],[1,"col-md-12"],[1,"text-right"],["type","button",1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","search","appFeatherIcon","",1,"btn-icon-prepend"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-3","border-right"],[1,"control-label"],["type","text","formControlName","status","placeholder","Status",1,"form-control"],[1,"text-danger","mt-1"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],[1,"col-9"],[3,"awNavigationMode"],["stepTitle","None",4,"ngIf"],[3,"awCompletedStep","stepTitle",4,"ngFor","ngForOf"],["formControlName","selectedStatus",3,"change"],[3,"value",4,"ngFor","ngForOf"],["name","Employee","bindLabel","display_name","bindValue","employee_id","placeholder","Select Employee","formControlName","selectedEmployee",3,"items"],["class","col-md-4",4,"ngFor","ngForOf"],["stepTitle","None"],[3,"awCompletedStep","stepTitle"],[3,"value"],["id","newsHeading",1,"card-header","container-fluid"],[1,"col"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(c.Gc(0,St,3,0,"div",0),c.Gc(1,At,80,17,"div",1),c.Gc(2,$t,12,1,"ng-template",null,2,c.Hc)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,h.a,f.i,f.d,p.a,m.a,f.b,Ot.f,Ot.c,d.m,Ot.g,Ot.b,h.c],styles:[""]}),Jt),Yt=r("EAui");function qt(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function zt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Rb(4,"div",31),c.Rb(5,"label",32),c.Rb(6,"input",33),c.bc("change",function(e){return c.xc(i),c.dc(2).checkChange(e)}),c.Qb(),c.Mb(7,"i",34),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.description),c.yb(4),c.kc("checked",!0===a.active?"true":""),c.kc("value",a.param_id)}}var Zt=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function Kt(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Module Access"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"form",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",15),c.Rb(14,"div",11),c.Rb(15,"div",16),c.Rb(16,"h6"),c.Ic(17,"Module Access"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(18,"hr"),c.Rb(19,"div",11),c.Rb(20,"div",17),c.Rb(21,"div",18),c.Rb(22,"div",19),c.Rb(23,"label",20),c.Ic(24,"Module"),c.Qb(),c.Rb(25,"ng-select",21),c.bc("change",function(){return c.xc(i),c.dc().onChange()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(26,"div",18),c.Rb(27,"div",19),c.Rb(28,"label",20),c.Ic(29,"Access Type"),c.Qb(),c.Rb(30,"ng-select",22),c.bc("change",function(){return c.xc(i),c.dc().onChange()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(31,"ul",23),c.Rb(32,"button",24),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(33,"i",25),c.Ic(34," Save Changes "),c.Qb(),c.Mb(35,"button",26),c.Qb(),c.Qb(),c.Rb(36,"div",27),c.Rb(37,"div",28),c.Rb(38,"table",29),c.Rb(39,"thead"),c.Rb(40,"tr"),c.Rb(41,"th"),c.Ic(42,"Module Name"),c.Qb(),c.Rb(43,"th"),c.Ic(44,"Active"),c.Qb(),c.Qb(),c.Qb(),c.Rb(45,"tbody"),c.Gc(46,zt,8,3,"tr",30),c.Qb(),c.Rb(47,"tfoot"),c.Rb(48,"tr"),c.Mb(49,"th"),c.Mb(50,"th"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(8),c.jc("formGroup",a.moduleAccessForm),c.yb(17),c.jc("items",a.moduleType),c.yb(5),c.jc("items",a.accessType),c.yb(5),c.jc("swal",c.mc(5,Zt)),c.yb(11),c.jc("ngForOf",a.table)}}var Xt,ei=((Xt=function(){function t(i,a,r,n){e(this,t),this.tenantMasterService=i,this.tenantDefaultService=a,this.permissionManagementService=r,this.fb=n,this.isLoading=!0,this.moduleType=[],this.accessType=[],this.table=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.moduleAccessForm=this.fb.group({selectedModule:[null],selectedAccess:[null]}),this.tenantMasterService.dropdownList("13").subscribe(function(t){e.moduleType=t,e.tenantDefaultService.dropdownTList("14").subscribe(function(t){e.accessType=t,e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"onChange",value:function(){var e=this,t=!0;if(""!==this.moduleAccessForm.get("selectedModule").value&&null!==this.moduleAccessForm.get("selectedModule").value||(t=!1),""!==this.moduleAccessForm.get("selectedAccess").value&&null!==this.moduleAccessForm.get("selectedAccess").value||(t=!1),!0===t)switch(this.moduleAccessForm.get("selectedModule").value){case 33:this.permissionManagementService.dataUploadList(this.moduleAccessForm.get("selectedAccess").value).subscribe(function(t){e.showTable(t)},function(e){console.log(e.error)});break;case 31:this.permissionManagementService.moduleList(this.moduleAccessForm.get("selectedAccess").value).subscribe(function(t){e.showTable(t)},function(e){console.log(e.error)});break;case 32:this.permissionManagementService.reportList(this.moduleAccessForm.get("selectedAccess").value).subscribe(function(t){e.showTable(t)},function(e){console.log(e.error)})}}},{key:"showTable",value:function(e){switch(this.moduleAccessForm.get("selectedModule").value){case 33:this.table=e.map(function(e){return{data_upload_id:e.data_upload_id,description:e.data_upload_name,active:e.active,access_level_id:e.int_access_level_id,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),param_id:e.data_upload_id}});break;case 31:this.table=e.map(function(e){return{module_id:e.module_id,description:e.module_name,active:e.active,access_level_id:e.int_access_level_id,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),param_id:e.module_id}});break;case 32:console.log(e),this.table=e.map(function(e){return{report_id:e.report_id,description:e.report_name,active:e.active,access_level_id:e.int_access_level_id,series_code:sessionStorage.getItem("sc"),created_by:sessionStorage.getItem("u"),param_id:e.report_id}})}}},{key:"checkChange",value:function(e){switch(this.moduleAccessForm.get("selectedModule").value){case 33:this.table[this.table.findIndex(function(t){return t.data_upload_id==e.target.value})].active=e.target.checked;break;case 31:this.table[this.table.findIndex(function(t){return t.module_id==e.target.value})].active=e.target.checked;break;case 32:this.table[this.table.findIndex(function(t){return t.report_id==e.target.value})].active=e.target.checked}}},{key:"submit",value:function(){var e=this;o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){switch(o.a.showLoading(),e.moduleAccessForm.get("selectedModule").value){case 33:e.permissionManagementService.dataUploadIn(e.table.filter(function(e){return!0===e.active})).subscribe(function(e){0===e.data_upload_id?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")});break;case 31:e.permissionManagementService.moduleIn(e.table.filter(function(e){return!0===e.active})).subscribe(function(e){0===e.module_id?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")});break;case 32:e.permissionManagementService.reportIn(e.table.filter(function(e){return!0===e.active})).subscribe(function(e){0===e.report_id?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}}})})}}]),t}()).\u0275fac=function(e){return new(e||Xt)(c.Lb(b.a),c.Lb(s.a),c.Lb(Yt.a),c.Lb(f.c))},Xt.\u0275cmp=c.Fb({type:Xt,selectors:[["app-module-access"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[3,"formGroup"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"col-lg-3","email-aside","border-lg-right"],[1,"aside-content"],[1,"form-group"],[1,"control-label"],["name","industry","bindLabel","description","bindValue","id","placeholder","Select Module","formControlName","selectedModule",3,"items","change"],["name","industry","bindLabel","description","bindValue","id","placeholder","Select Access type","formControlName","selectedAccess",3,"items","change"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"col-lg-9","email-content"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngFor","ngForOf"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","value","change"],[1,"input-frame"]],template:function(e,t){1&e&&(c.Gc(0,qt,3,0,"div",0),c.Gc(1,Kt,51,6,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,h.a,f.i,f.d,p.a,m.a,d.m],styles:[""]}),Xt);function ti(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function ii(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Rb(2,"button",23),c.bc("click",function(){c.xc(i);var e=t.$implicit;return c.dc(2).viewBranch(e.branch_id)}),c.Mb(3,"i",24),c.Qb(),c.Qb(),c.Rb(4,"td"),c.Ic(5),c.Qb(),c.Rb(6,"td"),c.Ic(7),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(5),c.Jc(a.branch_code),c.yb(2),c.Jc(a.branchName)}}var ai=function(){return["/layout/administration/branch-detail"]};function ri(e,t){if(1&e&&(c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Branch"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Branch"),c.Qb(),c.Qb(),c.Rb(17,"div",15),c.Rb(18,"ul",16),c.Rb(19,"button",17),c.Mb(20,"i",18),c.Ic(21," Add Branch "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(22,"hr"),c.Rb(23,"div",19),c.Rb(24,"table",20,21),c.Rb(26,"thead"),c.Rb(27,"tr"),c.Mb(28,"th"),c.Rb(29,"th"),c.Ic(30,"Branch Code"),c.Qb(),c.Rb(31,"th"),c.Ic(32,"Branch Name"),c.Qb(),c.Qb(),c.Qb(),c.Rb(33,"tbody"),c.Gc(34,ii,8,2,"tr",22),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(19),c.jc("routerLink",c.mc(2,ai)),c.yb(15),c.jc("ngForOf",i.branchList)}}var ni,oi=((ni=function(){function t(i,a){e(this,t),this.branchService=i,this.router=a,this.isLoading=!0,this.branchList=[],this.dtTrigger=new ie.a}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.branchService.branchView("0").subscribe(function(t){e.branchList=t,document.querySelector("#myTable"),e.isLoading=!1},function(e){console.log(e.error)})}},{key:"ngOnDestroy",value:function(){this.dtTrigger.unsubscribe()}},{key:"viewBranch",value:function(e){this.router.navigate(["/layout/administration/branch-detail",e])}}]),t}()).\u0275fac=function(e){return new(e||ni)(c.Lb(ue.a),c.Lb(u.c))},ni.\u0275cmp=c.Fb({type:ni,selectors:[["app-branch-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["datatable","",1,"row-border","hover"],["myTable",""],[4,"ngFor","ngForOf"],["type","button","title","Remove",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit"]],template:function(e,t){1&e&&(c.Gc(0,ti,3,0,"div",0),c.Gc(1,ri,35,3,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,u.d,p.a,re.a,d.m],styles:[""]}),ni),ci=r("tmjD");function si(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function bi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Branch Name is needed!"),c.Qb())}function li(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Industry is needed!"),c.Qb())}function di(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Bank is needed!"),c.Qb())}function ui(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Bank is needed!"),c.Qb())}function hi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Zip Code is needed!"),c.Qb())}function fi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Region is needed!"),c.Qb())}function pi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Province is needed!"),c.Qb())}function mi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"City is needed!"),c.Qb())}function vi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Country is needed!"),c.Qb())}function gi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"SSS is needed!"),c.Qb())}function yi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Philhealth is needed!"),c.Qb())}function Ri(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"TIN is needed!"),c.Qb())}function Qi(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Pagibig is needed!"),c.Qb())}function _i(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"RDO is needed!"),c.Qb())}function Ii(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Branch is needed!"),c.Qb())}function ki(e,t){1&e&&(c.Rb(0,"p",66),c.Ic(1,"Email Address is not valid!"),c.Qb())}function Di(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Rb(6,"button",67),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(2).removePhone(e)}),c.Mb(7,"i",68),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.description),c.yb(2),c.Jc(a.number)}}function Ci(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Rb(6,"button",67),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(2).removeEmail(e)}),c.Mb(7,"i",68),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.description),c.yb(2),c.Jc(a.email_address)}}function Fi(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Rb(4,"button",67),c.bc("click",function(){c.xc(i);var e=t.index;return c.dc(2).removeIP(e)}),c.Mb(5,"i",68),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.description)}}var Mi=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function wi(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",7),c.Rb(7,"a",9),c.Ic(8,"Branch"),c.Qb(),c.Qb(),c.Rb(9,"li",10),c.Ic(10,"Detail"),c.Qb(),c.Qb(),c.Qb(),c.Rb(11,"div",11),c.Rb(12,"div",12),c.Rb(13,"form",13),c.Rb(14,"div",14),c.Rb(15,"div",15),c.Rb(16,"h6",16),c.Ic(17,"Branch Information"),c.Qb(),c.Rb(18,"div",11),c.Rb(19,"div",17),c.Rb(20,"div",18),c.Rb(21,"label",19),c.Ic(22,"Branch Name"),c.Qb(),c.Mb(23,"input",20),c.Gc(24,bi,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(25,"div",17),c.Rb(26,"div",18),c.Rb(27,"label",19),c.Ic(28,"Industry"),c.Qb(),c.Mb(29,"ng-select",22),c.Gc(30,li,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(31,"div",11),c.Rb(32,"div",17),c.Rb(33,"div",18),c.Rb(34,"label",19),c.Ic(35,"Bank"),c.Qb(),c.Mb(36,"ng-select",23),c.Gc(37,di,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(38,"div",17),c.Rb(39,"div",18),c.Rb(40,"label",19),c.Ic(41,"Bank Account"),c.Qb(),c.Mb(42,"input",24),c.Gc(43,ui,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(44,"hr"),c.Rb(45,"div",14),c.Rb(46,"div",15),c.Rb(47,"div",16),c.Ic(48,"Branch Address"),c.Qb(),c.Rb(49,"div",11),c.Rb(50,"div",25),c.Rb(51,"div",18),c.Rb(52,"label",19),c.Ic(53,"Zip Code"),c.Qb(),c.Mb(54,"input",26),c.Gc(55,hi,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(56,"div",27),c.Rb(57,"div",18),c.Rb(58,"label",19),c.Ic(59,"Unit/Flr#"),c.Qb(),c.Mb(60,"input",28),c.Qb(),c.Qb(),c.Rb(61,"div",29),c.Rb(62,"div",18),c.Rb(63,"label",19),c.Ic(64,"Building"),c.Qb(),c.Mb(65,"input",30),c.Qb(),c.Qb(),c.Rb(66,"div",29),c.Rb(67,"div",18),c.Rb(68,"label",19),c.Ic(69,"Street"),c.Qb(),c.Mb(70,"input",31),c.Qb(),c.Qb(),c.Rb(71,"div",29),c.Rb(72,"div",18),c.Rb(73,"label",19),c.Ic(74,"Barangay"),c.Qb(),c.Mb(75,"input",32),c.Qb(),c.Qb(),c.Qb(),c.Rb(76,"div",11),c.Rb(77,"div",29),c.Rb(78,"div",18),c.Rb(79,"label",19),c.Ic(80,"Region"),c.Qb(),c.Rb(81,"ng-select",33),c.bc("change",function(){return c.xc(i),c.dc().selectBranchRegion()}),c.Qb(),c.Gc(82,fi,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(83,"div",29),c.Rb(84,"div",18),c.Rb(85,"label",19),c.Ic(86,"Province"),c.Qb(),c.Mb(87,"ng-select",34),c.Gc(88,pi,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(89,"div",29),c.Rb(90,"div",18),c.Rb(91,"label",19),c.Ic(92,"City"),c.Qb(),c.Mb(93,"ng-select",35),c.Gc(94,mi,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(95,"div",29),c.Rb(96,"div",18),c.Rb(97,"label",19),c.Ic(98,"Country"),c.Qb(),c.Mb(99,"ng-select",36),c.Gc(100,vi,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(101,"hr"),c.Rb(102,"div",14),c.Rb(103,"div",15),c.Rb(104,"div",16),c.Ic(105,"Government Information"),c.Qb(),c.Rb(106,"div",11),c.Rb(107,"div",17),c.Rb(108,"div",18),c.Rb(109,"label",19),c.Ic(110,"SSS"),c.Qb(),c.Mb(111,"input",37),c.Gc(112,gi,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(113,"div",17),c.Rb(114,"div",18),c.Rb(115,"label",19),c.Ic(116,"Philhealth"),c.Qb(),c.Mb(117,"input",38),c.Gc(118,yi,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(119,"div",11),c.Rb(120,"div",17),c.Rb(121,"div",18),c.Rb(122,"label",19),c.Ic(123,"TIN"),c.Qb(),c.Mb(124,"input",39),c.Gc(125,Ri,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(126,"div",17),c.Rb(127,"div",18),c.Rb(128,"label",19),c.Ic(129,"Pagibig"),c.Qb(),c.Mb(130,"input",40),c.Gc(131,Qi,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(132,"div",11),c.Rb(133,"div",25),c.Rb(134,"div",18),c.Rb(135,"label",19),c.Ic(136,"RDO"),c.Qb(),c.Rb(137,"ng-select",41),c.bc("change",function(){return c.xc(i),c.dc().selectRdoOffice()}),c.Qb(),c.Gc(138,_i,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(139,"div",42),c.Rb(140,"div",18),c.Rb(141,"label",19),c.Ic(142,"\xa0"),c.Qb(),c.Rb(143,"ng-select",43),c.bc("change",function(){return c.xc(i),c.dc().selectRdoBranch()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(144,"div",25),c.Rb(145,"div",18),c.Rb(146,"label",19),c.Ic(147,"Branch"),c.Qb(),c.Rb(148,"ng-select",44),c.bc("change",function(){return c.xc(i),c.dc().selectPBranch()}),c.Qb(),c.Gc(149,Ii,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(150,"div",25),c.Rb(151,"div",18),c.Rb(152,"label",19),c.Ic(153,"\xa0"),c.Qb(),c.Rb(154,"ng-select",45),c.bc("change",function(){return c.xc(i),c.dc().selectPCity()}),c.Qb(),c.Qb(),c.Qb(),c.Rb(155,"div",25),c.Rb(156,"div",18),c.Rb(157,"label",19),c.Ic(158,"\xa0"),c.Qb(),c.Mb(159,"input",46),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(160,"hr"),c.Rb(161,"div",14),c.Rb(162,"div",15),c.Rb(163,"div",16),c.Ic(164,"Contact Information"),c.Qb(),c.Rb(165,"div",11),c.Rb(166,"div",25),c.Rb(167,"div",18),c.Rb(168,"label",19),c.Ic(169,"Phone"),c.Qb(),c.Mb(170,"ng-select",47),c.Qb(),c.Qb(),c.Rb(171,"div",42),c.Rb(172,"div",18),c.Rb(173,"label",19),c.Ic(174,"Number"),c.Qb(),c.Rb(175,"div",11),c.Rb(176,"div",48),c.Mb(177,"input",49),c.Qb(),c.Rb(178,"div",50),c.Rb(179,"button",51),c.bc("click",function(e){return c.xc(i),c.dc().addPhone(e)}),c.Mb(180,"i",52),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(181,"div",25),c.Rb(182,"div",18),c.Rb(183,"label",19),c.Ic(184,"Email"),c.Qb(),c.Mb(185,"ng-select",53),c.Qb(),c.Qb(),c.Rb(186,"div",42),c.Rb(187,"div",18),c.Rb(188,"label",19),c.Ic(189,"Address"),c.Qb(),c.Rb(190,"div",11),c.Rb(191,"div",48),c.Mb(192,"input",54),c.Qb(),c.Rb(193,"div",50),c.Rb(194,"button",51),c.bc("click",function(e){return c.xc(i),c.dc().addEmail(e)}),c.Mb(195,"i",52),c.Qb(),c.Qb(),c.Qb(),c.Gc(196,ki,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(197,"div",11),c.Rb(198,"div",55),c.Rb(199,"div",56),c.Rb(200,"table",57),c.Rb(201,"thead"),c.Rb(202,"tr"),c.Rb(203,"th"),c.Ic(204,"Type"),c.Qb(),c.Rb(205,"th"),c.Ic(206,"Number"),c.Qb(),c.Mb(207,"th"),c.Qb(),c.Qb(),c.Rb(208,"tbody"),c.Gc(209,Di,8,2,"tr",58),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(210,"div",55),c.Rb(211,"div",56),c.Rb(212,"table",57),c.Rb(213,"thead"),c.Rb(214,"tr"),c.Rb(215,"th"),c.Ic(216,"Type"),c.Qb(),c.Rb(217,"th"),c.Ic(218,"Address"),c.Qb(),c.Mb(219,"th"),c.Qb(),c.Qb(),c.Rb(220,"tbody"),c.Gc(221,Ci,8,2,"tr",58),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(222,"hr"),c.Rb(223,"div",11),c.Rb(224,"div",59),c.Rb(225,"div",18),c.Rb(226,"label",19),c.Ic(227,"IP Address"),c.Qb(),c.Rb(228,"div",11),c.Rb(229,"div",48),c.Mb(230,"input",60),c.Qb(),c.Rb(231,"div",50),c.Rb(232,"button",51),c.bc("click",function(e){return c.xc(i),c.dc().addIP(e)}),c.Mb(233,"i",52),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(234,"div",59),c.Rb(235,"div",56),c.Rb(236,"table",57),c.Rb(237,"thead"),c.Rb(238,"tr"),c.Rb(239,"th"),c.Ic(240,"IP"),c.Qb(),c.Mb(241,"th"),c.Qb(),c.Qb(),c.Rb(242,"tbody"),c.Gc(243,Fi,6,1,"tr",58),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(244,"div",61),c.Rb(245,"ul",62),c.Rb(246,"button",63),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(247,"i",64),c.Ic(248," Save Changes "),c.Qb(),c.Mb(249,"button",65),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(13),c.jc("formGroup",a.branchForm),c.yb(11),c.jc("ngIf",a.errbranchName),c.yb(5),c.jc("items",a.industry),c.yb(1),c.jc("ngIf",a.errselectedIndustry),c.yb(6),c.jc("items",a.bank),c.yb(1),c.jc("ngIf",a.errselectedBank),c.yb(6),c.jc("ngIf",a.errbankAccount),c.yb(12),c.jc("ngIf",a.errBranchZipCode),c.yb(26),c.jc("items",a.region),c.yb(1),c.jc("ngIf",a.errBranchRegion),c.yb(5),c.jc("items",a.province),c.yb(1),c.jc("ngIf",a.errBranchProvince),c.yb(5),c.jc("items",a.branchCity),c.yb(1),c.jc("ngIf",a.errBranchCity),c.yb(5),c.jc("items",a.country),c.yb(1),c.jc("ngIf",a.errBranchCountry),c.yb(11),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",a.errSSS),c.yb(5),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",a.errPhilhealth),c.yb(6),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",a.errTIN),c.yb(5),c.jc("showMaskTyped",!0),c.yb(1),c.jc("ngIf",a.errPagibig),c.yb(6),c.jc("items",a.rdoOffice),c.yb(1),c.jc("ngIf",a.errRDO),c.yb(5),c.jc("items",a.rdoBranch),c.yb(5),c.jc("items",a.pRegion),c.yb(1),c.jc("ngIf",a.errBranch),c.yb(5),c.jc("items",a.pCity),c.yb(16),c.jc("items",a.phone),c.yb(7),c.jc("showMaskTyped",!0),c.yb(8),c.jc("items",a.email),c.yb(11),c.jc("ngIf",a.errValidEmail),c.yb(13),c.jc("ngForOf",a.phoneList),c.yb(12),c.jc("ngForOf",a.emailList),c.yb(22),c.jc("ngForOf",a.ipList),c.yb(6),c.jc("swal",c.mc(38,Mi))}}var Bi,Ti=((Bi=function(){function t(i,a,r,n,o){e(this,t),this.fb=i,this.tenantDefault=a,this.tenantMasterService=r,this.route=n,this.branchService=o,this.isLoading=!0,this.errbranchName=!1,this.errselectedIndustry=!1,this.errselectedBank=!1,this.errbankAccount=!1,this.errBranchZipCode=!1,this.errBranchProvince=!1,this.errBranchRegion=!1,this.errBranchCity=!1,this.errBranchCountry=!1,this.errSSS=!1,this.errPhilhealth=!1,this.errTIN=!1,this.errPagibig=!1,this.errRDO=!1,this.errBranch=!1,this.errBranchList=!1,this.errValidEmail=!1,this.branchCity=[],this.industry=[],this.bank=[],this.pCity=[],this.country=[],this.rdoOffice=[],this.rdoBranch=[],this.pRegion=[],this.region=[],this.phone=[],this.email=[],this.phoneList=[],this.emailList=[],this.province=[],this.ipList=[],this.dropdown=[],this.branchDetail=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.paramMap.get("id"),this.branchForm=this.fb.group({branchID:[0],branchName:[""],selectedIndustry:[null],selectedBank:[null],bankAccount:[""],zipCode:[""],unit:[""],building:[""],street:[""],barangay:[""],selectedProvince:[null],sss:[""],philhealth:[""],tin:[""],pagibig:[""],selectedCity:[null],selectedRegion:[null],selectedBranchCountry:[null],selectedRdoOffice:[null],selectedRdoBranch:[null],selectedPRegion:[null],selectedPCity:[null],selectedPCode:[""],selectedPhone:[null],phoneNumber:[""],selectedEmail:[null],emailAddress:[""],ipAddress:[""],createdBy:[sessionStorage.getItem("user")]}),this.tenantDefault.dropdownTList("1, 2, 11, 12,").subscribe(function(t){e.industry=t.filter(function(e){return 1===e.type_id}),e.bank=t.filter(function(e){return 2===e.type_id}),e.phone=t.filter(function(e){return 11===e.type_id}),e.email=t.filter(function(e){return 12===e.type_id}),e.tenantMasterService.dropdownList(0).subscribe(function(t){e.country=t.filter(function(e){return 3===e.type_id}),e.rdoOffice=t.filter(function(e){return 4===e.type_id}),e.rdoBranch=t.filter(function(e){return 5===e.type_id}),e.pRegion=t.filter(function(e){return 6===e.type_id}),e.region=t.filter(function(e){return 10===e.type_id}),e.province=t.filter(function(e){return 61===e.type_id}),e.tenantMasterService.dropdownEntitlement().subscribe(function(t){e.dropdown=t,""!==e.id?e.branchService.branchView(e.id).subscribe(function(t){e.branchDetail=t[0],e.branchCity=[],0!==e.branchDetail.selectedRegion&&(e.branchCity=e.dropdown.filter(function(t){return t.id===e.branchDetail.selectedRegion})),e.pCity=[],0!==e.branchDetail.selectedPRegion&&(e.pCity=e.dropdown.filter(function(t){return t.id===e.branchDetail.selectedPRegion&&0===t.id_to})),e.branchForm.setValue({branchID:e.branchDetail.branch_id,branchName:e.branchDetail.branchName,selectedIndustry:e.branchDetail.selectedIndustry,selectedBank:e.branchDetail.selectedBank,bankAccount:e.branchDetail.bankAccount,zipCode:e.branchDetail.zipCode,unit:e.branchDetail.unit,building:e.branchDetail.building,street:e.branchDetail.street,barangay:e.branchDetail.barangay,selectedProvince:e.branchDetail.province,sss:e.branchDetail.sss,philhealth:e.branchDetail.philhealth,tin:e.branchDetail.tin,pagibig:e.branchDetail.pagibig,selectedCity:e.branchDetail.selectedCity,selectedRegion:e.branchDetail.selectedRegion,selectedBranchCountry:e.branchDetail.selectedBranchCountry,selectedRdoOffice:e.branchDetail.selectedRdoOffice,selectedRdoBranch:e.branchDetail.selectedRdoBranch,selectedPRegion:e.branchDetail.selectedPRegion,selectedPCity:e.branchDetail.selectedPCity,selectedPCode:e.branchDetail.selectedPCode,selectedPhone:[null],phoneNumber:[""],selectedEmail:[null],emailAddress:[""],ipAddress:[""],createdBy:[sessionStorage.getItem("user")]}),e.branchService.contactList(e.id).subscribe(function(t){for(var i=[],a=0;a<t.length;a++)i.push({id:t[a].id,description:e.phone.filter(function(e){return e.id==t[a].id})[0].description,number:t[a].number});e.phoneList=i}),e.branchService.emailList(e.id).subscribe(function(t){for(var i=[],a=0;a<t.length;a++)i.push({id:t[a].id,description:e.email.filter(function(e){return e.id==t[a].id})[0].description,email_address:t[a].email_address});e.emailList=i}),e.branchService.ipList(e.id).subscribe(function(t){e.ipList=t}),e.isLoading=!1},function(e){console.log(e.error)}):(e.id="0",e.isLoading=!1)},function(e){console.log(e.error)})},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"selectBranchRegion",value:function(){var e=this;this.branchForm.get("selectedCity").reset(),this.branchCity=[],this.branchCity=this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedRegion").value})}},{key:"selectRdoOffice",value:function(){var e=this;this.branchForm.get("selectedRdoBranch").reset(),this.branchForm.get("selectedRdoBranch").setValue(this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedRdoOffice").value})[0].to_id)}},{key:"selectRdoBranch",value:function(){var e=this;this.branchForm.get("selectedRdoOffice").reset(),this.branchForm.get("selectedRdoOffice").setValue(this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedRdoBranch").value})[0].to_id)}},{key:"selectPBranch",value:function(){var e=this;this.branchForm.get("selectedPCity").reset(),this.pCity=[],this.pCity=this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedPRegion").value&&0===t.id_to})}},{key:"selectPCity",value:function(){var e=this;this.branchForm.get("selectedPCode").reset(),this.branchForm.get("selectedPCode").setValue(this.dropdown.filter(function(t){return t.id===e.branchForm.get("selectedPRegion").value&&t.id_to===e.branchForm.get("selectedPCity").value})[0].to_description)}},{key:"addPhone",value:function(e){var t=this,i=!0;if(""!==this.branchForm.get("phoneNumber").value&&null!==this.branchForm.get("phoneNumber").value||(i=!1),""!==this.branchForm.get("selectedPhone").value&&null!==this.branchForm.get("selectedPhone").value||(i=!1),i){var a=this.phone.filter(function(e){return e.id===t.branchForm.get("selectedPhone").value})[0],r={id:a.id,description:a.description,number:this.branchForm.get("phoneNumber").value};this.phoneList.push(r),this.branchForm.get("selectedPhone").reset(),this.branchForm.get("phoneNumber").reset()}}},{key:"removePhone",value:function(e){this.phoneList.splice(e,1)}},{key:"addEmail",value:function(e){var t=this,i=!0;if(""!==this.branchForm.get("emailAddress").value&&null!==this.branchForm.get("emailAddress").value&&(i=this.emailIsValid(this.branchForm.get("emailAddress").value),this.errValidEmail=!0),i){this.errValidEmail=!1;var a=this.email.filter(function(e){return e.id===t.branchForm.get("selectedEmail").value})[0],r={id:a.id,description:a.description,email_address:this.branchForm.get("emailAddress").value};this.emailList.push(r),this.branchForm.get("selectedEmail").reset(),this.branchForm.get("emailAddress").reset()}}},{key:"emailIsValid",value:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}},{key:"removeEmail",value:function(e){this.emailList.splice(e,1)}},{key:"addIP",value:function(e){var t={description:this.branchForm.get("ipAddress").value};this.ipList.push(t),this.branchForm.get("ipAddress").reset()}},{key:"removeIP",value:function(e){this.ipList.splice(e,1)}},{key:"validation",value:function(){var e=!0;return""===this.branchForm.get("branchName").value?(e=!1,this.errbranchName=!0):this.errbranchName=!1,""===this.branchForm.get("selectedIndustry").value||null===this.branchForm.get("selectedIndustry").value?(e=!1,this.errselectedIndustry=!0):this.errselectedIndustry=!1,""===this.branchForm.get("selectedBank").value||null===this.branchForm.get("selectedBank").value?(e=!1,this.errselectedBank=!0):this.errselectedBank=!1,""===this.branchForm.get("bankAccount").value?(e=!1,this.errbankAccount=!0):this.errbankAccount=!1,""===this.branchForm.get("zipCode").value?(e=!1,this.errBranchZipCode=!0):this.errBranchZipCode=!1,""===this.branchForm.get("selectedProvince").value||null===this.branchForm.get("selectedProvince").value?(e=!1,this.errBranchProvince=!0):this.errBranchProvince=!1,""===this.branchForm.get("selectedRegion").value||null===this.branchForm.get("selectedRegion").value?(e=!1,this.errBranchRegion=!0):this.errBranchRegion=!1,""===this.branchForm.get("selectedCity").value||null===this.branchForm.get("selectedCity").value?(e=!1,this.errBranchCity=!0):this.errBranchCity=!1,""===this.branchForm.get("selectedBranchCountry").value||null===this.branchForm.get("selectedBranchCountry").value?(e=!1,this.errBranchCountry=!0):this.errBranchCountry=!1,""===this.branchForm.get("sss").value?(e=!1,this.errSSS=!0):this.errSSS=!1,""===this.branchForm.get("philhealth").value?(e=!1,this.errPhilhealth=!0):this.errPhilhealth=!1,""===this.branchForm.get("tin").value?(e=!1,this.errTIN=!0):this.errTIN=!1,""===this.branchForm.get("pagibig").value?(e=!1,this.errPagibig=!0):this.errPagibig=!1,""===this.branchForm.get("selectedRdoOffice").value||null===this.branchForm.get("selectedRdoOffice").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedRdoBranch").value||null===this.branchForm.get("selectedRdoBranch").value?(e=!1,this.errRDO=!0):this.errRDO=!1,""===this.branchForm.get("selectedPRegion").value||null===this.branchForm.get("selectedPRegion").value?(e=!1,this.errBranch=!0):this.errBranch=!1,""===this.branchForm.get("selectedPCity").value||null===this.branchForm.get("selectedPCity").value?(e=!1,this.errBranch=!0):this.errBranch=!1,e}},{key:"submit",value:function(){var e=this;this.validation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading();var t={branchID:e.id,branchName:e.branchForm.get("branchName").value,branch_series_code:"0",selectedIndustry:e.branchForm.get("selectedIndustry").value,selectedBank:e.branchForm.get("selectedBank").value,bankAccount:e.branchForm.get("bankAccount").value,zipCode:e.branchForm.get("zipCode").value,unit:e.branchForm.get("unit").value,building:e.branchForm.get("building").value,street:e.branchForm.get("street").value,barangay:e.branchForm.get("barangay").value,province:e.branchForm.get("selectedProvince").value,sss:e.branchForm.get("sss").value,philhealth:e.branchForm.get("philhealth").value,tin:e.branchForm.get("tin").value,pagibig:e.branchForm.get("pagibig").value,selectedCity:e.branchForm.get("selectedCity").value,selectedRegion:e.branchForm.get("selectedRegion").value,selectedBranchCountry:e.branchForm.get("selectedBranchCountry").value,selectedRdoOffice:e.branchForm.get("selectedRdoOffice").value,selectedRdoBranch:e.branchForm.get("selectedRdoBranch").value,selectedPRegion:e.branchForm.get("selectedPRegion").value,selectedPCity:e.branchForm.get("selectedPCity").value,selectedPCode:e.branchForm.get("selectedPCode").value,createdBy:sessionStorage.getItem("u"),contact_IU:e.phoneList,email_IU:e.emailList,iP_IU:e.ipList,company_series_code:sessionStorage.getItem("sc"),company_id:sessionStorage.getItem("ci"),created_by:sessionStorage.getItem("u")};e.branchService.branchIU(t).subscribe(function(e){0===e.branchID?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||Bi)(c.Lb(f.c),c.Lb(s.a),c.Lb(b.a),c.Lb(u.a),c.Lb(ue.a))},Bi.\u0275cmp=c.Fb({type:Bi,selectors:[["app-branch-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/branch-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[3,"formGroup"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-sm-6"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","branchName","placeholder","Branch Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["name","Industry","bindLabel","description","bindValue","id","placeholder","Select Industry","formControlName","selectedIndustry",3,"items"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Bank","formControlName","selectedBank",3,"items"],["type","text","formControlName","bankAccount","placeholder","Bank Account",1,"form-control"],[1,"col-sm-2"],["type","text","formControlName","zipCode","placeholder","Zip Code",1,"form-control"],[1,"col-sm-1"],["type","text","formControlName","unit","placeholder","Unit/Flr #",1,"form-control"],[1,"col-sm-3"],["type","text","formControlName","building","placeholder","Building",1,"form-control"],["type","text","formControlName","street","placeholder","Street",1,"form-control"],["type","text","formControlName","barangay","placeholder","Barangay",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Region","formControlName","selectedRegion",3,"items","change"],["name","Province","bindLabel","description","bindValue","id","placeholder","Select Province","formControlName","selectedProvince",3,"items"],["name","City","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedBranchCountry",3,"items"],["formControlName","sss","mask","00-0000000-0",1,"form-control","mb-4","mb-md-0",3,"showMaskTyped"],["type","text","formControlName","philhealth","mask","00-000000000-0","placeholder","Philhealth",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","tin","mask","000-000-000-000","placeholder","TIN","placeholder","TIN",1,"form-control",3,"showMaskTyped"],["type","text","formControlName","pagibig","mask","0000-0000-0000","placeholder","Pagibig",1,"form-control",3,"showMaskTyped"],["name","RDO Office","bindLabel","description","bindValue","id","placeholder","Select RDO Office","formControlName","selectedRdoOffice",3,"items","change"],[1,"col-sm-4"],["name","RDO Branch","bindLabel","description","bindValue","id","placeholder","Select RDO Branch","formControlName","selectedRdoBranch",3,"items","change"],["name","Branch","bindLabel","description","bindValue","id","placeholder","Select Branch","formControlName","selectedPRegion",3,"items","change"],["name","Branch","bindLabel","to_description","bindValue","to_id","placeholder","Select City","formControlName","selectedPCity",3,"items","change"],["type","text","formControlName","selectedPCode","placeholder","Code",1,"form-control"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedPhone",3,"items"],[1,"col-md-10"],["type","text","prefix","+63 ","mask","000 000 0000","formControlName","phoneNumber","placeholder","Number",1,"form-control",3,"showMaskTyped"],[1,"col-md-2"],["type","button","title","Add",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-plus"],["name","Bank","bindLabel","description","bindValue","id","placeholder","Select Type","formControlName","selectedEmail",3,"items"],["type","text","formControlName","emailAddress","placeholder","@illimitado.com",1,"form-control"],[1,"col-md-6"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"col-md-3"],["type","text","formControlName","ipAddress",1,"form-control"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"],["type","button","title","Remove",1,"btn","btn-sm","btn-danger","btn-icon",3,"click"],[1,"feather","icon-trash"]],template:function(e,t){1&e&&(c.Gc(0,si,3,0,"div",0),c.Gc(1,wi,250,39,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,f.b,f.i,f.d,h.a,ci.a,d.m,p.a,m.a],styles:[""]}),Bi),Oi=r("AytR"),Li=r("pweZ"),Si=r("nkOh");function xi(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function ji(e,t){1&e&&(c.Rb(0,"p",53),c.Ic(1,"Company Name is needed!"),c.Qb())}function Ni(e,t){1&e&&(c.Rb(0,"p",53),c.Ic(1,"Company Code is needed!"),c.Qb())}function Gi(e,t){1&e&&(c.Rb(0,"p",53),c.Ic(1,"Zip Code is needed!"),c.Qb())}function Pi(e,t){1&e&&(c.Rb(0,"p",53),c.Ic(1,"Region is needed!"),c.Qb())}function Hi(e,t){1&e&&(c.Rb(0,"p",53),c.Ic(1,"Province is needed!"),c.Qb())}function Ai(e,t){1&e&&(c.Rb(0,"p",53),c.Ic(1,"City is needed!"),c.Qb())}function Vi(e,t){1&e&&(c.Rb(0,"p",53),c.Ic(1,"Country is needed!"),c.Qb())}var Ei=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function Ui(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Company"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"h6"),c.Ic(14,"Company"),c.Qb(),c.Qb(),c.Rb(15,"form",15),c.Rb(16,"div",10),c.Rb(17,"div",11),c.Rb(18,"div",10),c.Rb(19,"div",16),c.Rb(20,"div",17),c.Rb(21,"label",18),c.Ic(22,"Company Name"),c.Qb(),c.Mb(23,"input",19),c.Gc(24,ji,2,0,"p",20),c.Qb(),c.Rb(25,"div",17),c.Rb(26,"label"),c.Ic(27,"File upload"),c.Qb(),c.Rb(28,"input",21),c.bc("change",function(e){return c.xc(i),c.dc().handleFileInput(e)}),c.Qb(),c.Rb(29,"div",22),c.bc("click",function(e){return c.xc(i),c.dc().openFileBrowser(e)}),c.Mb(30,"input",23),c.Rb(31,"span",24),c.Rb(32,"button",25),c.Ic(33,"Upload"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(34,"div",17),c.Rb(35,"label",18),c.Ic(36,"Company Code"),c.Qb(),c.Mb(37,"input",26),c.Gc(38,Ni,2,0,"p",20),c.Qb(),c.Qb(),c.Rb(39,"div",16),c.Rb(40,"div",27),c.Mb(41,"img",28),c.Qb(),c.Qb(),c.Qb(),c.Rb(42,"div",10),c.Rb(43,"div",16),c.Rb(44,"div",17),c.Rb(45,"label",18),c.Ic(46,"Series Code"),c.Qb(),c.Mb(47,"input",29),c.Qb(),c.Qb(),c.Rb(48,"div",30),c.Rb(49,"div",17),c.Rb(50,"label",18),c.Ic(51,"Timekeeping Start Basis"),c.Qb(),c.Mb(52,"ng-select",31),c.Qb(),c.Qb(),c.Rb(53,"div",32),c.Rb(54,"div",17),c.Mb(55,"label",18),c.Rb(56,"div",33),c.Mb(57,"input",34),c.Rb(58,"label",35),c.Ic(59,"Enable Notification?"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(60,"hr"),c.Rb(61,"div",14),c.Rb(62,"h6"),c.Ic(63,"Address"),c.Qb(),c.Qb(),c.Rb(64,"div",10),c.Rb(65,"div",36),c.Rb(66,"div",17),c.Rb(67,"label",37),c.Ic(68,"Zip Code"),c.Qb(),c.Mb(69,"input",38),c.Gc(70,Gi,2,0,"p",20),c.Qb(),c.Qb(),c.Rb(71,"div",39),c.Rb(72,"div",17),c.Rb(73,"label",37),c.Ic(74,"Unit/Flr #"),c.Qb(),c.Mb(75,"input",40),c.Qb(),c.Qb(),c.Rb(76,"div",41),c.Rb(77,"div",17),c.Rb(78,"label",37),c.Ic(79,"Building"),c.Qb(),c.Mb(80,"input",42),c.Qb(),c.Qb(),c.Rb(81,"div",41),c.Rb(82,"div",17),c.Rb(83,"label",37),c.Ic(84,"Street"),c.Qb(),c.Mb(85,"input",43),c.Qb(),c.Qb(),c.Rb(86,"div",41),c.Rb(87,"div",17),c.Rb(88,"label",37),c.Ic(89,"Barangay"),c.Qb(),c.Mb(90,"input",44),c.Qb(),c.Qb(),c.Qb(),c.Rb(91,"div",10),c.Rb(92,"div",41),c.Rb(93,"div",17),c.Rb(94,"label",37),c.Ic(95,"Region"),c.Qb(),c.Rb(96,"ng-select",45),c.bc("change",function(){return c.xc(i),c.dc().selectRegion()}),c.Qb(),c.Gc(97,Pi,2,0,"p",20),c.Qb(),c.Qb(),c.Rb(98,"div",41),c.Rb(99,"div",17),c.Rb(100,"label",37),c.Ic(101,"Province"),c.Qb(),c.Mb(102,"ng-select",46),c.Gc(103,Hi,2,0,"p",20),c.Qb(),c.Qb(),c.Rb(104,"div",41),c.Rb(105,"div",17),c.Rb(106,"label",37),c.Ic(107,"City"),c.Qb(),c.Mb(108,"ng-select",47),c.Gc(109,Ai,2,0,"p",20),c.Qb(),c.Qb(),c.Rb(110,"div",41),c.Rb(111,"div",17),c.Rb(112,"label",37),c.Ic(113,"Country"),c.Qb(),c.Mb(114,"ng-select",48),c.Gc(115,Vi,2,0,"p",20),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(116,"ul",49),c.Rb(117,"button",50),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(118,"i",51),c.Ic(119," Update Company "),c.Qb(),c.Mb(120,"button",52),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(15),c.jc("formGroup",a.companyForm),c.yb(9),c.jc("ngIf",a.errCompanyName),c.yb(14),c.jc("ngIf",a.errCompanyCode),c.yb(3),c.jc("src",a.url,c.zc),c.yb(11),c.jc("items",a.tkBasis),c.yb(18),c.jc("ngIf",a.errZipCode),c.yb(26),c.jc("items",a.region),c.yb(1),c.jc("ngIf",a.errRegion),c.yb(5),c.jc("items",a.province),c.yb(1),c.jc("ngIf",a.errProvince),c.yb(5),c.jc("items",a.companyCity),c.yb(1),c.jc("ngIf",a.errCity),c.yb(5),c.jc("items",a.country),c.yb(1),c.jc("ngIf",a.errCountry),c.yb(5),c.jc("swal",c.mc(15,Ei))}}var $i,Ji=(($i=function(){function t(i,a,r,n){e(this,t),this.fb=i,this.accountManagementService=a,this.tenantMasterService=r,this.dataUploadManagementService=n,this.image=Oi.a.exportUrl,this.isLoading=!0,this.viewForm=[],this.companyCity=[],this.region=[],this.province=[],this.dropdown=[],this.country=[],this.tkBasis=[],this.errCompanyName=!1,this.errCompanyCode=!1,this.errZipCode=!1,this.errProvince=!1,this.errCity=!1,this.errRegion=!1,this.errCountry=!1,this.url=""}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.companyForm=this.fb.group({companyID:0,companyName:"",companyCode:"",seriesCode:"",selectedCompanyCountry:[null],img:"",old_img:"",zipCode:"",unit:"",building:"",street:"",barangay:"",province:"",tk_gen_ref:null,selectedCity:null,selectedRegion:null,is_email:!1,createdBy:sessionStorage.getItem("u")}),this.tenantMasterService.dropdownList("3, 10, 61, 62,").subscribe(function(t){e.country=t.filter(function(e){return 3===e.type_id}),e.region=t.filter(function(e){return 10===e.type_id}),e.province=t.filter(function(e){return 61===e.type_id}),e.tkBasis=Object(de.merge)([{id:0,description:"Default"}],t.filter(function(e){return 62===e.type_id})),e.tenantMasterService.dropdownEntitlement().subscribe(function(t){e.dropdown=t,e.accountManagementService.companyView().subscribe(function(t){e.viewForm=t[0],e.companyCity=[],0!==e.viewForm.selectedRegion&&(e.companyCity=e.dropdown.filter(function(t){return t.id===e.viewForm.selectedRegion})),e.companyForm.setValue({companyID:e.viewForm.companyID,companyName:e.viewForm.companyName,companyCode:e.viewForm.companyCode,seriesCode:e.viewForm.series_code,selectedCompanyCountry:e.viewForm.selectedCompanyCountry,img:"",old_img:e.viewForm.old_img,zipCode:e.viewForm.zipCode,unit:e.viewForm.unit,building:e.viewForm.building,street:e.viewForm.street,barangay:e.viewForm.barangay,province:e.viewForm.province,selectedCity:e.viewForm.selectedCity,selectedRegion:e.viewForm.selectedRegion,tk_gen_ref:e.viewForm.tk_gen_ref_id,is_email:e.viewForm.is_email,createdBy:sessionStorage.getItem("u")}),e.url=e.image+e.viewForm.img,e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)})},function(e){console.log(e.error)})}},{key:"selectRegion",value:function(){var e=this;this.companyForm.get("selectedCity").reset(),this.companyCity=[],this.companyCity=this.dropdown.filter(function(t){return t.id===e.companyForm.get("selectedRegion").value})}},{key:"openFileBrowser",value:function(e){var t=this;if(e.preventDefault(),document.querySelector("#fileUploadInputExample").click(),e.target.files&&e.target.files[0]){var i=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),i.readAsDataURL(e.target.files[0]),i.onload=function(e){t.url=e.target.result},this.fileName=e.target.files}}},{key:"handleFileInput",value:function(e){var t=this;if(e.target.files.length&&(document.querySelector("#fileUploadInputExample + .input-group .file-upload-info").setAttribute("value",e.target.files[0].name),e.target.files&&e.target.files[0])){var i=new FileReader;this.companyForm.patchValue({img:e.target.files[0].name}),i.readAsDataURL(e.target.files[0]),i.onload=function(e){t.url=e.target.result},this.fileName=e.target.files}}},{key:"submit",value:function(){var e=this;o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading(),e.accountManagementService.tenantUpdate(e.companyForm.value).subscribe(function(t){"0"===t.companyID?o.a.fire("Failed!","Transaction failed!","error"):(o.a.fire("Ok!","Transaction successful!","success"),e.dataUploadManagementService.companyImage(e.fileName,"code","5").subscribe(function(e){0==e.response&&o.a.fire("Failed!","Image Upload failed!","error")},function(e){console.log(e.error),o.a.fire("Failed!","Image Upload failed!","error")}))},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||$i)(c.Lb(f.c),c.Lb(Li.a),c.Lb(b.a),c.Lb(Si.a))},$i.\u0275cmp=c.Fb({type:$i,selectors:[["app-company"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-md-6"],[1,"form-group"],["for","exampleInputUsername1"],["type","text","formControlName","companyName","autocomplete","off","placeholder","Company Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["accept",".png, .jpg, .jpeg","type","file","name","img[]","id","fileUploadInputExample",1,"file-upload-default",3,"change"],[1,"input-group","col-xs-12",3,"click"],["type","text","disabled","","placeholder","Upload Image",1,"form-control","file-upload-info"],[1,"input-group-append"],["type","button",1,"file-upload-browse","btn","btn-primary"],["type","text","formControlName","companyCode","autocomplete","off","placeholder","Company Code",1,"form-control"],[1,"media","d-block","d-sm-flex"],["height","150","width","width","src","https://via.placeholder.com/200x150","alt","...",3,"src"],["type","text","formControlName","seriesCode","autocomplete","off","placeholder","Company Code",1,"form-control"],[1,"col-md-4"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Basis","formControlName","tk_gen_ref",3,"items"],[1,"col-md-2"],[1,"custom-control","custom-switch"],["formControlName","is_email","type","checkbox","id","customSwitch1",1,"custom-control-input"],["for","customSwitch1",1,"custom-control-label"],[1,"col-sm-1"],[1,"control-label"],["type","text","formControlName","zipCode","placeholder","Zip Code",1,"form-control"],[1,"col-sm-2"],["type","text","formControlName","unit","placeholder","Unit/Flr #",1,"form-control"],[1,"col-sm-3"],["type","text","formControlName","building","placeholder","Unit/Flr #",1,"form-control"],["type","text","formControlName","street","placeholder","Enter zip code",1,"form-control"],["type","text","formControlName","barangay","placeholder","Barangay",1,"form-control"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedRegion",3,"items","change"],["name","Province","bindLabel","description","bindValue","id","placeholder","Select Province","formControlName","province",3,"items"],["name","Country","bindLabel","to_description","bindValue","to_id","placeholder","Select Country","formControlName","selectedCity",3,"items"],["name","Country","bindLabel","description","bindValue","id","placeholder","Select Country","formControlName","selectedCompanyCountry",3,"items"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"]],template:function(e,t){1&e&&(c.Gc(0,xi,3,0,"div",0),c.Gc(1,Ui,121,16,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,f.b,f.i,f.d,h.a,f.a,p.a,m.a],styles:[""]}),$i),Wi=r("wyZF");r("xgIS"),r("2Vo4"),r("1G5W"),r("mrSG");var Yi,qi,zi,Zi,Ki,Xi,ea,ta=((zi=function(){function t(i){e(this,t),this.document=i,this.width=this.getWidth()}return i(t,[{key:"getWidth",value:function(){var e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",this.document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=this.document.createElement("div");i.style.width="100%",e.appendChild(i);var a=i.offsetWidth;return e.parentNode.removeChild(e),t-a}}]),t}()).\u0275fac=function(e){return new(e||zi)(c.Yb(d.d))},zi.\u0275prov=c.Hb({token:zi,factory:zi.\u0275fac}),zi),ia=((qi=function(){function t(){e(this,t)}return i(t,[{key:"getDimensions",value:function(e){return e.getBoundingClientRect()}}]),t}()).\u0275fac=function(e){return new(e||qi)},qi.\u0275prov=c.Hb({token:qi,factory:qi.\u0275fac}),qi),aa=((Yi=function(){function t(){e(this,t),this.columnInputChanges=new ie.a}return i(t,[{key:"columnInputChanges$",get:function(){return this.columnInputChanges.asObservable()}},{key:"onInputChange",value:function(){this.columnInputChanges.next()}}]),t}()).\u0275fac=function(e){return new(e||Yi)},Yi.\u0275prov=c.Hb({token:Yi,factory:Yi.\u0275fac}),Yi),ra={},na="undefined"!=typeof document?document.createElement("div").style:void 0,oa=(Zi="undefined"!=typeof window?window.getComputedStyle(document.documentElement,""):void 0,Ki=void 0!==Zi?Array.prototype.slice.call(Zi).join("").match(/-(moz|webkit|ms)-/):null,Xi=null!==Ki?Ki[1]:void 0,(ea=void 0!==Xi?"WebKit|Moz|MS|O".match(new RegExp("("+Xi+")","i"))[1]:void 0)?{dom:ea,lowercase:Xi,css:"-".concat(Xi,"-"),js:Xi[0].toUpperCase()+Xi.substr(1)}:void 0);function ca(e){var t=e.replace(/[^a-zA-Z0-9 ]/g," ").replace(/([a-z](?=[A-Z]))/g,"$1 ").replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase().replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,i){return t.trim()+i.toUpperCase()});return ra[t]||(void 0!==oa&&void 0!==na[oa.css+e]?ra[t]=oa.css+e:void 0!==na[e]&&(ra[t]=e)),ra[t]}"undefined"!=typeof window&&ca("transform"),"undefined"!=typeof window&&ca("backfaceVisibility"),"undefined"!=typeof window&&ca("transform"),"undefined"!=typeof window&&ca("perspective");var sa="undefined"!=typeof window?window.navigator.userAgent:"Chrome";/Safari\//.test(sa)&&/Chrome\//.test(sa);var ba,la=((ba=function(){function t(){e(this,t)}return i(t,null,[{key:"forRoot",value:function(e){return{ngModule:t,providers:[{provide:"configuration",useValue:e}]}}}]),t}()).\u0275mod=c.Jb({type:ba}),ba.\u0275inj=c.Ib({factory:function(e){return new(e||ba)},providers:[ta,ia,aa],imports:[[d.c]]}),ba);"undefined"==typeof document||document.elementsFromPoint||(document.elementsFromPoint=function(e,t){for(var i,a,r,n=[],o=[];(i=document.elementFromPoint(e,t))&&-1===n.indexOf(i)&&null!=i;)n.push(i),o.push({value:i.style.getPropertyValue("pointer-events"),priority:i.style.getPropertyPriority("pointer-events")}),i.style.setProperty("pointer-events","none","important");for(a=o.length;r=o[--a];)n[a].style.setProperty("pointer-events",r.value?r.value:"",r.priority);return n});var da=r("tyVc"),ua=r("H6xj");function ha(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function fa(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Ic(8),c.Qb(),c.Rb(9,"td"),c.Ic(10),c.Qb(),c.Rb(11,"td"),c.Ic(12),c.Qb(),c.Rb(13,"td"),c.Ic(14),c.Qb(),c.Rb(15,"td"),c.Rb(16,"button",22),c.bc("click",function(){c.xc(i);var e=t.$implicit;return c.dc(2).viewLeave(e.encrypted_leave_type_id)}),c.Mb(17,"i",23),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.leave_type_code),c.yb(2),c.Jc(a.leave_name),c.yb(2),c.Jc(a.description),c.yb(2),c.Jc(a.total_leaves),c.yb(2),c.Jc(a.filed_by_name),c.yb(2),c.Jc(a.display_name),c.yb(2),c.Jc(a.date_created)}}var pa=function(){return["/layout/administration/leave-detail"]};function ma(e,t){if(1&e&&(c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Leaves"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Leaves"),c.Qb(),c.Qb(),c.Rb(17,"div",15),c.Rb(18,"ul",16),c.Rb(19,"button",17),c.Mb(20,"i",18),c.Ic(21," Add Leaves "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(22,"hr"),c.Rb(23,"div",19),c.Rb(24,"table",20),c.Rb(25,"thead"),c.Rb(26,"tr"),c.Rb(27,"th"),c.Ic(28,"Leave Code"),c.Qb(),c.Rb(29,"th"),c.Ic(30,"Leave"),c.Qb(),c.Rb(31,"th"),c.Ic(32,"Description"),c.Qb(),c.Rb(33,"th"),c.Ic(34,"Total Leaves"),c.Qb(),c.Rb(35,"th"),c.Ic(36,"Filed By"),c.Qb(),c.Rb(37,"th"),c.Ic(38,"Created By"),c.Qb(),c.Rb(39,"th"),c.Ic(40,"Date Created"),c.Qb(),c.Mb(41,"th"),c.Qb(),c.Qb(),c.Rb(42,"tbody"),c.Gc(43,fa,18,7,"tr",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(19),c.jc("routerLink",c.mc(4,pa)),c.yb(5),c.jc("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),c.yb(19),c.jc("ngForOf",i.table)}}var va,ga=((va=function(){function t(i,a,r,n){e(this,t),this.userManagementService=i,this.leaveManagementService=a,this.router=r,this.tenantMasterSetupService=n,this.isLoading=!0,this.dtOptions={},this.dtTrigger=new ie.a,this.table=[]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.leaveManagementService.leaveView(0).subscribe(function(t){e.table=t,e.isLoading=!1,setTimeout(function(){e.dtTrigger.next()},100)},function(e){console.log(e.error)})}},{key:"viewLeave",value:function(e){this.router.navigate(["/layout/administration/leave-detail",e])}}]),t}()).\u0275fac=function(e){return new(e||va)(c.Lb(ae.a),c.Lb(ua.a),c.Lb(u.c),c.Lb(b.a))},va.\u0275cmp=c.Fb({type:va,selectors:[["app-leave-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(c.Gc(0,ha,3,0,"div",0),c.Gc(1,ma,44,5,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,u.d,p.a,re.a,d.m],styles:[""]}),va);function ya(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function Ra(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Leave Name is needed!"),c.Qb())}function Qa(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Description is needed!"),c.Qb())}function _a(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Gender is needed!"),c.Qb())}function Ia(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Is require attachment is needed!"),c.Qb())}function ka(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Is filed by is needed!"),c.Qb())}function Da(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Leave start is needed!"),c.Qb())}function Ca(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Total leave is needed!"),c.Qb())}function Fa(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Leave accrued is needed!"),c.Qb())}function Ma(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Accrued credit is needed!"),c.Qb())}function wa(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Leave per month is needed!"),c.Qb())}function Ba(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Credits convertible is needed!"),c.Qb())}function Ta(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Taxable credits is needed!"),c.Qb())}function Oa(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Non-Taxable credits is needed!"),c.Qb())}function La(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Priority to convert is needed!"),c.Qb())}function Sa(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Leave Before is needed!"),c.Qb())}function xa(e,t){1&e&&(c.Rb(0,"p",43),c.Ic(1,"Leave After is needed!"),c.Qb())}var ja=function(){return{title:"<strong>HTML <u>example</u></strong>",icon:"info",html:"(You can use <b>bold text</b>, <a href='http://github.com'>links</a> and other HTML tags)",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"<i class='feather icon-thumbs-up'></i> Great!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:"<i class='feather icon-thumbs-down'></i>",cancelButtonAriaLabel:"Thumbs down"}};function Na(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",7),c.Rb(7,"a",9),c.Ic(8,"Leave"),c.Qb(),c.Qb(),c.Rb(9,"li",10),c.Ic(10,"Detail"),c.Qb(),c.Qb(),c.Qb(),c.Rb(11,"div",11),c.Rb(12,"div",12),c.Rb(13,"div",13),c.Rb(14,"div",14),c.Rb(15,"form",15),c.Rb(16,"h6",16),c.Ic(17,"Leave"),c.Qb(),c.Rb(18,"div",11),c.Rb(19,"div",17),c.Rb(20,"div",18),c.Rb(21,"label",19),c.Ic(22,"Leave Name"),c.Qb(),c.Mb(23,"input",20),c.Gc(24,Ra,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(25,"div",17),c.Rb(26,"div",18),c.Rb(27,"label",19),c.Ic(28,"Description"),c.Qb(),c.Mb(29,"input",22),c.Gc(30,Qa,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(31,"div",11),c.Rb(32,"div",23),c.Rb(33,"div",18),c.Rb(34,"label",19),c.Ic(35,"Gender to use this leave?"),c.Qb(),c.Mb(36,"ng-select",24),c.Gc(37,_a,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(38,"div",23),c.Rb(39,"div",18),c.Rb(40,"label",19),c.Ic(41,"Require Attachment?"),c.Qb(),c.Mb(42,"ng-select",25),c.Gc(43,Ia,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(44,"div",23),c.Rb(45,"div",18),c.Rb(46,"label",19),c.Ic(47,"Filed By?"),c.Qb(),c.Mb(48,"ng-select",26),c.Gc(49,ka,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(50,"div",23),c.Rb(51,"div",18),c.Rb(52,"label",19),c.Ic(53,"Leave Start"),c.Qb(),c.Mb(54,"ng-select",27),c.Gc(55,Da,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(56,"div",11),c.Rb(57,"div",23),c.Rb(58,"div",18),c.Rb(59,"label",19),c.Ic(60,"Total Leaves"),c.Qb(),c.Mb(61,"input",28),c.Gc(62,Ca,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(63,"div",23),c.Rb(64,"div",18),c.Rb(65,"label",19),c.Ic(66,"Leave Accrued"),c.Qb(),c.Mb(67,"ng-select",29),c.Gc(68,Fa,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(69,"div",23),c.Rb(70,"div",18),c.Rb(71,"label",19),c.Ic(72,"Accrued Credits"),c.Qb(),c.Mb(73,"input",30),c.Gc(74,Ma,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(75,"div",23),c.Rb(76,"div",18),c.Rb(77,"label",19),c.Ic(78,"Leave Per Month"),c.Qb(),c.Mb(79,"input",31),c.Gc(80,wa,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(81,"div",11),c.Rb(82,"div",23),c.Rb(83,"div",18),c.Rb(84,"label",19),c.Ic(85,"Credits Convertible to Cash"),c.Qb(),c.Mb(86,"input",32),c.Gc(87,Ba,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(88,"div",23),c.Rb(89,"div",18),c.Rb(90,"label",19),c.Ic(91,"Taxable Credits"),c.Qb(),c.Mb(92,"input",33),c.Gc(93,Ta,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(94,"div",23),c.Rb(95,"div",18),c.Rb(96,"label",19),c.Ic(97,"Non-Taxable Credits"),c.Qb(),c.Mb(98,"input",34),c.Gc(99,Oa,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(100,"div",23),c.Rb(101,"div",18),c.Rb(102,"label",19),c.Ic(103,"Priority To Convert"),c.Qb(),c.Mb(104,"ng-select",35),c.Gc(105,La,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Rb(106,"div",11),c.Rb(107,"div",23),c.Rb(108,"div",18),c.Rb(109,"label",19),c.Ic(110,"Leave Before"),c.Qb(),c.Mb(111,"input",36),c.Gc(112,Sa,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(113,"div",23),c.Rb(114,"div",18),c.Rb(115,"label",19),c.Ic(116,"LeaveAfter"),c.Qb(),c.Mb(117,"input",37),c.Gc(118,xa,2,0,"p",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(119,"div",38),c.Rb(120,"ul",39),c.Rb(121,"button",40),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(122,"i",41),c.Ic(123," Save Changes "),c.Qb(),c.Mb(124,"button",42),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(15),c.jc("formGroup",a.leaveForm),c.yb(9),c.jc("ngIf",a.errLeaveName),c.yb(6),c.jc("ngIf",a.errDescription),c.yb(6),c.jc("items",a.gender),c.yb(1),c.jc("ngIf",a.errGender),c.yb(5),c.jc("items",a.attachment),c.yb(1),c.jc("ngIf",a.errAttachment),c.yb(5),c.jc("items",a.filedBy),c.yb(1),c.jc("ngIf",a.errFiledBy),c.yb(5),c.jc("items",a.leavestart),c.yb(1),c.jc("ngIf",a.errLeaveStart),c.yb(7),c.jc("ngIf",a.errTotalLeave),c.yb(5),c.jc("items",a.leaveType),c.yb(1),c.jc("ngIf",a.errLeaveAccrued),c.yb(6),c.jc("ngIf",a.errAccruedCredits),c.yb(6),c.jc("ngIf",a.errLeavePerMonth),c.yb(7),c.jc("ngIf",a.errCreditsConvertible),c.yb(6),c.jc("ngIf",a.errTaxableCredits),c.yb(6),c.jc("ngIf",a.errNonTaxableCredits),c.yb(5),c.jc("items",a.priority),c.yb(1),c.jc("ngIf",a.errPriorityConvert),c.yb(7),c.jc("ngIf",a.errLeaveBefore),c.yb(6),c.jc("ngIf",a.errLeaveAfter),c.yb(6),c.jc("swal",c.mc(24,ja))}}var Ga,Pa=((Ga=function(){function t(i,a,r,n){e(this,t),this.fb=i,this.tenantMasterSetupService=a,this.leaveManagementService=r,this.route=n,this.isLoading=!0,this.leavestart=[],this.priority=[],this.leaveType=[],this.filedBy=[],this.gender=[],this.attachment=[{id:!1,description:"No"},{id:!0,description:"Yes"}],this.errLeaveName=!1,this.errDescription=!1,this.errGender=!1,this.errAttachment=!1,this.errFiledBy=!1,this.errLeaveStart=!1,this.errTotalLeave=!1,this.errLeaveAccrued=!1,this.errAccruedCredits=!1,this.errLeavePerMonth=!1,this.errCreditsConvertible=!1,this.errTaxableCredits=!1,this.errNonTaxableCredits=!1,this.errPriorityConvert=!1,this.errLeaveBefore=!1,this.errLeaveAfter=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.LeaveID=this.route.snapshot.paramMap.get("id"),this.leaveForm=this.fb.group({leaveName:[""],leaveTypeCode:[""],description:[""],selectedGender:null,selectedAttachment:null,selectedFiledBy:null,selectedLeaveStart:null,totalLeaves:0,selectedAccrued:null,accruedCredits:0,leavePerMonth:0,convertibleToCash:0,taxableCredits:0,nonTaxableCredits:0,leaveBefore:0,leaveAfter:0,selectedPriority:null}),this.tenantMasterSetupService.dropdownList(0).subscribe(function(t){e.gender=t.filter(function(e){return 43===e.type_id}),e.filedBy=t.filter(function(e){return 44===e.type_id}),e.leavestart=t.filter(function(e){return 45===e.type_id}),e.leaveType=t.filter(function(e){return 46===e.type_id}),e.priority=t.filter(function(e){return 47===e.type_id}),""!==e.LeaveID?e.leaveManagementService.leaveView(e.LeaveID).subscribe(function(t){e.leaveForm=e.fb.group({leaveName:t[0].leave_name,leaveTypeCode:t[0].leave_type_code,description:t[0].description,selectedGender:t[0].gender_to_use,selectedAttachment:t[0].required_attachment,selectedFiledBy:t[0].filed_by,selectedLeaveStart:t[0].leave_start,totalLeaves:t[0].total_leaves,selectedAccrued:t[0].leave_accrued,accruedCredits:t[0].accrued_credits,leavePerMonth:t[0].leave_per_month,convertibleToCash:t[0].convertible_to_cash,taxableCredits:t[0].taxable_credits,nonTaxableCredits:t[0].non_taxable_credits,selectedPriority:t[0].priority_to_convert,leaveBefore:t[0].leave_before,leaveAfter:t[0].leave_after}),e.isLoading=!1},function(e){console.log(e.error)}):(e.LeaveID="0",e.isLoading=!1)},function(e){console.log(e.error)})}},{key:"validation",value:function(){var e=!0;return this.errLeaveName=!1,this.errDescription=!1,this.errGender=!1,this.errAttachment=!1,this.errFiledBy=!1,this.errLeaveStart=!1,this.errTotalLeave=!1,this.errLeaveAccrued=!1,this.errAccruedCredits=!1,this.errLeavePerMonth=!1,this.errCreditsConvertible=!1,this.errTaxableCredits=!1,this.errNonTaxableCredits=!1,this.errPriorityConvert=!1,""!==this.leaveForm.get("leaveName").value&&null!==this.leaveForm.get("leaveName").value||(e=!1,this.errLeaveName=!0),""!==this.leaveForm.get("description").value&&null!==this.leaveForm.get("description").value||(e=!1,this.errDescription=!0),""!==this.leaveForm.get("selectedGender").value&&null!==this.leaveForm.get("selectedGender").value||(e=!1,this.errGender=!0),""!==this.leaveForm.get("selectedAttachment").value&&null!==this.leaveForm.get("selectedAttachment").value||(e=!1,this.errAttachment=!0),""!==this.leaveForm.get("selectedFiledBy").value&&null!==this.leaveForm.get("selectedFiledBy").value||(e=!1,this.errFiledBy=!0),""!==this.leaveForm.get("selectedLeaveStart").value&&null!==this.leaveForm.get("selectedLeaveStart").value||(e=!1,this.errLeaveStart=!0),""!==this.leaveForm.get("totalLeaves").value&&null!==this.leaveForm.get("totalLeaves").value||(e=!1,this.errTotalLeave=!0),""!==this.leaveForm.get("selectedAccrued").value&&null!==this.leaveForm.get("selectedAccrued").value||(e=!1,this.errLeaveAccrued=!0),""!==this.leaveForm.get("accruedCredits").value&&null!==this.leaveForm.get("accruedCredits").value||(e=!1,this.errAccruedCredits=!0),""!==this.leaveForm.get("leavePerMonth").value&&null!==this.leaveForm.get("leavePerMonth").value||(e=!1,this.errLeavePerMonth=!0),""!==this.leaveForm.get("convertibleToCash").value&&null!==this.leaveForm.get("convertibleToCash").value||(e=!1,this.errCreditsConvertible=!0),""!==this.leaveForm.get("taxableCredits").value&&null!==this.leaveForm.get("taxableCredits").value||(e=!1,this.errTaxableCredits=!0),""!==this.leaveForm.get("nonTaxableCredits").value&&null!==this.leaveForm.get("nonTaxableCredits").value||(e=!1,this.errNonTaxableCredits=!0),""!==this.leaveForm.get("selectedPriority").value&&null!==this.leaveForm.get("selectedPriority").value||(e=!1,this.errPriorityConvert=!0),""!==this.leaveForm.get("leaveBefore").value&&null!==this.leaveForm.get("leaveBefore").value||(e=!1,this.errLeaveBefore=!0),""!==this.leaveForm.get("leaveAfter").value&&null!==this.leaveForm.get("leaveAfter").value||(e=!1,this.errLeaveAfter=!0),e}},{key:"submit",value:function(){var e=this;this.validation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading();var t={leave_type_id:e.LeaveID,leave_name:e.leaveForm.get("leaveName").value,leave_type_code:e.leaveForm.get("leaveTypeCode").value,description:e.leaveForm.get("description").value,gender_to_use:e.leaveForm.get("selectedGender").value,required_attachment:e.leaveForm.get("selectedAttachment").value,filed_by:e.leaveForm.get("selectedFiledBy").value,leave_start:e.leaveForm.get("selectedLeaveStart").value,total_leaves:e.leaveForm.get("totalLeaves").value,leave_accrued:e.leaveForm.get("selectedAccrued").value,accrued_credits:e.leaveForm.get("accruedCredits").value,leave_per_month:e.leaveForm.get("leavePerMonth").value,convertible_to_cash:e.leaveForm.get("convertibleToCash").value,taxable_credits:e.leaveForm.get("taxableCredits").value,non_taxable_credits:e.leaveForm.get("nonTaxableCredits").value,priority_to_convert:e.leaveForm.get("selectedPriority").value,leave_before:e.leaveForm.get("leaveBefore").value,leave_after:e.leaveForm.get("leaveAfter").value,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc")};e.leaveManagementService.leaveIU(t).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}()).\u0275fac=function(e){return new(e||Ga)(c.Lb(f.c),c.Lb(b.a),c.Lb(ua.a),c.Lb(u.a))},Ga.\u0275cmp=c.Fb({type:Ga,selectors:[["app-leave-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/leave-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin"],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"card-title"],[1,"col-md-6"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","leaveName","placeholder","Leave Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"col-md-3"],["bindLabel","description","bindValue","id","placeholder","Select Gender","formControlName","selectedGender",3,"items"],["bindLabel","description","bindValue","id","placeholder","Select Attachment","formControlName","selectedAttachment",3,"items"],["bindLabel","description","bindValue","id","placeholder","Select Filed By","formControlName","selectedFiledBy",3,"items"],["bindLabel","description","bindValue","id","placeholder","Select Filed By","formControlName","selectedLeaveStart",3,"items"],["type","number","formControlName","totalLeaves","placeholder","0",1,"form-control"],["bindLabel","description","bindValue","id","placeholder","Select Attachment","formControlName","selectedAccrued",3,"items"],["type","number","formControlName","accruedCredits","placeholder","0",1,"form-control"],["type","number","formControlName","leavePerMonth","placeholder","0",1,"form-control"],["type","number","formControlName","convertibleToCash","placeholder","0",1,"form-control"],["type","number","formControlName","taxableCredits","placeholder","0",1,"form-control"],["type","number","formControlName","nonTaxableCredits","placeholder","0",1,"form-control"],["bindLabel","description","bindValue","id","placeholder","Select Filed By","formControlName","selectedPriority",3,"items"],["type","number","formControlName","leaveBefore","placeholder","0",1,"form-control"],["type","number","formControlName","leaveAfter","placeholder","0",1,"form-control"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],["hidden","",1,"btn","btn-primary",3,"swal"],[1,"text-danger","mt-1"]],template:function(e,t){1&e&&(c.Gc(0,ya,3,0,"div",0),c.Gc(1,Na,125,25,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,f.b,f.i,f.d,h.a,f.n,p.a,m.a],styles:[""]}),Ga),Ha=r("Jfpn");function Aa(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function Va(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Ic(4),c.Qb(),c.Rb(5,"td"),c.Ic(6),c.Qb(),c.Rb(7,"td"),c.Ic(8),c.Qb(),c.Rb(9,"td"),c.Ic(10),c.Qb(),c.Rb(11,"td"),c.Ic(12),c.Qb(),c.Rb(13,"td"),c.Rb(14,"button",22),c.bc("click",function(){c.xc(i);var e=t.$implicit;return c.dc(2).viewShift(e.shift_id)}),c.Mb(15,"i",23),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=t.$implicit;c.yb(2),c.Jc(a.shift_code),c.yb(2),c.Jc(a.shift_name),c.yb(2),c.Jc(a.description),c.yb(2),c.Jc(a.status),c.yb(2),c.Jc(a.created_desc),c.yb(2),c.Jc(a.date_created)}}var Ea=function(){return["/layout/administration/shiftcodesperday-detail"]};function Ua(e,t){if(1&e&&(c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",9),c.Ic(7,"Shift Codes"),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",10),c.Rb(9,"div",11),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Rb(12,"div",14),c.Rb(13,"div",10),c.Rb(14,"div",15),c.Rb(15,"h6"),c.Ic(16,"Shift Codes"),c.Qb(),c.Qb(),c.Rb(17,"div",15),c.Rb(18,"ul",16),c.Rb(19,"button",17),c.Mb(20,"i",18),c.Ic(21," Add Shift Codes "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(22,"hr"),c.Rb(23,"div",19),c.Rb(24,"table",20),c.Rb(25,"thead"),c.Rb(26,"tr"),c.Rb(27,"th"),c.Ic(28,"Shift Code"),c.Qb(),c.Rb(29,"th"),c.Ic(30,"Shift Name"),c.Qb(),c.Rb(31,"th"),c.Ic(32,"Description"),c.Qb(),c.Rb(33,"th"),c.Ic(34,"Status"),c.Qb(),c.Rb(35,"th"),c.Ic(36,"Created By"),c.Qb(),c.Rb(37,"th"),c.Ic(38,"Date Created"),c.Qb(),c.Mb(39,"th"),c.Qb(),c.Qb(),c.Rb(40,"tbody"),c.Gc(41,Va,16,6,"tr",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var i=c.dc();c.yb(19),c.jc("routerLink",c.mc(4,Ea)),c.yb(5),c.jc("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),c.yb(17),c.jc("ngForOf",i.table)}}function $a(e,t){1&e&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Ic(2,"Loading..."),c.Qb(),c.Qb())}function Ja(e,t){1&e&&(c.Rb(0,"p",37),c.Ic(1,"Please input shift name!"),c.Qb())}function Wa(e,t){1&e&&(c.Rb(0,"p",37),c.Ic(1,"Please input number!"),c.Qb())}function Ya(e,t){1&e&&(c.Rb(0,"p",37),c.Ic(1,"Please input description!"),c.Qb())}function qa(e,t){1&e&&(c.Rb(0,"th"),c.Ic(1,"First Break In"),c.Qb())}function za(e,t){1&e&&(c.Rb(0,"th"),c.Ic(1,"First Break Out"),c.Qb())}function Za(e,t){1&e&&(c.Rb(0,"th"),c.Ic(1,"Second Break In"),c.Qb())}function Ka(e,t){1&e&&(c.Rb(0,"th"),c.Ic(1,"Second Break Out"),c.Qb())}function Xa(e,t){1&e&&(c.Rb(0,"th"),c.Ic(1,"Third Break In"),c.Qb())}function er(e,t){1&e&&(c.Rb(0,"th"),c.Ic(1,"Third Break Out"),c.Qb())}function tr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().$implicit.popTimeIn=e})("ngModelChange",function(e){c.xc(i);var t=c.dc().index;return c.dc(2).onChangeTimeIn(t,e)}),c.Qb()}if(2&e){var a=c.dc().$implicit;c.jc("ngModel",a.popTimeIn)("meridian",!0)}}function ir(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().$implicit.popTimeOut=e})("ngModelChange",function(e){c.xc(i);var t=c.dc().index;return c.dc(2).onChangeTimeOut(t,e)}),c.Qb()}if(2&e){var a=c.dc().$implicit;c.jc("ngModel",a.popTimeOut)("meridian",!0)}}function ar(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().$implicit.popHalfdayIn=e})("ngModelChange",function(e){c.xc(i);var t=c.dc().index;return c.dc(2).onChangeHalfdayIn(t,e)}),c.Qb()}if(2&e){var a=c.dc().$implicit;c.jc("ngModel",a.popHalfdayIn)("meridian",!0)}}function rr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().$implicit.popHalfdayOut=e})("ngModelChange",function(e){c.xc(i);var t=c.dc().index;return c.dc(2).onChangeHalfdayOut(t,e)}),c.Qb()}if(2&e){var a=c.dc().$implicit;c.jc("ngModel",a.popHalfdayOut)("meridian",!0)}}function nr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().$implicit.popNightDiffIn=e})("ngModelChange",function(e){c.xc(i);var t=c.dc().index;return c.dc(2).onChangeNightDiffIn(t,e)}),c.Qb()}if(2&e){var a=c.dc().$implicit;c.jc("ngModel",a.popNightDiffIn)("meridian",!0)}}function or(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc().$implicit.popNightDiffOut=e})("ngModelChange",function(e){c.xc(i);var t=c.dc().index;return c.dc(2).onChangeNightDiffOut(t,e)}),c.Qb()}if(2&e){var a=c.dc().$implicit;c.jc("ngModel",a.popNightDiffOut)("meridian",!0)}}function cr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).$implicit.popFirstBreakIn=e})("ngModelChange",function(e){c.xc(i);var t=c.dc(2).index;return c.dc(2).onFirstBreakIn(t,e)}),c.Qb()}if(2&e){var a=c.dc(2).$implicit;c.jc("ngModel",a.popFirstBreakIn)("meridian",!0)}}function sr(e,t){if(1&e&&(c.Rb(0,"td"),c.Gc(1,cr,1,2,"ng-template",null,51,c.Hc),c.Mb(3,"input",42),c.ec(4,"date"),c.Qb()),2&e){var i=c.vc(2),a=c.dc().$implicit;c.yb(3),c.kc("value",c.gc(4,4,a.firstBreakIn,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",i)("outsideClick",!0)}}function br(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).$implicit.popFirstBreakOut=e})("ngModelChange",function(e){c.xc(i);var t=c.dc(2).index;return c.dc(2).onFirstBreakOut(t,e)}),c.Qb()}if(2&e){var a=c.dc(2).$implicit;c.jc("ngModel",a.popFirstBreakOut)("meridian",!0)}}function lr(e,t){if(1&e&&(c.Rb(0,"td"),c.Gc(1,br,1,2,"ng-template",null,52,c.Hc),c.Mb(3,"input",42),c.ec(4,"date"),c.Qb()),2&e){var i=c.vc(2),a=c.dc().$implicit;c.yb(3),c.kc("value",c.gc(4,4,a.firstBreakOut,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",i)("outsideClick",!0)}}function dr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).$implicit.popFirstBreakIn=e})("ngModelChange",function(e){c.xc(i);var t=c.dc(2).index;return c.dc(2).onSecondBreakIn(t,e)}),c.Qb()}if(2&e){var a=c.dc(2).$implicit;c.jc("ngModel",a.popFirstBreakIn)("meridian",!0)}}function ur(e,t){if(1&e&&(c.Rb(0,"td"),c.Gc(1,dr,1,2,"ng-template",null,53,c.Hc),c.Mb(3,"input",42),c.ec(4,"date"),c.Qb()),2&e){var i=c.vc(2),a=c.dc().$implicit;c.yb(3),c.kc("value",c.gc(4,4,a.secondBreakIn,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",i)("outsideClick",!0)}}function hr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).$implicit.popFirstBreakOut=e})("ngModelChange",function(e){c.xc(i);var t=c.dc(2).index;return c.dc(2).onSecondBreakOut(t,e)}),c.Qb()}if(2&e){var a=c.dc(2).$implicit;c.jc("ngModel",a.popFirstBreakOut)("meridian",!0)}}function fr(e,t){if(1&e&&(c.Rb(0,"td"),c.Gc(1,hr,1,2,"ng-template",null,54,c.Hc),c.Mb(3,"input",42),c.ec(4,"date"),c.Qb()),2&e){var i=c.vc(2),a=c.dc().$implicit;c.yb(3),c.kc("value",c.gc(4,4,a.secondBreakOut,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",i)("outsideClick",!0)}}function pr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).$implicit.popFirstBreakIn=e})("ngModelChange",function(e){c.xc(i);var t=c.dc(2).index;return c.dc(2).onThirdBreakIn(t,e)}),c.Qb()}if(2&e){var a=c.dc(2).$implicit;c.jc("ngModel",a.popFirstBreakIn)("meridian",!0)}}function mr(e,t){if(1&e&&(c.Rb(0,"td"),c.Gc(1,pr,1,2,"ng-template",null,55,c.Hc),c.Mb(3,"input",42),c.ec(4,"date"),c.Qb()),2&e){var i=c.vc(2),a=c.dc().$implicit;c.yb(3),c.kc("value",c.gc(4,4,a.thirdBreakIn,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",i)("outsideClick",!0)}}function vr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"ngb-timepicker",50),c.bc("ngModelChange",function(e){return c.xc(i),c.dc(2).$implicit.popFirstBreakOut=e})("ngModelChange",function(e){c.xc(i);var t=c.dc(2).index;return c.dc(2).onThirdBreakOut(t,e)}),c.Qb()}if(2&e){var a=c.dc(2).$implicit;c.jc("ngModel",a.popFirstBreakOut)("meridian",!0)}}function gr(e,t){if(1&e&&(c.Rb(0,"td"),c.Gc(1,vr,1,2,"ng-template",null,56,c.Hc),c.Mb(3,"input",42),c.ec(4,"date"),c.Qb()),2&e){var i=c.vc(2),a=c.dc().$implicit;c.yb(3),c.kc("value",c.gc(4,4,a.thirdBreakOut,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",i)("outsideClick",!0)}}function yr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"tr"),c.Rb(1,"td"),c.Ic(2),c.Qb(),c.Rb(3,"td"),c.Rb(4,"div",38),c.Rb(5,"input",39),c.bc("ngModelChange",function(){c.xc(i);var e=t.index;return c.dc(2).selectRestDay(e)})("ngModelChange",function(e){return t.$implicit.isRestday=e}),c.Qb(),c.Mb(6,"label",40),c.Qb(),c.Qb(),c.Rb(7,"td"),c.Gc(8,tr,1,2,"ng-template",null,41,c.Hc),c.Mb(10,"input",42),c.ec(11,"date"),c.Qb(),c.Rb(12,"td"),c.Gc(13,ir,1,2,"ng-template",null,43,c.Hc),c.Mb(15,"input",42),c.ec(16,"date"),c.Qb(),c.Rb(17,"td"),c.Rb(18,"input",44),c.bc("ngModelChange",function(e){return t.$implicit.workingHrs=e}),c.Qb(),c.Qb(),c.Rb(19,"td"),c.Gc(20,ar,1,2,"ng-template",null,45,c.Hc),c.Mb(22,"input",42),c.ec(23,"date"),c.Qb(),c.Rb(24,"td"),c.Gc(25,rr,1,2,"ng-template",null,46,c.Hc),c.Mb(27,"input",42),c.ec(28,"date"),c.Qb(),c.Rb(29,"td"),c.Gc(30,nr,1,2,"ng-template",null,47,c.Hc),c.Mb(32,"input",42),c.ec(33,"date"),c.Qb(),c.Rb(34,"td"),c.Gc(35,or,1,2,"ng-template",null,48,c.Hc),c.Mb(37,"input",42),c.ec(38,"date"),c.Qb(),c.Rb(39,"td"),c.Rb(40,"ng-select",49),c.bc("ngModelChange",function(e){return t.$implicit.breakCount=e})("change",function(){return c.xc(i),c.dc(2).breakChange()}),c.Qb(),c.Qb(),c.Gc(41,sr,5,7,"td",31),c.Gc(42,lr,5,7,"td",31),c.Gc(43,ur,5,7,"td",31),c.Gc(44,fr,5,7,"td",31),c.Gc(45,mr,5,7,"td",31),c.Gc(46,gr,5,7,"td",31),c.Qb()}if(2&e){var a=t.$implicit,r=t.index,n=c.vc(9),o=c.vc(14),s=c.vc(21),b=c.vc(26),l=c.vc(31),d=c.vc(36),u=c.dc(2);c.yb(2),c.Jc(a.day),c.yb(3),c.kc("id","chk"+r),c.jc("ngModel",a.isRestday),c.yb(1),c.kc("for","chk"+r),c.yb(4),c.kc("value",c.gc(11,38,a.timeIn,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",n)("outsideClick",!0),c.yb(5),c.kc("value",c.gc(16,41,a.timeOut,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",o)("outsideClick",!0),c.yb(3),c.jc("disabled",!u.shiftForm.value.isFlexi)("ngModel",a.workingHrs),c.yb(4),c.kc("value",c.gc(23,44,a.halfdayIn,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",s)("outsideClick",!0),c.yb(5),c.kc("value",c.gc(28,47,a.halfdayOut,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",b)("outsideClick",!0),c.yb(5),c.kc("value",c.gc(33,50,a.nightDiffIn,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",l)("outsideClick",!0),c.yb(5),c.kc("value",c.gc(38,53,a.nightDiffOut,"hh:mm aa")),c.jc("disabled",!a.disableRow)("popover",d)("outsideClick",!0),c.yb(3),c.jc("items",u.breakCount)("ngModel",a.breakCount),c.yb(1),c.jc("ngIf",null!==a.breakCount),c.yb(1),c.jc("ngIf",null!==a.breakCount),c.yb(1),c.jc("ngIf",a.breakCount>=2),c.yb(1),c.jc("ngIf",a.breakCount>=2),c.yb(1),c.jc("ngIf",a.breakCount>=3),c.yb(1),c.jc("ngIf",a.breakCount>=3)}}function Rr(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",4),c.Rb(1,"nav",5),c.Rb(2,"ol",6),c.Rb(3,"li",7),c.Rb(4,"a",8),c.Ic(5,"Company Setup"),c.Qb(),c.Qb(),c.Rb(6,"li",7),c.Rb(7,"a",9),c.Ic(8,"Shift Codes"),c.Qb(),c.Qb(),c.Rb(9,"li",10),c.Ic(10,"Detail"),c.Qb(),c.Qb(),c.Qb(),c.Rb(11,"div",11),c.Rb(12,"div",12),c.Rb(13,"div",13),c.Rb(14,"div",14),c.Rb(15,"div",15),c.Rb(16,"h6"),c.Ic(17,"Shift Codes"),c.Qb(),c.Qb(),c.Rb(18,"form",16),c.Rb(19,"div",11),c.Rb(20,"div",17),c.Rb(21,"div",18),c.Rb(22,"label",19),c.Ic(23,"Shift Name"),c.Qb(),c.Mb(24,"input",20),c.Gc(25,Ja,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(26,"div",22),c.Rb(27,"div",18),c.Rb(28,"label",19),c.Ic(29,"Grace Period"),c.Qb(),c.Mb(30,"input",23),c.Gc(31,Wa,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(32,"div",17),c.Rb(33,"div",18),c.Rb(34,"label",19),c.Ic(35,"Description"),c.Qb(),c.Mb(36,"input",24),c.Gc(37,Ya,2,0,"p",21),c.Qb(),c.Qb(),c.Rb(38,"div",22),c.Rb(39,"div",18),c.Rb(40,"label",19),c.Ic(41,"\xa0"),c.Qb(),c.Rb(42,"div",25),c.Rb(43,"label",26),c.Rb(44,"input",27),c.bc("change",function(e){return c.xc(i),c.dc().onFlexi(e)}),c.Qb(),c.Mb(45,"i",28),c.Ic(46," Is Flexi? "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Mb(47,"hr"),c.Qb(),c.Rb(48,"div",11),c.Rb(49,"div",29),c.Rb(50,"table",30),c.Rb(51,"thead"),c.Rb(52,"tr"),c.Rb(53,"th"),c.Ic(54,"Day"),c.Qb(),c.Rb(55,"th"),c.Ic(56,"Restday"),c.Qb(),c.Rb(57,"th"),c.Ic(58,"Time In"),c.Qb(),c.Rb(59,"th"),c.Ic(60,"Timout In"),c.Qb(),c.Rb(61,"th"),c.Ic(62,"Working Hrs"),c.Qb(),c.Rb(63,"th"),c.Ic(64,"Halfday In"),c.Qb(),c.Rb(65,"th"),c.Ic(66,"Halfday Out"),c.Qb(),c.Rb(67,"th"),c.Ic(68,"Night Diff In"),c.Qb(),c.Rb(69,"th"),c.Ic(70,"Night Diff Out"),c.Qb(),c.Rb(71,"th"),c.Ic(72,"Break Count"),c.Qb(),c.Gc(73,qa,2,0,"th",31),c.Gc(74,za,2,0,"th",31),c.Gc(75,Za,2,0,"th",31),c.Gc(76,Ka,2,0,"th",31),c.Gc(77,Xa,2,0,"th",31),c.Gc(78,er,2,0,"th",31),c.Qb(),c.Qb(),c.Rb(79,"tbody"),c.Gc(80,yr,47,56,"tr",32),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(81,"div",33),c.Rb(82,"ul",34),c.Rb(83,"button",35),c.bc("click",function(){return c.xc(i),c.dc().submit()}),c.Mb(84,"i",36),c.Ic(85," Save Shift Code "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&e){var a=c.dc();c.yb(18),c.jc("formGroup",a.shiftForm),c.yb(7),c.jc("ngIf",a.errShiftName),c.yb(6),c.jc("ngIf",a.errGracePeriod),c.yb(6),c.jc("ngIf",a.errDescription),c.yb(36),c.jc("ngIf",a.firstBreak),c.yb(1),c.jc("ngIf",a.firstBreak),c.yb(1),c.jc("ngIf",a.secondBreak),c.yb(1),c.jc("ngIf",a.secondBreak),c.yb(1),c.jc("ngIf",a.thirdBreak),c.yb(1),c.jc("ngIf",a.thirdBreak),c.yb(2),c.jc("ngForOf",a.shiftDetail)}}var Qr,_r,Ir,kr=[{path:"",component:Wi.a,children:[{path:"",redirectTo:"company",pathMatch:"full"},{path:"company",component:Ji},{path:"branch-view",component:oi},{path:"branch-detail",redirectTo:"branch-detail/",pathMatch:"full"},{path:"branch-detail/:id",component:Ti},{path:"module-access",component:ei},{path:"approval-process",component:Wt},{path:"dropdown-settings",component:Tt},{path:"series-code",component:Qt},{path:"shiftcodes-view",component:ft},{path:"shiftcodes-detail",redirectTo:"shiftcodes-detail/",pathMatch:"full"},{path:"shiftcodes-detail/:id",component:st},{path:"holiday-view",component:Le},{path:"holiday-detail",redirectTo:"holiday-detail/",pathMatch:"full"},{path:"holiday-detail/:id",component:Fe},{path:"allowance-deduction-view",component:le},{path:"allowance-deduction-detail",redirectTo:"allowance-deduction-detail/",pathMatch:"full"},{path:"allowance-deduction-detail/:id",component:te},{path:"payroll-rates",component:E},{path:"contributions",component:N},{path:"leave-view",component:ga},{path:"leave-detail",redirectTo:"leave-detail/",pathMatch:"full"},{path:"leave-detail/:id",component:Pa},{path:"shiftcodesperday-view",component:(_r=function(){function t(i,a){e(this,t),this.shiftcodeManagementService=i,this.router=a,this.isLoading=!0,this.table=[],this.dtOptions={},this.dtTrigger=new ie.a}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,lengthMenu:[5,10,25],processing:!0},this.shiftcodeManagementService.shiftPerDayView(0).subscribe(function(t){e.table=t.map(function(e){return{active:e.active,created_by:e.created_by,created_desc:e.created_by_name,date_created:e.date_created,shift_code:e.shift_per_day_code,shift_name:e.shift_name,status:e.status,shift_id:e.shift_per_day_id,description:e.description}}),e.isLoading=!1,setTimeout(function(){e.dtTrigger.next()},100)},function(e){console.log(e.error)})}},{key:"viewShift",value:function(e){this.router.navigate(["/layout/administration/shiftcodesperday-detail",e])}}]),t}(),_r.\u0275fac=function(e){return new(e||_r)(c.Lb(Se.a),c.Lb(u.c))},_r.\u0275cmp=c.Fb({type:_r,selectors:[["app-shiftcodesperday-view"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col-md-6"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"routerLink"],["data-feather","edit","appFeatherIcon","",1,"btn-icon-prepend"],[1,"table-responsive"],["id","dataTableExample","datatable","",1,"table",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary","btn-icon",3,"click"],[1,"feather","icon-edit-2"]],template:function(e,t){1&e&&(c.Gc(0,Aa,3,0,"div",0),c.Gc(1,Ua,42,5,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,u.d,p.a,re.a,d.m],styles:[""]}),_r)},{path:"shiftcodesperday-detail",redirectTo:"shiftcodesperday-detail/",pathMatch:"full"},{path:"shiftcodesperday-detail/:id",component:(Qr=function(){function t(i,a,r,n){e(this,t),this.fb=i,this.route=a,this.decimalPipe=r,this.shiftcodeManagementService=n,this.isLoading=!0,this.firstBreak=!1,this.secondBreak=!1,this.thirdBreak=!1,this.shiftDetail=[],this.defaultDate=new Date("1900-01-01 00:00"),this.pipe=new d.e("en-US"),this.breakCount=[{id:1,description:"One Break"},{id:2,description:"Two Break"},{id:3,description:"Three Break"}]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.shiftID=this.route.snapshot.paramMap.get("id"),this.shiftForm=this.fb.group({shiftName:"",shiftCode:"",gracePeriod:this.decimalPipe.transform(0,"1.2-2"),description:"",isFlexi:!1}),this.resetError(!1),""!=this.shiftID?this.shiftcodeManagementService.shiftPerDayView(this.shiftID).subscribe(function(t){e.shiftForm.setValue({shiftName:t[0].shift_name,shiftCode:t[0].shift_per_day_code,gracePeriod:e.decimalPipe.transform(t[0].grace_period,"1.2-2"),description:t[0].description,isFlexi:t[0].is_flexi}),e.shiftcodeManagementService.shiftDetailPerDayView(e.shiftID).subscribe(function(t){e.shiftDetail=t.map(function(t){return{day:t.day_name,index:t.day,isRestday:t.is_rest_day,disableRow:!0!==t.is_rest_day,popTimeIn:new Date("1900-01-01 "+t.time_in),timeIn:new Date("1900-01-01 "+t.time_in),prevTimeIn:new Date("1900-01-01 "+t.time_in),popTimeOut:new Date("1900-01-01 "+t.time_out),timeOut:new Date("1900-01-01 "+t.time_out),prevTimeOut:new Date("1900-01-01 "+t.time_out),popHalfdayIn:new Date("1900-01-01 "+t.half_day_in),halfdayIn:new Date("1900-01-01 "+t.half_day_in),prevHalfdayIn:new Date("1900-01-01 "+t.half_day_in),popHalfdayOut:new Date("1900-01-01 "+t.half_day_out),halfdayOut:new Date("1900-01-01 "+t.half_day_out),prevHalfdayOut:new Date("1900-01-01 "+t.half_day_out),popNightDiffIn:new Date("1900-01-01 "+t.night_dif_in),nightDiffIn:new Date("1900-01-01 "+t.night_dif_in),prevNightDiffIn:new Date("1900-01-01 "+t.night_dif_in),popNightDiffOut:new Date("1900-01-01 "+t.night_dif_out),nightDiffOut:new Date("1900-01-01 "+t.night_dif_out),prevNightDiffOut:new Date("1900-01-01 "+t.night_dif_out),breakCount:0===t.break_count?null:t.break_count,popFirstBreakIn:new Date("1900-01-01 "+t.first_break_in),firstBreakIn:new Date("1900-01-01 "+t.first_break_in),prevFirstBreakIn:new Date("1900-01-01 "+t.first_break_in),popFirstBreakOut:new Date("1900-01-01 "+t.first_break_out),firstBreakOut:new Date("1900-01-01 "+t.first_break_out),prevFirstBreakOut:new Date("1900-01-01 "+t.first_break_out),popSecondBreakIn:new Date("1900-01-01 "+t.second_break_in),secondBreakIn:new Date("1900-01-01 "+t.second_break_in),prevSecondBreakIn:new Date("1900-01-01 "+t.second_break_in),popSecondBreakOut:new Date("1900-01-01 "+t.second_break_out),secondBreakOut:new Date("1900-01-01 "+t.second_break_out),prevSecondBreakOut:new Date("1900-01-01 "+t.second_break_out),popThirdBreakIn:new Date("1900-01-01 "+t.third_break_in),thirdBreakIn:new Date("1900-01-01 "+t.third_break_in),prevThirdBreakIn:new Date("1900-01-01 "+t.third_break_in),popThirdBreakOut:new Date("1900-01-01 "+t.third_break_out),thirdBreakOut:new Date("1900-01-01 "+t.third_break_out),prevThirdBreakOut:new Date("1900-01-01 "+t.third_break_out),workingHrs:e.decimalPipe.transform(t.total_working_hours,"1.2-2"),prevWorkingHrs:e.decimalPipe.transform(t.total_working_hours,"1.2-2")}}),e.isLoading=!1},function(e){console.log(e.error)})},function(e){console.log(e.error)}):(this.shiftDetail.push({day:"Sunday",index:1,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Monday",index:2,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Tuesday",index:3,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Wednesday",index:4,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Thursday",index:5,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Friday",index:6,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")},{day:"Saturday",index:7,isRestday:!1,disableRow:!0,popTimeIn:this.defaultDate,timeIn:this.defaultDate,prevTimeIn:this.defaultDate,popTimeOut:this.defaultDate,timeOut:this.defaultDate,prevTimeOut:this.defaultDate,popHalfdayIn:this.defaultDate,halfdayIn:this.defaultDate,prevHalfdayIn:this.defaultDate,popHalfdayOut:this.defaultDate,halfdayOut:this.defaultDate,prevHalfdayOut:this.defaultDate,popNightDiffIn:this.defaultDate,nightDiffIn:new Date("1900-01-01 22:00"),prevNightDiffIn:this.defaultDate,popNightDiffOut:this.defaultDate,nightDiffOut:new Date("1900-01-01 06:00"),prevNightDiffOut:new Date("1900-01-01 06:00"),breakCount:null,popFirstBreakIn:this.defaultDate,firstBreakIn:this.defaultDate,prevFirstBreakIn:this.defaultDate,popFirstBreakOut:this.defaultDate,firstBreakOut:this.defaultDate,prevFirstBreakOut:this.defaultDate,popSecondBreakIn:this.defaultDate,secondBreakIn:this.defaultDate,prevSecondBreakIn:this.defaultDate,popSecondBreakOut:this.defaultDate,secondBreakOut:this.defaultDate,prevSecondBreakOut:this.defaultDate,popThirdBreakIn:this.defaultDate,thirdBreakIn:this.defaultDate,prevThirdBreakIn:this.defaultDate,popThirdBreakOut:this.defaultDate,thirdBreakOut:this.defaultDate,prevThirdBreakOut:this.defaultDate,workingHrs:this.decimalPipe.transform(0,"1.2-2"),prevWorkingHrs:this.decimalPipe.transform(0,"1.2-2")}),this.shiftID="0",this.isLoading=!1)}},{key:"selectRestDay",value:function(e){this.shiftDetail[e].disableRow=this.shiftDetail[e].isRestday,this.shiftDetail[e].isRestday?(this.shiftDetail[e].timeIn=this.shiftDetail[e].prevTimeIn,this.shiftDetail[e].timeOut=this.shiftDetail[e].prevTimeOut,this.shiftDetail[e].halfdayIn=this.shiftDetail[e].prevHalfdayIn,this.shiftDetail[e].halfdayOut=this.shiftDetail[e].prevHalfdayOut,this.shiftDetail[e].nightDiffIn=this.shiftDetail[e].prevNightDiffIn,this.shiftDetail[e].nightDiffOut=this.shiftDetail[e].prevNightDiffOut,this.shiftDetail[e].firstBreakIn=this.shiftDetail[e].prevFirstBreakIn,this.shiftDetail[e].firstBreakOut=this.shiftDetail[e].prevFirstBreakOut,this.shiftDetail[e].secondBreakIn=this.shiftDetail[e].prevSecondBreakIn,this.shiftDetail[e].secondBreakOut=this.shiftDetail[e].prevSecondBreakOut,this.shiftDetail[e].thirdBreakIn=this.shiftDetail[e].prevThirdBreakIn,this.shiftDetail[e].thirdBreakOut=this.shiftDetail[e].prevThirdBreakOut,this.shiftDetail[e].workingHrs=this.decimalPipe.transform(this.shiftDetail[e].prevWorkingHrs,"1.2-2")):(this.shiftDetail[e].timeIn=this.defaultDate,this.shiftDetail[e].timeOut=new Date("1900-01-01 11:59"),this.shiftDetail[e].halfdayIn=this.defaultDate,this.shiftDetail[e].halfdayOut=this.defaultDate,this.shiftDetail[e].nightDiffIn=new Date("1900-01-01 22:00"),this.shiftDetail[e].nightDiffOut=new Date("1900-01-01 06:00"),this.shiftDetail[e].firstBreakIn=this.defaultDate,this.shiftDetail[e].firstBreakOut=this.defaultDate,this.shiftDetail[e].secondBreakIn=this.defaultDate,this.shiftDetail[e].secondBreakOu=this.defaultDate,this.shiftDetail[e].thirdBreakIn=this.defaultDate,this.shiftDetail[e].thirdBreakOut=this.defaultDate,this.shiftDetail[e].workingHrs=this.decimalPipe.transform(0,"1.2-2"))}},{key:"onFlexi",value:function(e){var t=this;if(e.target.checked)this.shiftDetail.map(function(e){return e.workingHrs=t.decimalPipe.transform(0,"1.2-2")}),this.shiftDetail.map(function(e){return e.prevWorkingHrs=t.decimalPipe.transform(0,"1.2-2")});else for(var i=0;i<this.shiftDetail.length;i++)this.computeDateDiff(i)}},{key:"computeDateDiff",value:function(e){if(null!==this.shiftDetail[e].timeIn||""!==this.shiftDetail[e].timeIn&&null!==this.shiftDetail[e].timeOut||""!==this.shiftDetail[e].timeOut){var t=new Date(this.shiftDetail[e].timeIn),i=new Date(this.shiftDetail[e].timeOut);t>i&&i.setDate(i.getDate()+1);var a=(i.valueOf()-t.valueOf())/1e3/60/60;this.shiftDetail[e].workingHrs=this.decimalPipe.transform(a,"1.2-2"),this.shiftDetail[e].prevWorkingHrs=this.decimalPipe.transform(a,"1.2-2")}}},{key:"onChangeTimeIn",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].timeIn=i,this.shiftDetail[e].prevTimeIn=i,this.computeDateDiff(e)}}},{key:"onChangeTimeOut",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].timeOut=i,this.shiftDetail[e].prevTimeOut=i,this.computeDateDiff(e)}}},{key:"onChangeHalfdayIn",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].halfdayIn=i,this.shiftDetail[e].prevHalfdayIn=i}}},{key:"onChangeHalfdayOut",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].halfdayOut=i,this.shiftDetail[e].prevHalfdayOut=i}}},{key:"onChangeNightDiffIn",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].nightDiffIn=i,this.shiftDetail[e].prevNightDiffIn=i}}},{key:"onChangeNightDiffOut",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].nightDiffOut=i,this.shiftDetail[e].prevNightDiffOut=i}}},{key:"onFirstBreakIn",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].firstBreakIn=i,this.shiftDetail[e].prevFirstBreakIn=i}}},{key:"onFirstBreakOut",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].firstBreakOut=i,this.shiftDetail[e].prevFirstBreakOut=i}}},{key:"onSecondBreakIn",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].secondBreakIn=i,this.shiftDetail[e].prevSecondBreakIn=i}}},{key:"onSecondBreakOut",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].secondBreakOut=i,this.shiftDetail[e].prevSecondBreakOut=i}}},{key:"onThirdBreakIn",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].thirdBreakIn=i,this.shiftDetail[e].prevThirdBreakIn=i}}},{key:"onThirdBreakOut",value:function(e,t){if(null!==t.hour&&null!==t.minute){var i=new Date("1900-01-01 "+t.hour+":"+t.minute);this.shiftDetail[e].thirdBreakOut=i,this.shiftDetail[e].prevThirdBreakOut=i}}},{key:"breakChange",value:function(){for(var e=0,t=0;t<this.shiftDetail.length;t++)e<this.shiftDetail[t].breakCount&&(e=3===this.shiftDetail[t].breakCount?3:2===this.shiftDetail[t].breakCount?2:1===this.shiftDetail[t].breakCount?1:0);3===e?(this.firstBreak=!0,this.secondBreak=!0,this.thirdBreak=!0):2===e?(this.firstBreak=!0,this.secondBreak=!0,this.thirdBreak=!1):1===e?(this.firstBreak=!0,this.secondBreak=!1,this.thirdBreak=!1):(this.firstBreak=!1,this.secondBreak=!1,this.thirdBreak=!1)}},{key:"resetError",value:function(e){this.errDescription=e,this.errShiftName=e,this.errGracePeriod=e}},{key:"validation",value:function(){this.resetError(!1);var e=!0;return""!==this.shiftForm.get("shiftName").value&&null!==this.shiftForm.get("shiftName").value||(e=!1,this.errShiftName=!0),null!==this.shiftForm.get("gracePeriod").value&&""!==this.shiftForm.get("gracePeriod").value||(e=!1,this.errGracePeriod=!0),""!==this.shiftForm.get("description").value&&null!==this.shiftForm.get("description").value||(e=!1,this.errDescription=!0),e}},{key:"submit",value:function(){var e=this;this.validation()&&o.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0}).then(function(t){t.isConfirmed&&o.a.fire({title:"Please Wait !",allowOutsideClick:!1,onBeforeOpen:function(){o.a.showLoading();var t=e.shiftDetail.map(function(t){return{shift_per_day_id:e.shiftID,shift_per_day_code:e.shiftForm.value.shiftCode,shift_name:e.shiftForm.value.shiftName,grace_period:parseFloat(e.shiftForm.value.gracePeriod.replace(",","")),description:e.shiftForm.value.description,is_flexi:e.shiftForm.value.isFlexi,time_in:e.pipe.transform(t.timeIn,"MM/dd/yyyy hh:mm a"),time_out:e.pipe.transform(t.timeOut,"MM/dd/yyyy hh:mm a"),total_working_hours:parseFloat(t.workingHrs.toString().replace(",","")),half_day_in:e.pipe.transform(t.halfdayIn,"MM/dd/yyyy hh:mm a"),half_day_out:e.pipe.transform(t.halfdayOut,"MM/dd/yyyy hh:mm a"),night_dif_in:e.pipe.transform(t.nightDiffIn,"MM/dd/yyyy hh:mm a"),night_dif_out:e.pipe.transform(t.nightDiffOut,"MM/dd/yyyy hh:mm a"),first_break_in:e.pipe.transform(t.firstBreakIn,"MM/dd/yyyy hh:mm a"),first_break_out:e.pipe.transform(t.firstBreakOut,"MM/dd/yyyy hh:mm a"),second_break_in:e.pipe.transform(t.secondBreakIn,"MM/dd/yyyy hh:mm a"),second_break_out:e.pipe.transform(t.secondBreakOut,"MM/dd/yyyy hh:mm a"),third_break_in:e.pipe.transform(t.thirdBreakIn,"MM/dd/yyyy hh:mm a"),third_break_out:e.pipe.transform(t.thirdBreakOut,"MM/dd/yyyy hh:mm a"),break_count:null===t.breakCount?0:t.breakCount,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),day:t.index,is_rest_day:t.isRestday}}),i={shift_per_day_id:e.shiftID,shift_per_day_code:e.shiftForm.value.shiftCode,shift_name:e.shiftForm.value.shiftName,grace_period:parseFloat(e.shiftForm.value.gracePeriod.replace(",","")),description:e.shiftForm.value.description,is_flexi:e.shiftForm.value.isFlexi,created_by:sessionStorage.getItem("u"),active:!0,series_code:sessionStorage.getItem("sc"),Detail:t};e.shiftcodeManagementService.shiftDetailIU(i).subscribe(function(e){0===e?o.a.fire("Failed!","Transaction failed!","error"):o.a.fire("Ok!","Transaction successful!","success")},function(e){console.log(e.error),o.a.fire("Failed!","Transaction failed!","error")})}})})}}]),t}(),Qr.\u0275fac=function(e){return new(e||Qr)(c.Lb(f.c),c.Lb(u.a),c.Lb(d.f),c.Lb(Se.a))},Qr.\u0275cmp=c.Fb({type:Qr,selectors:[["app-shiftcodesperday-detail"]],decls:2,vars:2,consts:[["class","spinner-wrapper",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngIf"],[1,"spinner-wrapper"],[1,"spinner"],[1,"animate__animated","animate__fadeInUp"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["routerLink","/layout/administration/shiftcodesperday-view"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[1,"col-sm-4"],[1,"form-group"],[1,"control-label"],["type","text","formControlName","shiftName","placeholder","Shift Name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"col-sm-2"],["type","number","formControlName","gracePeriod","placeholder","Grace Period",1,"form-control"],["type","text","formControlName","description","placeholder","Description",1,"form-control"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","formControlName","isFlexi",1,"form-check-input",3,"change"],[1,"input-frame"],[1,"table-responsive"],["id","dataTableExample",1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"nav","justify-content-end"],[1,"btn","btn-primary","btn-icon-text",3,"click"],["data-feather","save","appFeatherIcon","",1,"btn-icon-prepend"],[1,"text-danger","mt-1"],[1,"custom-control","custom-switch"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange"],[1,"custom-control-label",3,"for"],["popTemplateIn",""],["type","text","placement","bottom",1,"form-control",2,"width","110px",3,"disabled","value","popover","outsideClick"],["popTemplateOut",""],["type","text","placeholder","0",1,"form-control",3,"disabled","ngModel","ngModelChange"],["popTemplateHalfdayIn",""],["popTemplateHalfdayOut",""],["popTemplateNightDiffIn",""],["popTemplateNightDiffOut",""],["name","Break Count","bindLabel","description","bindValue","id","placeholder","Select Break",3,"items","ngModel","ngModelChange","change"],[3,"ngModel","meridian","ngModelChange"],["popTemplateFirstBreakIn",""],["popTemplateFirstBreakOut",""],["popTemplateSecondBreakIn",""],["popTemplateSecondBreakOut",""],["popTemplateThirdBreakIn",""],["popTemplateThirdBreakOut",""]],template:function(e,t){1&e&&(c.Gc(0,$a,3,0,"div",0),c.Gc(1,Rr,86,11,"div",1)),2&e&&(c.jc("ngIf",t.isLoading),c.yb(1),c.jc("ngIf",!t.isLoading))},directives:[d.n,u.f,f.s,f.j,f.e,f.b,f.i,f.d,f.n,f.a,d.m,p.a,f.l,xe.a,h.a,fe.r],pipes:[d.e],styles:[".td-custom[_ngcontent-%COMP%]{padding:0!important;vertical-align:middle!important;border:none!important}"]}),Qr)}]}],Dr=((Ir=function t(){e(this,t)}).\u0275mod=c.Jb({type:Ir}),Ir.\u0275inj=c.Ib({factory:function(e){return new(e||Ir)},providers:[d.f,{provide:fe.b,useClass:Ha.a}],imports:[[d.c,f.f,f.p,u.g.forChild(kr),la,h.b,m.b.forRoot(),m.b,m.b.forChild({}),da.a,re.b,ci.b.forRoot({validation:!0}),fe.k,je.b.forRoot(),xe.b.forRoot(),Ot.a]]}),Ir)}}])}();