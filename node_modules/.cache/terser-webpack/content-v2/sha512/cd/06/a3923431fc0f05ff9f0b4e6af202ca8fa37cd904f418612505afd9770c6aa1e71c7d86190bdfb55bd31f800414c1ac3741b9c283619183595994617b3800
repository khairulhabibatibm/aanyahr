{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{XfGX:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"DataUploadModule\",function(){return data_upload_module_DataUploadModule});var common=__webpack_require__(\"ofXK\"),data_upload_component=__webpack_require__(\"tE69\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),router=__webpack_require__(\"tyNb\"),feather_icon_module=__webpack_require__(\"tyVc\"),ng_select_ng_select=__webpack_require__(\"ZOsW\"),_ivy_ngcc_=__webpack_require__(\"njyG\"),environment=__webpack_require__(\"AytR\"),fesm2015_http=__webpack_require__(\"IheW\"),sweetalert2_all=__webpack_require__(\"PSD3\"),sweetalert2_all_default=__webpack_require__.n(sweetalert2_all),core=__webpack_require__(\"fXoL\"),permissionManagement_service=__webpack_require__(\"EAui\"),dataUploadManagement_service=__webpack_require__(\"nkOh\"),tenantDefault_service=__webpack_require__(\"Txdn\"),userManagement_service=__webpack_require__(\"ltvU\"),filingManagement_service=__webpack_require__(\"xNm2\"),feather_icon_directive=__webpack_require__(\"IYwT\");function UploaderComponent_div_0_Template(rf,ctx){1&rf&&(core.Rb(0,\"div\",2),core.Rb(1,\"div\",3),core.Ic(2,\"Loading...\"),core.Qb(),core.Qb())}function UploaderComponent_div_1_div_25_Template(rf,ctx){if(1&rf&&(core.Rb(0,\"div\",30),core.Rb(1,\"div\",31),core.Ic(2),core.Qb(),core.Qb()),2&rf){const ctx_r3=core.dc(2);core.yb(1),core.Ec(\"width: \",ctx_r3.progress,\"%;\"),core.yb(1),core.Kc(\" \",ctx_r3.progress,\"%\")}}function UploaderComponent_div_1_table_42_ng_container_3_th_1_Template(rf,ctx){if(1&rf&&(core.Rb(0,\"th\"),core.Ic(1),core.Qb()),2&rf){const x_r7=core.dc().$implicit;core.yb(1),core.Jc(x_r7.colname)}}function UploaderComponent_div_1_table_42_ng_container_3_Template(rf,ctx){if(1&rf&&(core.Pb(0),core.Gc(1,UploaderComponent_div_1_table_42_ng_container_3_th_1_Template,2,1,\"th\",34),core.Ob()),2&rf){const x_r7=ctx.$implicit;core.yb(1),core.jc(\"ngIf\",x_r7.is_view)}}function UploaderComponent_div_1_table_42_tr_5_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Pb(0),core.Rb(1,\"td\",35),core.Ic(2),core.Qb(),core.Ob()),2&rf){const objKey_r13=core.dc().$implicit,row_r11=core.dc().$implicit;core.yb(1),core.jc(\"ngClass\",1===row_r11.with_error?\"has_error\":\"\"),core.yb(1),core.Jc(row_r11[objKey_r13])}}function UploaderComponent_div_1_table_42_tr_5_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Pb(0),core.Gc(1,UploaderComponent_div_1_table_42_tr_5_ng_container_1_ng_container_1_Template,3,2,\"ng-container\",34),core.Ob()),2&rf){const objKey_r13=ctx.$implicit;core.yb(1),core.jc(\"ngIf\",\"with_error\"!==objKey_r13)}}function UploaderComponent_div_1_table_42_tr_5_Template(rf,ctx){if(1&rf&&(core.Rb(0,\"tr\"),core.Gc(1,UploaderComponent_div_1_table_42_tr_5_ng_container_1_Template,2,1,\"ng-container\",33),core.Qb()),2&rf){const row_r11=ctx.$implicit,ctx_r6=core.dc(3);core.yb(1),core.jc(\"ngForOf\",ctx_r6._object.keys(row_r11))}}function UploaderComponent_div_1_table_42_Template(rf,ctx){if(1&rf&&(core.Rb(0,\"table\",32),core.Rb(1,\"thead\"),core.Rb(2,\"tr\"),core.Gc(3,UploaderComponent_div_1_table_42_ng_container_3_Template,2,1,\"ng-container\",33),core.Qb(),core.Qb(),core.Rb(4,\"tbody\"),core.Gc(5,UploaderComponent_div_1_table_42_tr_5_Template,2,1,\"tr\",33),core.Qb(),core.Qb()),2&rf){const ctx_r4=core.dc(2);core.yb(3),core.jc(\"ngForOf\",ctx_r4.tableOutput),core.yb(2),core.jc(\"ngForOf\",ctx_r4.returnOutput)}}function UploaderComponent_div_1_Template(rf,ctx){if(1&rf){const _r19=core.Sb();core.Rb(0,\"div\",4),core.Rb(1,\"div\",5),core.Rb(2,\"div\",6),core.Rb(3,\"h6\"),core.Ic(4,\"Data Upload\"),core.Qb(),core.Qb(),core.Rb(5,\"div\",7),core.Rb(6,\"div\",8),core.Rb(7,\"div\",9),core.Rb(8,\"div\",10),core.Rb(9,\"label\",11),core.Ic(10,\"Data Upload\"),core.Qb(),core.Rb(11,\"ng-select\",12),core.bc(\"ngModelChange\",function($event){return core.xc(_r19),core.dc().selectedData=$event})(\"change\",function(){return core.xc(_r19),core.dc().onChange()}),core.Qb(),core.Qb(),core.Qb(),core.Rb(12,\"div\",13),core.Rb(13,\"div\",10),core.Rb(14,\"label\",11),core.Ic(15,\" \"),core.Qb(),core.Rb(16,\"input\",14,15),core.bc(\"change\",function($event){return core.xc(_r19),core.dc().uploadFile($event)}),core.Qb(),core.Rb(18,\"div\",16),core.bc(\"click\",function($event){return core.xc(_r19),core.dc().openFileBrowser($event)}),core.Mb(19,\"input\",17),core.Rb(20,\"span\",18),core.Rb(21,\"button\",19),core.Mb(22,\"i\",20),core.Ic(23,\" Upload\"),core.Qb(),core.Ic(24,\"   \"),core.Qb(),core.Qb(),core.Gc(25,UploaderComponent_div_1_div_25_Template,3,4,\"div\",21),core.Qb(),core.Qb(),core.Rb(26,\"div\",22),core.Rb(27,\"div\",10),core.Rb(28,\"label\",11),core.Ic(29,\" \"),core.Qb(),core.Rb(30,\"div\",10),core.Rb(31,\"button\",23),core.bc(\"click\",function(){return core.xc(_r19),core.dc().exportTemplate()}),core.Mb(32,\"i\",24),core.Ic(33,\" Download Template\"),core.Qb(),core.Ic(34,\"  \"),core.Rb(35,\"button\",25),core.bc(\"click\",function(){return core.xc(_r19),core.dc().submit()}),core.Mb(36,\"i\",26),core.Ic(37,\" Save \"),core.Qb(),core.Qb(),core.Qb(),core.Qb(),core.Qb(),core.Mb(38,\"hr\"),core.Rb(39,\"div\",27),core.Rb(40,\"p\",28),core.Ic(41),core.Qb(),core.Gc(42,UploaderComponent_div_1_table_42_Template,6,2,\"table\",29),core.Qb(),core.Qb(),core.Qb(),core.Qb()}if(2&rf){const ctx_r1=core.dc();core.yb(11),core.jc(\"items\",ctx_r1.uploadList)(\"ngModel\",ctx_r1.selectedData),core.yb(14),core.jc(\"ngIf\",ctx_r1.progress>0),core.yb(16),core.Jc(ctx_r1.errorText),core.yb(1),core.jc(\"ngIf\",ctx_r1.showTable)}}const routes=[{path:\"\",component:data_upload_component.a,children:[{path:\"\",redirectTo:\"data-upload\",pathMatch:\"full\"},{path:\"data-upload\",component:(()=>{class UploaderComponent{constructor(permissionManagementService,dataUploadManagementService,http,handler,tenantDefaultService,userManagementService,filingManagementService){this.permissionManagementService=permissionManagementService,this.dataUploadManagementService=dataUploadManagementService,this.http=http,this.handler=handler,this.tenantDefaultService=tenantDefaultService,this.userManagementService=userManagementService,this.filingManagementService=filingManagementService,this.uri=environment.a.exportUrl,this.isLoading=!0,this.showTable=!0,this.uploadList=[],this.headerList=[],this.tableOutput=[],this.selectedOutput=[],this.returnOutput=[],this.progress=0,this._object=Object,this.uploadFile=event=>{event.target.files.length&&document.querySelector(\"#fileUploadInputExample + .input-group .file-upload-info\").setAttribute(\"value\",event.target.files[0].name);var files=event.target.files;0!==files.length&&this.uploadFiles(files)}}ngOnInit(){this.http=new fesm2015_http.c(this.handler),this.permissionManagementService.dataUploadAccess(sessionStorage.getItem(\"al\")).subscribe(data=>{this.uploadList=data,this.isLoading=!1},error=>{console.log(error.error)})}openFileBrowser(event){event.preventDefault(),document.querySelector(\"#fileUploadInputExample\").click(),event.target.files&&event.target.files[0]&&(new FileReader).readAsDataURL(event.target.files[0])}onChange(){this.tableOutput=[],this.headerList=[],this.returnOutput=[],this.dataUploadManagementService.uploadHeader(this.selectedData).subscribe(data=>{this.tableOutput=data,this.headerList=data,this.showTable=!0},error=>{console.log(error.error)})}exportTemplate(){const selected=this.uploadList.filter(x=>x.data_upload_id===this.selectedData)[0];this.dataUploadManagementService.downloadTemplate(selected.export).subscribe(data=>{window.location.href=this.uri+data.response},error=>{console.log(error.error)})}uploadFiles(files){this.errorText=\"\";const selected=this.uploadList.filter(x=>x.data_upload_id===this.selectedData)[0];this.http=new fesm2015_http.c(this.handler);let fileToUpload=files[0];const formData=new FormData;formData.append(\"formfile\",fileToUpload,fileToUpload.name),this.http.post(this.uri+selected.upload+\"?created_by=\"+sessionStorage.getItem(\"u\")+\"&dropdown_id=\"+this.selectedData+\"&series_code=\"+sessionStorage.getItem(\"sc\"),formData,{reportProgress:!0,observe:\"events\"}).subscribe(event=>{event.type===fesm2015_http.e.UploadProgress?this.progress=Math.round(100*event.loaded/event.total):event.type===fesm2015_http.e.Response&&(sweetalert2_all_default.a.fire(\"Ok!\",\"Upload successful!\",\"success\"),this.dataUploadManagementService.uploadDetail(this.selectedData).subscribe(data=>{let temp=JSON.parse(data.toString());this.selectedOutput=JSON.parse(data.toString());for(var i=0;i<this.tableOutput.length;i++){let col=this.tableOutput[i].columns,isView=this.tableOutput[i].is_view;\"with_error\"!==col&&(isView||temp.forEach(function(x){delete x[col]}))}this.returnOutput=temp,this.returnOutput.filter(x=>1===x.with_error).length>0&&(this.errorText=\"There are \"+this.returnOutput.filter(x=>1===x.with_error).length+\" rows error on your file please review.\")},error=>{console.log(error.error)}))})}submit(){let title=\"Are you sure?\";this.returnOutput.filter(x=>1===x.with_error).length>0&&(title=\"Are you sure sure you want to continue? There are \"+this.returnOutput.filter(x=>1===x.with_error).length+\" rows that will not be saved.\"),sweetalert2_all_default.a.fire({title:title,icon:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes\",showLoaderOnConfirm:!0}).then(result=>{result.isConfirmed&&sweetalert2_all_default.a.fire({title:\"Please Wait !\",allowOutsideClick:!1,onBeforeOpen:()=>{sweetalert2_all_default.a.showLoading();const selected=this.uploadList.filter(x=>x.data_upload_id===this.selectedData)[0];var obj={series_code:sessionStorage.getItem(\"sc\"),created_by:sessionStorage.getItem(\"u\")};switch(selected.service){case\"TenantSetupManagement\":this.tenantDefaultService.uploadIn(selected.save,obj).subscribe(data=>{0===data?sweetalert2_all_default.a.fire(\"Failed!\",\"Transaction failed!\",\"error\"):sweetalert2_all_default.a.fire(\"Ok!\",\"Transaction successful!\",\"success\")},error=>{console.log(error.error),sweetalert2_all_default.a.fire(\"Failed!\",\"Transaction failed!\",\"error\")});break;case\"UserManagement\":this.userManagementService.uploadIn(selected.save,obj).subscribe(data=>{0===data?sweetalert2_all_default.a.fire(\"Failed!\",\"Transaction failed!\",\"error\"):sweetalert2_all_default.a.fire(\"Ok!\",\"Transaction successful!\",\"success\")},error=>{console.log(error.error),sweetalert2_all_default.a.fire(\"Failed!\",\"Transaction failed!\",\"error\")});break;case\"FilingManagement\":this.filingManagementService.uploadIn(selected.save,obj).subscribe(data=>{0===data?sweetalert2_all_default.a.fire(\"Failed!\",\"Transaction failed!\",\"error\"):sweetalert2_all_default.a.fire(\"Ok!\",\"Transaction successful!\",\"success\")},error=>{console.log(error.error),sweetalert2_all_default.a.fire(\"Failed!\",\"Transaction failed!\",\"error\")})}}})})}}return UploaderComponent.ɵfac=function(t){return new(t||UploaderComponent)(core.Lb(permissionManagement_service.a),core.Lb(dataUploadManagement_service.a),core.Lb(fesm2015_http.c),core.Lb(fesm2015_http.b),core.Lb(tenantDefault_service.a),core.Lb(userManagement_service.a),core.Lb(filingManagement_service.a))},UploaderComponent.ɵcmp=core.Fb({type:UploaderComponent,selectors:[[\"app-uploader\"]],decls:2,vars:2,consts:[[\"class\",\"spinner-wrapper\",4,\"ngIf\"],[\"class\",\"animate__animated animate__fadeInUp\",4,\"ngIf\"],[1,\"spinner-wrapper\"],[1,\"spinner\"],[1,\"animate__animated\",\"animate__fadeInUp\"],[1,\"card\"],[1,\"card-header\"],[1,\"card-body\"],[1,\"row\"],[1,\"col-md-3\"],[1,\"form-group\"],[1,\"control-label\"],[\"name\",\"industry\",\"bindLabel\",\"data_upload_name\",\"bindValue\",\"data_upload_id\",\"placeholder\",\"Select Data Upload\",3,\"items\",\"ngModel\",\"ngModelChange\",\"change\"],[1,\"col-md-5\"],[\"placeholder\",\"Choose file\",\"type\",\"file\",\"name\",\"img[]\",\"id\",\"fileUploadInputExample\",1,\"file-upload-default\",3,\"change\"],[\"file\",\"\"],[1,\"input-group\",\"col-xs-12\",3,\"click\"],[\"type\",\"text\",\"disabled\",\"\",\"placeholder\",\"Upload Log\",1,\"form-control\",\"file-upload-info\"],[1,\"input-group-append\"],[\"type\",\"button\",1,\"file-upload-browse\",\"btn\",\"btn-primary\",\"btn-icon-text\"],[\"data-feather\",\"upload\",\"appFeatherIcon\",\"\",1,\"btn-icon-prepend\"],[\"class\",\"progress\",4,\"ngIf\"],[1,\"col-md-4\"],[\"type\",\"button\",1,\"btn\",\"btn-primary\",\"btn-icon-text\",3,\"click\"],[\"data-feather\",\"download\",\"appFeatherIcon\",\"\",1,\"btn-icon-prepend\"],[1,\"btn\",\"btn-primary\",\"btn-icon-text\",3,\"click\"],[\"data-feather\",\"save\",\"appFeatherIcon\",\"\",1,\"btn-icon-prepend\"],[1,\"table-responsive\"],[1,\"text-danger\",\"mt-1\"],[\"id\",\"dataTableExample\",\"class\",\"table table-bordered\",4,\"ngIf\"],[1,\"progress\"],[\"role\",\"progressbar\",\"aria-valuemin\",\"0\",\"aria-valuemax\",\"100\",1,\"progress-bar\"],[\"id\",\"dataTableExample\",1,\"table\",\"table-bordered\"],[4,\"ngFor\",\"ngForOf\"],[4,\"ngIf\"],[3,\"ngClass\"]],template:function(rf,ctx){1&rf&&(core.Gc(0,UploaderComponent_div_0_Template,3,0,\"div\",0),core.Gc(1,UploaderComponent_div_1_Template,43,5,\"div\",1)),2&rf&&(core.jc(\"ngIf\",ctx.isLoading),core.yb(1),core.jc(\"ngIf\",!ctx.isLoading))},directives:[common.n,ng_select_ng_select.a,fesm2015_forms.i,fesm2015_forms.l,feather_icon_directive.a,common.m,common.l],styles:[\".has_error[_ngcontent-%COMP%]{background-color:#9acd32}\"]}),UploaderComponent})()}]}];let data_upload_module_DataUploadModule=(()=>{class DataUploadModule{}return DataUploadModule.ɵmod=core.Jb({type:DataUploadModule}),DataUploadModule.ɵinj=core.Ib({factory:function(t){return new(t||DataUploadModule)},imports:[[common.c,fesm2015_forms.f,fesm2015_forms.p,router.g.forChild(routes),feather_icon_module.a,ng_select_ng_select.b,_ivy_ngcc_.b]]}),DataUploadModule})()},njyG:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return angular_datatables_directive_DataTableDirective}),__webpack_require__.d(__webpack_exports__,\"b\",function(){return angular_datatables_module_DataTablesModule});var core=__webpack_require__(\"fXoL\"),angular_datatables_directive_DataTableDirective=function(){function DataTableDirective(el){this.el=el,this.dtOptions={}}return DataTableDirective.prototype.ngOnInit=function(){var _this=this;this.dtTrigger?this.dtTrigger.subscribe(function(){_this.displayTable()}):this.displayTable()},DataTableDirective.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},DataTableDirective.prototype.displayTable=function(){var _this=this;this.dtInstance=new Promise(function(resolve,reject){Promise.resolve(_this.dtOptions).then(function(dtOptions){setTimeout(function(){var options={rowCallback:function(row,data,index){if(dtOptions.columns){var columns_1=dtOptions.columns;columns_1.filter(function(x){return x.ngPipeInstance}).forEach(function(el){var pipe=el.ngPipeInstance,i=columns_1.findIndex(function(e){return e.data==el.data}),rowFromCol=row.childNodes.item(i),rowVal=$(rowFromCol).text(),rowValAfter=pipe.transform(rowVal);$(rowFromCol).text(rowValAfter)})}_this.dtOptions.rowCallback&&_this.dtOptions.rowCallback(row,data,index)}};options=Object.assign({},dtOptions,options),_this.dt=$(_this.el.nativeElement).DataTable(options),resolve(_this.dt)})})})},DataTableDirective.ɵfac=function(t){return new(t||DataTableDirective)(core.Lb(core.l))},DataTableDirective.ɵdir=core.Gb({type:DataTableDirective,selectors:[[\"\",\"datatable\",\"\"]],inputs:{dtOptions:\"dtOptions\",dtTrigger:\"dtTrigger\"}}),DataTableDirective}(),common=__webpack_require__(\"ofXK\"),angular_datatables_module_DataTablesModule=function(){function DataTablesModule(){}return DataTablesModule.forRoot=function(){return{ngModule:DataTablesModule}},DataTablesModule.ɵmod=core.Jb({type:DataTablesModule}),DataTablesModule.ɵinj=core.Ib({factory:function(t){return new(t||DataTablesModule)},imports:[[common.c]]}),DataTablesModule}()}}]);","name":"13-es2015.5c1b14b64dd2c1926584.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[13],{\n\n/***/ \"XfGX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"DataUploadModule\", function() { return /* binding */ data_upload_module_DataUploadModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/app/page/data-upload/data-upload.component.ts\nvar data_upload_component = __webpack_require__(\"tE69\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 9 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/app/core/feather-icon/feather-icon.module.ts\nvar feather_icon_module = __webpack_require__(\"tyVc\");\n\n// EXTERNAL MODULE: ./node_modules/@ng-select/ng-select/__ivy_ngcc__/fesm2015/ng-select-ng-select.js + 5 modules\nvar ng_select_ng_select = __webpack_require__(\"ZOsW\");\n\n// EXTERNAL MODULE: ./node_modules/angular-datatables/__ivy_ngcc__/index.js + 2 modules\nvar _ivy_ngcc_ = __webpack_require__(\"njyG\");\n\n// EXTERNAL MODULE: ./src/environments/environment.ts\nvar environment = __webpack_require__(\"AytR\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/fesm2015/http.js\nvar fesm2015_http = __webpack_require__(\"IheW\");\n\n// EXTERNAL MODULE: ./node_modules/sweetalert2/dist/sweetalert2.all.js\nvar sweetalert2_all = __webpack_require__(\"PSD3\");\nvar sweetalert2_all_default = /*#__PURE__*/__webpack_require__.n(sweetalert2_all);\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/services/PermissionManagementService/permissionManagement.service.ts\nvar permissionManagement_service = __webpack_require__(\"EAui\");\n\n// EXTERNAL MODULE: ./src/app/services/DataUploadManagementService/dataUploadManagement.service.ts\nvar dataUploadManagement_service = __webpack_require__(\"nkOh\");\n\n// EXTERNAL MODULE: ./src/app/services/TenantDefaultService/tenantDefault.service.ts\nvar tenantDefault_service = __webpack_require__(\"Txdn\");\n\n// EXTERNAL MODULE: ./src/app/services/UserManagementService/userManagement.service.ts\nvar userManagement_service = __webpack_require__(\"ltvU\");\n\n// EXTERNAL MODULE: ./src/app/services/FilingManagementService/filingManagement.service.ts\nvar filingManagement_service = __webpack_require__(\"xNm2\");\n\n// EXTERNAL MODULE: ./src/app/core/feather-icon/feather-icon.directive.ts\nvar feather_icon_directive = __webpack_require__(\"IYwT\");\n\n// CONCATENATED MODULE: ./src/app/page/data-upload/uploader/uploader.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction UploaderComponent_div_0_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Rb\" /* ɵɵelementStart */](0, \"div\", 2);\r\n        core[\"Rb\" /* ɵɵelementStart */](1, \"div\", 3);\r\n        core[\"Ic\" /* ɵɵtext */](2, \"Loading...\");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_div_25_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Rb\" /* ɵɵelementStart */](0, \"div\", 30);\r\n        core[\"Rb\" /* ɵɵelementStart */](1, \"div\", 31);\r\n        core[\"Ic\" /* ɵɵtext */](2);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r3 = core[\"dc\" /* ɵɵnextContext */](2);\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"Ec\" /* ɵɵstyleMapInterpolate1 */](\"width: \", ctx_r3.progress, \"%;\");\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"Kc\" /* ɵɵtextInterpolate1 */](\" \", ctx_r3.progress, \"%\");\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_table_42_ng_container_3_th_1_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Rb\" /* ɵɵelementStart */](0, \"th\");\r\n        core[\"Ic\" /* ɵɵtext */](1);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const x_r7 = core[\"dc\" /* ɵɵnextContext */]().$implicit;\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"Jc\" /* ɵɵtextInterpolate */](x_r7.colname);\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_table_42_ng_container_3_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Pb\" /* ɵɵelementContainerStart */](0);\r\n        core[\"Gc\" /* ɵɵtemplate */](1, UploaderComponent_div_1_table_42_ng_container_3_th_1_Template, 2, 1, \"th\", 34);\r\n        core[\"Ob\" /* ɵɵelementContainerEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const x_r7 = ctx.$implicit;\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngIf\", x_r7.is_view);\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_table_42_tr_5_ng_container_1_ng_container_1_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Pb\" /* ɵɵelementContainerStart */](0);\r\n        core[\"Rb\" /* ɵɵelementStart */](1, \"td\", 35);\r\n        core[\"Ic\" /* ɵɵtext */](2);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Ob\" /* ɵɵelementContainerEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const objKey_r13 = core[\"dc\" /* ɵɵnextContext */]().$implicit;\r\n        const row_r11 = core[\"dc\" /* ɵɵnextContext */]().$implicit;\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngClass\", row_r11.with_error === 1 ? \"has_error\" : \"\");\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"Jc\" /* ɵɵtextInterpolate */](row_r11[objKey_r13]);\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_table_42_tr_5_ng_container_1_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Pb\" /* ɵɵelementContainerStart */](0);\r\n        core[\"Gc\" /* ɵɵtemplate */](1, UploaderComponent_div_1_table_42_tr_5_ng_container_1_ng_container_1_Template, 3, 2, \"ng-container\", 34);\r\n        core[\"Ob\" /* ɵɵelementContainerEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const objKey_r13 = ctx.$implicit;\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngIf\", objKey_r13 !== \"with_error\");\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_table_42_tr_5_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Rb\" /* ɵɵelementStart */](0, \"tr\");\r\n        core[\"Gc\" /* ɵɵtemplate */](1, UploaderComponent_div_1_table_42_tr_5_ng_container_1_Template, 2, 1, \"ng-container\", 33);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const row_r11 = ctx.$implicit;\r\n        const ctx_r6 = core[\"dc\" /* ɵɵnextContext */](3);\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngForOf\", ctx_r6._object.keys(row_r11));\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_table_42_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Rb\" /* ɵɵelementStart */](0, \"table\", 32);\r\n        core[\"Rb\" /* ɵɵelementStart */](1, \"thead\");\r\n        core[\"Rb\" /* ɵɵelementStart */](2, \"tr\");\r\n        core[\"Gc\" /* ɵɵtemplate */](3, UploaderComponent_div_1_table_42_ng_container_3_Template, 2, 1, \"ng-container\", 33);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](4, \"tbody\");\r\n        core[\"Gc\" /* ɵɵtemplate */](5, UploaderComponent_div_1_table_42_tr_5_Template, 2, 1, \"tr\", 33);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r4 = core[\"dc\" /* ɵɵnextContext */](2);\r\n        core[\"yb\" /* ɵɵadvance */](3);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngForOf\", ctx_r4.tableOutput);\r\n        core[\"yb\" /* ɵɵadvance */](2);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngForOf\", ctx_r4.returnOutput);\r\n    }\r\n}\r\nfunction UploaderComponent_div_1_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r19 = core[\"Sb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](0, \"div\", 4);\r\n        core[\"Rb\" /* ɵɵelementStart */](1, \"div\", 5);\r\n        core[\"Rb\" /* ɵɵelementStart */](2, \"div\", 6);\r\n        core[\"Rb\" /* ɵɵelementStart */](3, \"h6\");\r\n        core[\"Ic\" /* ɵɵtext */](4, \"Data Upload\");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](5, \"div\", 7);\r\n        core[\"Rb\" /* ɵɵelementStart */](6, \"div\", 8);\r\n        core[\"Rb\" /* ɵɵelementStart */](7, \"div\", 9);\r\n        core[\"Rb\" /* ɵɵelementStart */](8, \"div\", 10);\r\n        core[\"Rb\" /* ɵɵelementStart */](9, \"label\", 11);\r\n        core[\"Ic\" /* ɵɵtext */](10, \"Data Upload\");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](11, \"ng-select\", 12);\r\n        core[\"bc\" /* ɵɵlistener */](\"ngModelChange\", function UploaderComponent_div_1_Template_ng_select_ngModelChange_11_listener($event) { core[\"xc\" /* ɵɵrestoreView */](_r19); const ctx_r18 = core[\"dc\" /* ɵɵnextContext */](); return ctx_r18.selectedData = $event; })(\"change\", function UploaderComponent_div_1_Template_ng_select_change_11_listener() { core[\"xc\" /* ɵɵrestoreView */](_r19); const ctx_r20 = core[\"dc\" /* ɵɵnextContext */](); return ctx_r20.onChange(); });\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](12, \"div\", 13);\r\n        core[\"Rb\" /* ɵɵelementStart */](13, \"div\", 10);\r\n        core[\"Rb\" /* ɵɵelementStart */](14, \"label\", 11);\r\n        core[\"Ic\" /* ɵɵtext */](15, \"\\u00A0\");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](16, \"input\", 14, 15);\r\n        core[\"bc\" /* ɵɵlistener */](\"change\", function UploaderComponent_div_1_Template_input_change_16_listener($event) { core[\"xc\" /* ɵɵrestoreView */](_r19); const ctx_r21 = core[\"dc\" /* ɵɵnextContext */](); return ctx_r21.uploadFile($event); });\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](18, \"div\", 16);\r\n        core[\"bc\" /* ɵɵlistener */](\"click\", function UploaderComponent_div_1_Template_div_click_18_listener($event) { core[\"xc\" /* ɵɵrestoreView */](_r19); const ctx_r22 = core[\"dc\" /* ɵɵnextContext */](); return ctx_r22.openFileBrowser($event); });\r\n        core[\"Mb\" /* ɵɵelement */](19, \"input\", 17);\r\n        core[\"Rb\" /* ɵɵelementStart */](20, \"span\", 18);\r\n        core[\"Rb\" /* ɵɵelementStart */](21, \"button\", 19);\r\n        core[\"Mb\" /* ɵɵelement */](22, \"i\", 20);\r\n        core[\"Ic\" /* ɵɵtext */](23, \" Upload\");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Ic\" /* ɵɵtext */](24, \" \\u00A0 \");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Gc\" /* ɵɵtemplate */](25, UploaderComponent_div_1_div_25_Template, 3, 4, \"div\", 21);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](26, \"div\", 22);\r\n        core[\"Rb\" /* ɵɵelementStart */](27, \"div\", 10);\r\n        core[\"Rb\" /* ɵɵelementStart */](28, \"label\", 11);\r\n        core[\"Ic\" /* ɵɵtext */](29, \"\\u00A0\");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Rb\" /* ɵɵelementStart */](30, \"div\", 10);\r\n        core[\"Rb\" /* ɵɵelementStart */](31, \"button\", 23);\r\n        core[\"bc\" /* ɵɵlistener */](\"click\", function UploaderComponent_div_1_Template_button_click_31_listener() { core[\"xc\" /* ɵɵrestoreView */](_r19); const ctx_r23 = core[\"dc\" /* ɵɵnextContext */](); return ctx_r23.exportTemplate(); });\r\n        core[\"Mb\" /* ɵɵelement */](32, \"i\", 24);\r\n        core[\"Ic\" /* ɵɵtext */](33, \" Download Template\");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Ic\" /* ɵɵtext */](34, \"\\u00A0 \");\r\n        core[\"Rb\" /* ɵɵelementStart */](35, \"button\", 25);\r\n        core[\"bc\" /* ɵɵlistener */](\"click\", function UploaderComponent_div_1_Template_button_click_35_listener() { core[\"xc\" /* ɵɵrestoreView */](_r19); const ctx_r24 = core[\"dc\" /* ɵɵnextContext */](); return ctx_r24.submit(); });\r\n        core[\"Mb\" /* ɵɵelement */](36, \"i\", 26);\r\n        core[\"Ic\" /* ɵɵtext */](37, \" Save \");\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Mb\" /* ɵɵelement */](38, \"hr\");\r\n        core[\"Rb\" /* ɵɵelementStart */](39, \"div\", 27);\r\n        core[\"Rb\" /* ɵɵelementStart */](40, \"p\", 28);\r\n        core[\"Ic\" /* ɵɵtext */](41);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Gc\" /* ɵɵtemplate */](42, UploaderComponent_div_1_table_42_Template, 6, 2, \"table\", 29);\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n        core[\"Qb\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r1 = core[\"dc\" /* ɵɵnextContext */]();\r\n        core[\"yb\" /* ɵɵadvance */](11);\r\n        core[\"jc\" /* ɵɵproperty */](\"items\", ctx_r1.uploadList)(\"ngModel\", ctx_r1.selectedData);\r\n        core[\"yb\" /* ɵɵadvance */](14);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngIf\", ctx_r1.progress > 0);\r\n        core[\"yb\" /* ɵɵadvance */](16);\r\n        core[\"Jc\" /* ɵɵtextInterpolate */](ctx_r1.errorText);\r\n        core[\"yb\" /* ɵɵadvance */](1);\r\n        core[\"jc\" /* ɵɵproperty */](\"ngIf\", ctx_r1.showTable);\r\n    }\r\n}\r\nlet uploader_component_UploaderComponent = /*@__PURE__*/ (() => {\r\n    class UploaderComponent {\r\n        constructor(permissionManagementService, dataUploadManagementService, http, handler, tenantDefaultService, userManagementService, filingManagementService) {\r\n            this.permissionManagementService = permissionManagementService;\r\n            this.dataUploadManagementService = dataUploadManagementService;\r\n            this.http = http;\r\n            this.handler = handler;\r\n            this.tenantDefaultService = tenantDefaultService;\r\n            this.userManagementService = userManagementService;\r\n            this.filingManagementService = filingManagementService;\r\n            this.uri = environment[\"a\" /* environment */].exportUrl;\r\n            this.isLoading = true;\r\n            this.showTable = true;\r\n            this.uploadList = [];\r\n            this.headerList = [];\r\n            this.tableOutput = [];\r\n            this.selectedOutput = [];\r\n            this.returnOutput = [];\r\n            this.progress = 0;\r\n            this._object = Object;\r\n            this.uploadFile = (event) => {\r\n                if (event.target.files.length) {\r\n                    let element = document.querySelector(\"#fileUploadInputExample + .input-group .file-upload-info\");\r\n                    let fileName = event.target.files[0].name;\r\n                    element.setAttribute('value', fileName);\r\n                }\r\n                var files = event.target.files;\r\n                if (files.length === 0) {\r\n                    return;\r\n                }\r\n                this.uploadFiles(files);\r\n            };\r\n        }\r\n        ngOnInit() {\r\n            this.http = new fesm2015_http[\"c\" /* HttpClient */](this.handler);\r\n            this.permissionManagementService.dataUploadAccess(sessionStorage.getItem('al')).subscribe(data => {\r\n                this.uploadList = data;\r\n                this.isLoading = false;\r\n            }, (error) => {\r\n                console.log(error.error);\r\n            });\r\n        }\r\n        openFileBrowser(event) {\r\n            event.preventDefault();\r\n            let element = document.querySelector(\"#fileUploadInputExample\");\r\n            element.click();\r\n            if (event.target.files && event.target.files[0]) {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(event.target.files[0]);\r\n            }\r\n        }\r\n        onChange() {\r\n            this.tableOutput = [];\r\n            this.headerList = [];\r\n            this.returnOutput = [];\r\n            this.dataUploadManagementService.uploadHeader(this.selectedData).subscribe(data => {\r\n                this.tableOutput = data;\r\n                this.headerList = data;\r\n                this.showTable = true;\r\n            }, (error) => {\r\n                console.log(error.error);\r\n            });\r\n        }\r\n        exportTemplate() {\r\n            const selected = this.uploadList.filter(x => x.data_upload_id === this.selectedData)[0];\r\n            this.dataUploadManagementService.downloadTemplate(selected.export).subscribe(data => {\r\n                window.location.href = this.uri + data['response'];\r\n            }, (error) => {\r\n                console.log(error.error);\r\n            });\r\n        }\r\n        uploadFiles(files) {\r\n            this.errorText = \"\";\r\n            debugger;\r\n            const selected = this.uploadList.filter(x => x.data_upload_id === this.selectedData)[0];\r\n            this.http = new fesm2015_http[\"c\" /* HttpClient */](this.handler);\r\n            let fileToUpload = files[0];\r\n            const formData = new FormData();\r\n            formData.append('formfile', fileToUpload, fileToUpload.name);\r\n            this.http.post(this.uri + selected.upload +\r\n                \"?created_by=\" + sessionStorage.getItem('u') +\r\n                \"&dropdown_id=\" + this.selectedData +\r\n                \"&series_code=\" + sessionStorage.getItem('sc'), formData, { reportProgress: true, observe: 'events' })\r\n                .subscribe(event => {\r\n                if (event.type === fesm2015_http[\"e\" /* HttpEventType */].UploadProgress)\r\n                    this.progress = Math.round(100 * event.loaded / event.total);\r\n                else if (event.type === fesm2015_http[\"e\" /* HttpEventType */].Response) {\r\n                    sweetalert2_all_default.a.fire(\"Ok!\", \"Upload successful!\", \"success\");\r\n                    this.dataUploadManagementService.uploadDetail(this.selectedData).subscribe(data => {\r\n                        let temp = JSON.parse(data.toString());\r\n                        this.selectedOutput = JSON.parse(data.toString());\r\n                        for (var i = 0; i < this.tableOutput.length; i++) {\r\n                            let col = this.tableOutput[i].columns;\r\n                            let isView = this.tableOutput[i].is_view;\r\n                            if (col !== \"with_error\") {\r\n                                if (!isView) {\r\n                                    temp.forEach(function (x) { delete x[col]; });\r\n                                }\r\n                            }\r\n                        }\r\n                        this.returnOutput = temp;\r\n                        if (this.returnOutput.filter(x => x.with_error === 1).length > 0) {\r\n                            this.errorText = \"There are \" + this.returnOutput.filter(x => x.with_error === 1).length + \" rows error on your file please review.\";\r\n                        }\r\n                    }, (error) => {\r\n                        console.log(error.error);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        submit() {\r\n            let title = \"Are you sure?\";\r\n            if (this.returnOutput.filter(x => x.with_error === 1).length > 0) {\r\n                title = \"Are you sure sure you want to continue? There are \" + this.returnOutput.filter(x => x.with_error === 1).length + \" rows that will not be saved.\";\r\n            }\r\n            sweetalert2_all_default.a.fire({\r\n                title: title,\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Yes',\r\n                showLoaderOnConfirm: true,\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    sweetalert2_all_default.a.fire({\r\n                        title: 'Please Wait !',\r\n                        allowOutsideClick: false,\r\n                        onBeforeOpen: () => {\r\n                            sweetalert2_all_default.a.showLoading();\r\n                            const selected = this.uploadList.filter(x => x.data_upload_id === this.selectedData)[0];\r\n                            var obj = {\r\n                                series_code: sessionStorage.getItem('sc'),\r\n                                created_by: sessionStorage.getItem('u')\r\n                            };\r\n                            switch (selected.service) {\r\n                                case \"TenantSetupManagement\":\r\n                                    this.tenantDefaultService.uploadIn(selected.save, obj).subscribe(data => {\r\n                                        if (data === 0) {\r\n                                            sweetalert2_all_default.a.fire(\"Failed!\", \"Transaction failed!\", \"error\");\r\n                                        }\r\n                                        else {\r\n                                            sweetalert2_all_default.a.fire(\"Ok!\", \"Transaction successful!\", \"success\");\r\n                                        }\r\n                                    }, (error) => {\r\n                                        console.log(error.error);\r\n                                        sweetalert2_all_default.a.fire(\"Failed!\", \"Transaction failed!\", \"error\");\r\n                                    });\r\n                                    break;\r\n                                case \"UserManagement\":\r\n                                    this.userManagementService.uploadIn(selected.save, obj).subscribe(data => {\r\n                                        if (data === 0) {\r\n                                            sweetalert2_all_default.a.fire(\"Failed!\", \"Transaction failed!\", \"error\");\r\n                                        }\r\n                                        else {\r\n                                            sweetalert2_all_default.a.fire(\"Ok!\", \"Transaction successful!\", \"success\");\r\n                                        }\r\n                                    }, (error) => {\r\n                                        console.log(error.error);\r\n                                        sweetalert2_all_default.a.fire(\"Failed!\", \"Transaction failed!\", \"error\");\r\n                                    });\r\n                                    break;\r\n                                case \"FilingManagement\":\r\n                                    this.filingManagementService.uploadIn(selected.save, obj).subscribe(data => {\r\n                                        if (data === 0) {\r\n                                            sweetalert2_all_default.a.fire(\"Failed!\", \"Transaction failed!\", \"error\");\r\n                                        }\r\n                                        else {\r\n                                            sweetalert2_all_default.a.fire(\"Ok!\", \"Transaction successful!\", \"success\");\r\n                                        }\r\n                                    }, (error) => {\r\n                                        console.log(error.error);\r\n                                        sweetalert2_all_default.a.fire(\"Failed!\", \"Transaction failed!\", \"error\");\r\n                                    });\r\n                                    break;\r\n                            }\r\n                        },\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    UploaderComponent.ɵfac = function UploaderComponent_Factory(t) { return new (t || UploaderComponent)(core[\"Lb\" /* ɵɵdirectiveInject */](permissionManagement_service[\"a\" /* PermissionManagementService */]), core[\"Lb\" /* ɵɵdirectiveInject */](dataUploadManagement_service[\"a\" /* DataUploadManagementService */]), core[\"Lb\" /* ɵɵdirectiveInject */](fesm2015_http[\"c\" /* HttpClient */]), core[\"Lb\" /* ɵɵdirectiveInject */](fesm2015_http[\"b\" /* HttpBackend */]), core[\"Lb\" /* ɵɵdirectiveInject */](tenantDefault_service[\"a\" /* TenantDefaultService */]), core[\"Lb\" /* ɵɵdirectiveInject */](userManagement_service[\"a\" /* UserManagementService */]), core[\"Lb\" /* ɵɵdirectiveInject */](filingManagement_service[\"a\" /* FilingManagementService */])); };\r\n    UploaderComponent.ɵcmp = core[\"Fb\" /* ɵɵdefineComponent */]({ type: UploaderComponent, selectors: [[\"app-uploader\"]], decls: 2, vars: 2, consts: [[\"class\", \"spinner-wrapper\", 4, \"ngIf\"], [\"class\", \"animate__animated animate__fadeInUp\", 4, \"ngIf\"], [1, \"spinner-wrapper\"], [1, \"spinner\"], [1, \"animate__animated\", \"animate__fadeInUp\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-3\"], [1, \"form-group\"], [1, \"control-label\"], [\"name\", \"industry\", \"bindLabel\", \"data_upload_name\", \"bindValue\", \"data_upload_id\", \"placeholder\", \"Select Data Upload\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [1, \"col-md-5\"], [\"placeholder\", \"Choose file\", \"type\", \"file\", \"name\", \"img[]\", \"id\", \"fileUploadInputExample\", 1, \"file-upload-default\", 3, \"change\"], [\"file\", \"\"], [1, \"input-group\", \"col-xs-12\", 3, \"click\"], [\"type\", \"text\", \"disabled\", \"\", \"placeholder\", \"Upload Log\", 1, \"form-control\", \"file-upload-info\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"file-upload-browse\", \"btn\", \"btn-primary\", \"btn-icon-text\"], [\"data-feather\", \"upload\", \"appFeatherIcon\", \"\", 1, \"btn-icon-prepend\"], [\"class\", \"progress\", 4, \"ngIf\"], [1, \"col-md-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-icon-text\", 3, \"click\"], [\"data-feather\", \"download\", \"appFeatherIcon\", \"\", 1, \"btn-icon-prepend\"], [1, \"btn\", \"btn-primary\", \"btn-icon-text\", 3, \"click\"], [\"data-feather\", \"save\", \"appFeatherIcon\", \"\", 1, \"btn-icon-prepend\"], [1, \"table-responsive\"], [1, \"text-danger\", \"mt-1\"], [\"id\", \"dataTableExample\", \"class\", \"table table-bordered\", 4, \"ngIf\"], [1, \"progress\"], [\"role\", \"progressbar\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\"], [\"id\", \"dataTableExample\", 1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"ngClass\"]], template: function UploaderComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Gc\" /* ɵɵtemplate */](0, UploaderComponent_div_0_Template, 3, 0, \"div\", 0);\r\n                core[\"Gc\" /* ɵɵtemplate */](1, UploaderComponent_div_1_Template, 43, 5, \"div\", 1);\r\n            }\r\n            if (rf & 2) {\r\n                core[\"jc\" /* ɵɵproperty */](\"ngIf\", ctx.isLoading);\r\n                core[\"yb\" /* ɵɵadvance */](1);\r\n                core[\"jc\" /* ɵɵproperty */](\"ngIf\", !ctx.isLoading);\r\n            }\r\n        }, directives: [common[\"n\" /* NgIf */], ng_select_ng_select[\"a\" /* NgSelectComponent */], fesm2015_forms[\"i\" /* NgControlStatus */], fesm2015_forms[\"l\" /* NgModel */], feather_icon_directive[\"a\" /* FeatherIconDirective */], common[\"m\" /* NgForOf */], common[\"l\" /* NgClass */]], styles: [\".has_error[_ngcontent-%COMP%]{background-color:#9acd32}\"] });\r\n    return UploaderComponent;\r\n})();\r\n\n// CONCATENATED MODULE: ./src/app/page/data-upload/data-upload.module.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst routes = [\r\n    {\r\n        path: '',\r\n        component: data_upload_component[\"a\" /* DataUploadComponent */],\r\n        children: [\r\n            {\r\n                path: '',\r\n                redirectTo: 'data-upload',\r\n                pathMatch: 'full'\r\n            },\r\n            {\r\n                path: 'data-upload',\r\n                component: uploader_component_UploaderComponent\r\n            }\r\n        ]\r\n    }\r\n];\r\nlet data_upload_module_DataUploadModule = /*@__PURE__*/ (() => {\r\n    class DataUploadModule {\r\n    }\r\n    DataUploadModule.ɵmod = core[\"Jb\" /* ɵɵdefineNgModule */]({ type: DataUploadModule });\r\n    DataUploadModule.ɵinj = core[\"Ib\" /* ɵɵdefineInjector */]({ factory: function DataUploadModule_Factory(t) { return new (t || DataUploadModule)(); }, imports: [[\r\n                common[\"c\" /* CommonModule */],\r\n                fesm2015_forms[\"f\" /* FormsModule */],\r\n                fesm2015_forms[\"p\" /* ReactiveFormsModule */],\r\n                router[\"g\" /* RouterModule */].forChild(routes),\r\n                feather_icon_module[\"a\" /* FeahterIconModule */],\r\n                ng_select_ng_select[\"b\" /* NgSelectModule */],\r\n                _ivy_ngcc_[\"b\" /* DataTablesModule */],\r\n            ]] });\r\n    return DataUploadModule;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"njyG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ angular_datatables_directive_DataTableDirective; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* reexport */ angular_datatables_module_DataTablesModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// CONCATENATED MODULE: ./node_modules/angular-datatables/__ivy_ngcc__/src/angular-datatables.directive.js\n/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\n\n\nvar angular_datatables_directive_DataTableDirective = /** @class */ /*@__PURE__*/ (function () {\n    function DataTableDirective(el) {\n        this.el = el;\n        /**\n         * The DataTable option you pass to configure your table.\n         */\n        this.dtOptions = {};\n    }\n    DataTableDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        if (this.dtTrigger) {\n            this.dtTrigger.subscribe(function () {\n                _this.displayTable();\n            });\n        }\n        else {\n            this.displayTable();\n        }\n    };\n    DataTableDirective.prototype.ngOnDestroy = function () {\n        if (this.dtTrigger) {\n            this.dtTrigger.unsubscribe();\n        }\n        if (this.dt) {\n            this.dt.destroy(true);\n        }\n    };\n    DataTableDirective.prototype.displayTable = function () {\n        var _this = this;\n        this.dtInstance = new Promise(function (resolve, reject) {\n            Promise.resolve(_this.dtOptions).then(function (dtOptions) {\n                // Using setTimeout as a \"hack\" to be \"part\" of NgZone\n                setTimeout(function () {\n                    // Assign DT properties here\n                    var options = {\n                        rowCallback: function (row, data, index) {\n                            if (dtOptions.columns) {\n                                var columns_1 = dtOptions.columns;\n                                // Filter columns with pipe declared\n                                var colsWithPipe = columns_1.filter(function (x) { return x.ngPipeInstance; });\n                                // Iterate\n                                colsWithPipe.forEach(function (el) {\n                                    var pipe = el.ngPipeInstance;\n                                    // find index of column using `data` attr\n                                    var i = columns_1.findIndex(function (e) { return e.data == el.data; });\n                                    // get <td> element which holds data using index\n                                    var rowFromCol = row.childNodes.item(i);\n                                    // Transform data with Pipe\n                                    var rowVal = $(rowFromCol).text();\n                                    var rowValAfter = pipe.transform(rowVal);\n                                    // Apply transformed string to <td>\n                                    $(rowFromCol).text(rowValAfter);\n                                });\n                            }\n                            // run user specified row callback if provided.\n                            if (_this.dtOptions.rowCallback) {\n                                _this.dtOptions.rowCallback(row, data, index);\n                            }\n                        }\n                    };\n                    // merge user's config with ours\n                    options = Object.assign({}, dtOptions, options);\n                    _this.dt = $(_this.el.nativeElement).DataTable(options);\n                    resolve(_this.dt);\n                });\n            });\n        });\n    };\n    DataTableDirective.ɵfac = function DataTableDirective_Factory(t) { return new (t || DataTableDirective)(core[\"Lb\" /* ɵɵdirectiveInject */](core[\"l\" /* ElementRef */])); };\n    DataTableDirective.ɵdir = core[\"Gb\" /* ɵɵdefineDirective */]({ type: DataTableDirective, selectors: [[\"\", \"datatable\", \"\"]], inputs: { dtOptions: \"dtOptions\", dtTrigger: \"dtTrigger\" } });\n    return DataTableDirective;\n}());\n\n//# sourceMappingURL=angular-datatables.directive.js.map\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// CONCATENATED MODULE: ./node_modules/angular-datatables/__ivy_ngcc__/src/angular-datatables.module.js\n/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\n\n\n\n\nvar angular_datatables_module_DataTablesModule = /** @class */ /*@__PURE__*/ (function () {\n    function DataTablesModule() {\n    }\n    DataTablesModule.forRoot = function () {\n        return {\n            ngModule: DataTablesModule\n        };\n    };\n    DataTablesModule.ɵmod = core[\"Jb\" /* ɵɵdefineNgModule */]({ type: DataTablesModule });\n    DataTablesModule.ɵinj = core[\"Ib\" /* ɵɵdefineInjector */]({ factory: function DataTablesModule_Factory(t) { return new (t || DataTablesModule)(); }, imports: [[common[\"c\" /* CommonModule */]]] });\n    (function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"Ac\" /* ɵɵsetNgModuleScope */](DataTablesModule, { declarations: function () { return [angular_datatables_directive_DataTableDirective]; }, imports: function () { return [common[\"c\" /* CommonModule */]]; }, exports: function () { return [angular_datatables_directive_DataTableDirective]; } }); })();\n    return DataTablesModule;\n}());\n\n//# sourceMappingURL=angular-datatables.module.js.map\n\n// CONCATENATED MODULE: ./node_modules/angular-datatables/__ivy_ngcc__/index.js\n/**\n * @license\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://raw.githubusercontent.com/l-lin/angular-datatables/master/LICENSE\n */\n/**\n * @module\n * @description\n * Entry point from which you should import all public library APIs.\n */\n\n\n\n//# sourceMappingURL=index.js.map\n\n/***/ })\n\n}]);","inputSourceMap":null}