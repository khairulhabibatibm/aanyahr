<div *ngIf="isLoading" class="spinner-wrapper">
  <div class="spinner">Loading...</div>
</div>
<div class="animate__animated animate__fadeInUp" *ngIf="!isLoading">
  <div class="profile-page tx-13">
    <div class="row">
      <div class="col-12 grid-margin">
        <div class="profile-header">
          <div class="cover">
            <div class="gray-shade"></div>
            <figure>
              <img src="https://via.placeholder.com/1148x150/727cf5/" class="img-fluid" alt="profile cover">
            </figure>
            <div class="cover-body d-flex justify-content-between align-items-center">
              <div>
                <img class="profile-pic" width="100" height="100" [src]="img_path" src="{{ img_path }}" alt="profile">
                <span class="profile-name">{{ display_name }}</span>
              </div>
            </div>
          </div>
          <div class="header-links">
            <form [formGroup]="employeeForm">
              <ul ngbNav #defaultNav="ngbNav" [(activeId)]="defaultNavActiveId"
                class="links d-flex align-items-center mt-3 mt-md-0">

                <li [ngbNavItem]="1" class="header-link-item d-flex align-items-center">
                  <a ngbNavLink class="pt-1px d-none d-md-block">
                    <i class="mr-1 icon-md" data-feather="user" appFeatherIcon></i> Personal Information</a>
                  <ng-template ngbNavContent>
                    <div class="card-header">
                      <div class="row">
                        <div class="col-md-6">
                          <h6>Personal Information</h6>
                        </div>
                        <div class="col-md-6">
                          <ul class="nav justify-content-end">
                            <button class="btn btn-primary btn-icon-text" (click)="submit(1)">
                              <i data-feather="edit" appFeatherIcon class="btn-icon-prepend"></i> Save
                            </button>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Photo</label>
                            <input (change)="handleFileInput($event)" accept=".png, .jpg, .jpeg" type="file"
                              name="img[]" class="file-upload-default" id="fileUploadInputExample">
                            <div class="input-group col-xs-12" (click)="openFileBrowser($event)">
                              <input type="text" class="form-control file-upload-info" disabled=""
                                placeholder="Upload Image">
                              <span class="input-group-append">
                                <button class="file-upload-browse btn btn-primary" type="button">Upload</button>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Salutation</label>
                            <ng-select [items]="salutation" bindLabel="description" bindValue="id"
                              placeholder="Select Salutation" formControlName="selectedSalutation">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errSalutation">Salutation is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Display Name</label>
                            <input type="text" (change)="onChange()" formControlName="displayName" class="form-control"
                              placeholder="Display Name">
                            <p class="text-danger mt-1" *ngIf="errDisplayName">Display Name is needed!</p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>First Name</label>
                            <input type="text" (change)="onChangeName()" formControlName="firstName"
                              class="form-control" placeholder="First Name">
                            <p class="text-danger mt-1" *ngIf="errFirstName">First Name is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Middle Name</label>
                            <input type="text" (change)="onChangeName()" formControlName="middleName"
                              class="form-control" placeholder="Middle Name">
                            <p class="text-danger mt-1" *ngIf="errMiddleName">Middle Name is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" (change)="onChangeName()" formControlName="lastName" class="form-control"
                              placeholder="Last Name">
                            <p class="text-danger mt-1" *ngIf="errLastName">Last Name is needed!</p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Suffix</label>
                            <ng-select [items]="suffix" bindLabel="description" bindValue="id"
                              placeholder="Select Suffix" formControlName="selectedSuffix">
                            </ng-select>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Nickname</label>
                            <input type="text" formControlName="nickname" class="form-control" placeholder="Nickname">
                            <p class="text-danger mt-1" *ngIf="errNickname">Nickname is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Gender</label>
                            <ng-select [items]="gender" bindLabel="description" bindValue="id"
                              placeholder="Select Gender" formControlName="selectedGender">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errGender">Gender is needed!</p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Nationality</label>
                            <ng-select [items]="nationality" bindLabel="description" bindValue="id"
                              placeholder="Select Nationality" formControlName="selectedNationality">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errNationality">Nationality is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Birthday</label>
                            <div class="input-group">
                              <input class="form-control" placeholder="mm/dd/yyyy" name="dp"
                                formControlName="selectedDate" (click)="d.toggle()" ngbDatepicker #d="ngbDatepicker">
                              <div class="input-group-append">
                                <button class="btn btn-outline-light btn-icon calendar" type="button"
                                  (click)="d.toggle()">
                                  <i data-feather="calendar" appFeatherIcon class="text-secondary"></i>
                                </button>
                              </div>
                            </div>
                            <p class="text-danger mt-1" *ngIf="errBirthday">Birthday is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Birthplace</label>
                            <input formControlName="birthplace" type="text" class="form-control"
                              placeholder="Birthplace">
                            <p class="text-danger mt-1" *ngIf="errBirthplace">Birthplace is needed!</p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Civil Status</label>
                            <ng-select [items]="civilstatus" bindLabel="description" bindValue="id"
                              placeholder="Select Civil Status" formControlName="selectedCivilStatus">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errCivilstatus">Civil Status is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Height (CM)</label>
                            <input type="number" formControlName="height" class="form-control" placeholder="Height">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Weight (KGS)</label>
                            <input type="number" formControlName="weight" class="form-control" placeholder="Weight">
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Blood Type</label>
                            <ng-select [items]="bloodtype" bindLabel="description" bindValue="id"
                              placeholder="Select Blood Type" formControlName="selectedBloodType">
                            </ng-select>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Religion</label>
                            <ng-select [items]="religion" bindLabel="description" bindValue="id"
                              placeholder="Select Religion" formControlName="selectedReligion">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errReligion">Religion is needed!</p>
                          </div>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-md-6">
                          <h6>Contact Information</h6>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Mobile</label>
                            <input type="text" prefix="+63 " [showMaskTyped]="true" mask="000 000 0000"
                              formControlName="mobile" class="form-control" placeholder="Mobile">
                            <p class="text-danger mt-1" *ngIf="errMobile">Mobile number is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Phone</label>
                            <input type="text" formControlName="phone" class="form-control" placeholder="Phone">
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Office</label>
                            <input type="text" formControlName="office" class="form-control" placeholder="Office">
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Personal Email</label>
                            <input type="email" formControlName="personalemail" class="form-control"
                              placeholder="Personal Email">
                            <p class="text-danger mt-1" *ngIf="errValidEmail">Email Address is not valid!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Company Email</label>
                            <input type="text" formControlName="companyemail" class="form-control" placeholder="Email">
                            <p class="text-danger mt-1" *ngIf="errEmail">Company Email Address is needed!</p>
                            <p class="text-danger mt-1" *ngIf="errValidCompany">Company Email Address is not valid!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Alternate Number</label>
                            <input type="text" formControlName="alternatenumber" class="form-control"
                              placeholder="Alternate Number">
                          </div>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-md-6">
                          <h6>Present Address</h6>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-sm-2">
                          <div class="form-group">
                            <label class="control-label">Zip Code</label>
                            <input type="text" formControlName="presentZipCode" class="form-control"
                              placeholder="Zip Code">
                            <p class="text-danger mt-1" *ngIf="errPresentZipCode">Zip Code is needed!</p>
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-1">
                          <div class="form-group">
                            <label class="control-label">Unit/Flr#</label>
                            <input type="text" formControlName="presentUnit" class="form-control"
                              placeholder="Unit/Flr #">
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Building</label>
                            <input type="text" formControlName="presentBuilding" class="form-control"
                              placeholder="Building">
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Street</label>
                            <input type="text" formControlName="presentStreet" class="form-control"
                              placeholder="Street">
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Barangay</label>
                            <input type="text" formControlName="presentBarangay" class="form-control"
                              placeholder="Barangay">
                          </div>
                        </div><!-- Col -->
                      </div><!-- Row -->
                      <div class="row">
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Region</label>
                            <ng-select [items]="region" name="Region" bindLabel="description" bindValue="id"
                              placeholder="Select Region" formControlName="presentSelectedRegion"
                              (change)="selectPresentRegion()">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPresentRegion">Region is needed!</p>
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Province</label>
                            <ng-select [items]="province" name="Province" bindLabel="description" bindValue="id"
                              placeholder="Select Province" formControlName="presentSelectedProvince">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPresentProvince">Province is needed!</p>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">City</label>
                            <ng-select [items]="presentCity" name="City" bindLabel="to_description" bindValue="to_id"
                              placeholder="Select City" formControlName="presentSelectedCity">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPresentCity">City is needed!</p>
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Country</label>
                            <ng-select [items]="country" name="Country" bindLabel="description" bindValue="id"
                              placeholder="Select Country" formControlName="presentSelectedCountry">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPresentCountry">Country is needed!</p>
                          </div>
                        </div><!-- Col -->
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-md-6">
                          <h6>Permanent Address</h6>
                        </div>
                        <div class="col-md-6">
                          <div class="d-flex flex-row-reverse ">
                            <div class="p-12">
                              <div class="form-check">
                                <label class="form-check-label">
                                  <input type="checkbox" (change)="sameAddress($event)" class="form-check-input">
                                  <i class="input-frame"></i>
                                  Same as Present Address
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-sm-2">
                          <div class="form-group">
                            <label class="control-label">Zip Code</label>
                            <input type="text" formControlName="permanentZipCode" class="form-control"
                              placeholder="Zip Code">
                            <p class="text-danger mt-1" *ngIf="errPermanentZipCode">Zip Code is needed!</p>
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-1">
                          <div class="form-group">
                            <label class="control-label">Unit/Flr#</label>
                            <input type="text" formControlName="permanentUnit" class="form-control"
                              placeholder="Unit/Flr #">
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Building</label>
                            <input type="text" formControlName="permanentBuilding" class="form-control"
                              placeholder="Building">
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Street</label>
                            <input type="text" formControlName="permanentStreet" class="form-control"
                              placeholder="Street">
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Barangay</label>
                            <input type="text" formControlName="permanentBarangay" class="form-control"
                              placeholder="Barangay">
                          </div>
                        </div><!-- Col -->
                      </div><!-- Row -->
                      <div class="row">
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Region</label>
                            <ng-select [items]="region" name="Region" bindLabel="description" bindValue="id"
                              placeholder="Select Region" formControlName="permanentSelectedRegion"
                              (change)="selectPermanentRegion()">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPermanentRegion">Region is needed!</p>
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Province</label>
                            <ng-select [items]="province" name="Province" bindLabel="description" bindValue="id"
                              placeholder="Select Province" formControlName="permanentSelectedProvince">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPermanentProvince">Province is needed!</p>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">City</label>
                            <ng-select [items]="permanentCity" name="City" bindLabel="to_description" bindValue="to_id"
                              placeholder="Select City" formControlName="permanentSelectedCity">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPermanentCity">City is needed!</p>
                          </div>
                        </div><!-- Col -->
                        <div class="col-sm-3">
                          <div class="form-group">
                            <label class="control-label">Country</label>
                            <ng-select [items]="country" name="Country" bindLabel="description" bindValue="id"
                              placeholder="Select Country" formControlName="permanentSelectedCountry">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPermanentCountry">Country is needed!</p>
                          </div>
                        </div><!-- Col -->
                      </div><!-- Row -->
                      <!-- <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Present Address</label>
                            <textarea class="form-control" formControlName="presentaddress" rows="5"></textarea>
                            <p class="text-danger mt-1" *ngIf="errPresentAddress">Present Address is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Permanent Address</label>
                            <textarea class="form-control" formControlName="permamentaddress" rows="5"></textarea>
                            <p class="text-danger mt-1" *ngIf="errPermanentAddress">Permanent Address is needed!</p>
                          </div>
                        </div>
                      </div> -->
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="2" class="header-link-item d-flex align-items-center">
                  <a ngbNavLink class="pt-1px d-none d-md-block">
                    <i class="mr-1 icon-md" data-feather="columns" appFeatherIcon></i> Work Information</a>
                  <ng-template ngbNavContent>
                    <div class="card-header">
                      <div class="row">
                        <div class="col-md-6">
                          <h6>Work Information</h6>
                        </div>
                        <div class="col-md-6">
                          <ul class="nav justify-content-end">
                            <button class="btn btn-primary btn-icon-text" (click)="submit(2)">
                              <i data-feather="edit" appFeatherIcon class="btn-icon-prepend"></i> Save
                            </button>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Biometrics ID</label>
                            <input formControlName="biometricsID" type="text" class="form-control"
                              placeholder="Biometrics ID">
                            <p class="text-danger mt-1" *ngIf="errBiometrics">Biometrics is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Employee ID</label>
                            <input formControlName="employeeID" type="text" class="form-control"
                              placeholder="Employee ID">
                            <p class="text-danger mt-1" *ngIf="errEmployeeCode">Employee Code is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Branch</label>
                            <ng-select [items]="branch" bindLabel="branch_name" bindValue="branch_id"
                              placeholder="Select Branch" formControlName="selectedBranch">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errBranch">Branch is needed!</p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Employee Status</label>
                            <ng-select [items]="employeestatus" bindLabel="description" bindValue="id"
                              placeholder="Select Employee Status" formControlName="selectedEmployeeStatus">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errEmployeeStatus">Employee Status is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Occupation</label>
                            <ng-select [items]="occupation" bindLabel="description" bindValue="id"
                              placeholder="Select Occupation" formControlName="selectedOccupation">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errOccupation">Occupation is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Supervisor</label>
                            <ng-select [items]="supervisor" bindLabel="display_name" bindValue="employee_id"
                              placeholder="Select Supervisor" formControlName="selectedSupervisor">
                            </ng-select>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Department</label>
                            <ng-select [items]="department" bindLabel="description" bindValue="id"
                              placeholder="Select Department" formControlName="selectedDepartment">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errDepartment">Department is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Date Hired</label>
                            <input class="form-control" placeholder="mm/dd/yyyy" name="dp" formControlName="dateHired"
                              (click)="d.toggle()" (ngModelChange)="selectedDateHired()" ngbDatepicker #d="ngbDatepicker">
                            <p class="text-danger mt-1" *ngIf="errDateHired">Date Hired is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Regularization Date</label>
                            <input class="form-control" placeholder="mm/dd/yyyy" name="dp"
                              formControlName="regularizationDate" (click)="d2.toggle()" ngbDatepicker
                              #d2="ngbDatepicker">
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Cost Center</label>
                            <ng-select [items]="costcenter" bindLabel="description" bindValue="id"
                              placeholder="Select Cost Center" formControlName="selectedCostCenter">
                            </ng-select>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Category</label>
                            <ng-select [items]="category" bindLabel="category_name" bindValue="category_id"
                              placeholder="Select Category" formControlName="selectedCategory">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errCategory">Category is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Division</label>
                            <ng-select [items]="division" bindLabel="description" bindValue="id"
                              placeholder="Select Division" formControlName="selectedDivision">
                            </ng-select>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="3" class="header-link-item d-flex align-items-center">
                  <a ngbNavLink class="pt-1px d-none d-md-block">
                    <i class="mr-1 icon-md" data-feather="book-open" appFeatherIcon></i> Payroll Information</a>
                  <ng-template ngbNavContent>
                    <div class="card-header">
                      <div class="row">
                        <div class="col-md-6">
                          <h6>Payroll Information</h6>
                        </div>
                        <div class="col-md-6">
                          <ul class="nav justify-content-end">
                            <button class="btn btn-primary btn-icon-text" (click)="submit(3)">
                              <i data-feather="edit" appFeatherIcon class="btn-icon-prepend"></i> Save
                            </button>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Payroll Type</label>
                            <ng-select [items]="payrolltype" bindLabel="description" bindValue="id"
                              placeholder="Select Payroll Type" formControlName="selectedPayrollType">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errPayrollType">Payroll Type is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Monthly Rate</label>
                            <input type="text" formControlName="monthlyRate" class="form-control"
                              placeholder="Monthly Rate">
                            <p class="text-danger mt-1" *ngIf="errMonthlyRate">Monthly Rate is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Semi Monthly Rate</label>
                            <input type="text" formControlName="semiMonthlyRate" class="form-control"
                              placeholder="Semi Monthly Rate">
                            <p class="text-danger mt-1" *ngIf="errSemiMonthlyRate">Semi Monthly Rate is needed!</p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Factor Rate</label>
                            <input type="text" formControlName="factorRate" class="form-control"
                              placeholder="Factor Rate">
                            <p class="text-danger mt-1" *ngIf="errFactorRate">Factor Rate is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Daily Rate</label>
                            <input type="text" formControlName="dailyRate" class="form-control"
                              placeholder="Daily Rate">
                            <p class="text-danger mt-1" *ngIf="errDailyRate">Daily Rate is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Hourly Rate</label>
                            <input type="text" formControlName="hourlyRate" class="form-control"
                              placeholder="Hourly Rate">
                            <p class="text-danger mt-1" *ngIf="errHourlyRate">Hourly Rate is needed!</p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>SSS #</label>
                            <input type="text" formControlName="sssNumber" class="form-control" placeholder="SSS">
                            <p class="text-danger mt-1" *ngIf="errSSS">SSS needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Pagibig #</label>
                            <input type="text" formControlName="pagibigNumber" class="form-control"
                              placeholder="Pagibig">
                            <p class="text-danger mt-1" *ngIf="errPagibig">Pagibig is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Bank</label>
                            <ng-select [items]="bank" bindLabel="description" bindValue="id" placeholder="Select Bank"
                              formControlName="selectedBank">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errBank">Bank is needed!</p>
                          </div>
                        </div>

                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Philhealth #</label>
                            <input type="text" formControlName="philhealthNumber" class="form-control"
                              placeholder="Philhealth">
                            <p class="text-danger mt-1" *ngIf="errPhilhealth">Philhealth is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>TIN #</label>
                            <input type="text" formControlName="tinNumber" class="form-control" placeholder="TIN">
                            <p class="text-danger mt-1" *ngIf="errTIN">TIN is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Bank Account</label>
                            <input type="text" formControlName="bankAccount" class="form-control"
                              placeholder="Bank Account">
                            <p class="text-danger mt-1" *ngIf="errBankAccount">Bank Account is needed!</p>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group">
                            <label>Confidential</label>
                            <ng-select [items]="confidential" bindLabel="description" bindValue="id"
                              placeholder="Select Confidential" formControlName="selectedConfidential">
                            </ng-select>
                            <p class="text-danger mt-1" *ngIf="errConfidential">Confidential is needed!</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="4" class="header-link-item d-flex align-items-center">
                  <a ngbNavLink class="pt-1px d-none d-md-block">
                    <i class="mr-1 icon-md" data-feather="shuffle" appFeatherIcon></i> Addition and Deduction</a>
                  <ng-template ngbNavContent>
                    <div class="card">
                      <div class="card-header">
                        <div class="row">
                          <div class="col-md-6">
                            <h6>Addition and Deduction</h6>
                          </div>
                        </div>
                      </div>
                      <div class="card-body">
                        <div class="table-responsive">
                          <table class="table table-bordered">
                            <thead>
                              <tr>
                                <th>Adjustment</th>
                                <th>Type</th>
                                <th>Amount</th>
                                <th>Timing</th>
                                <th>Taxable</th>
                                <th>Active</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let x of adjList; let i = index">
                                <td>{{x.recurring_name}}</td>
                                <td>{{x.adjustment_type}}</td>
                                <td>{{x.amount | number:'1.2-2'}}</td>
                                <td>{{x.timing}}</td>
                                <td>{{x.taxable}}</td>
                                <td>{{x.status}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="5" class="header-link-item d-flex align-items-center">
                  <a ngbNavLink class="pt-1px d-none d-md-block">
                    <i class="mr-1 icon-md" data-feather="clock" appFeatherIcon></i> Shift</a>
                  <ng-template ngbNavContent>
                    <div class="card">
                      <div class="card-header">
                        <div class="row">
                          <div class="col-md-6">
                            <h6>Shift</h6>
                          </div>
                        </div>
                      </div>
                      <div class="card-body">
                        <div class="row">
                          <div class="col-md-3">
                            <div class="form-group">
                              <label class="control-label">Date From</label>
                              <div class="input-group">
                                <input class="form-control" placeholder="mm/dd/yyyy" name="dp"
                                  formControlName="dateFrom" value="dateFrom" (click)="df.toggle()" ngbDatepicker
                                  #df="ngbDatepicker">
                                <div class="input-group-append">
                                  <button class="btn btn-outline-light btn-icon calendar" type="button"
                                    (click)="df.toggle()">
                                    <i data-feather="calendar" appFeatherIcon class="text-secondary"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-3">
                            <div class="form-group">
                              <label class="control-label">Date To</label>
                              <div class="input-group">
                                <input class="form-control" placeholder="mm/dd/yyyy" name="dp" formControlName="dateTo"
                                  (click)="dt.toggle()" ngbDatepicker #dt="ngbDatepicker">
                                <div class="input-group-append">
                                  <button class="btn btn-outline-light btn-icon calendar" type="button"
                                    (click)="dt.toggle()">
                                    <i data-feather="calendar" appFeatherIcon class="text-secondary"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="form-group">
                              <label class="control-label">&nbsp;</label>
                              <div class="input-group">
                                <button class="btn btn-primary" *ngIf="isSearch" type="button" disabled>
                                  <span class="spinner-border spinner-border-sm" role="status"
                                    aria-hidden="true"></span>
                                  Loading...
                                </button>
                                <button type="button" *ngIf="!isSearch" class="btn btn-primary btn-icon-text"
                                  (click)="search()">
                                  <i data-feather="search" appFeatherIcon class="btn-icon-prepend"></i>
                                  Search
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="table-responsive">
                              <table class="table table-bordered">
                                <thead>
                                  <tr>
                                    <th>Shift Name</th>
                                    <th>Date</th>
                                    <th>Schedule In</th>
                                    <th>Schedule Out</th>
                                    <th>Working Hours</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let x of scheduleList; let i = index">
                                    <td>{{x.shift_name}}</td>
                                    <td>{{x.date | date: 'MM/dd/yyyy'}}</td>
                                    <td>{{x.time_in}}</td>
                                    <td>{{x.time_out}}</td>
                                    <td>{{x.total_working_hours | number:'1.2-2'}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="6" class="header-link-item d-flex align-items-center">
                  <a ngbNavLink class="pt-1px d-none d-md-block">
                    <i class="mr-1 icon-md" data-feather="anchor" appFeatherIcon></i> Leave</a>
                  <ng-template ngbNavContent>
                    <div class="card">
                      <div class="card-header">
                        <div class="row">
                          <div class="col-md-6">
                            <h6>Leave</h6>
                          </div>
                        </div>
                      </div>
                      <div class="card-body">
                        <div class="table-responsive">
                          <table class="table table-bordered">
                            <thead>
                              <tr>
                                <th>Leave Type</th>
                                <th>Total Leave</th>
                                <th>Leave Used</th>
                                <th>Total Balance</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let x of leaveList; let i = index">
                                <td>{{x.leave_name}}</td>
                                <td>{{x.leave_total | number:'1.2-2'}}</td>
                                <td>{{x.leave_used | number:'1.2-2'}}</td>
                                <td>{{x.leave_balance | number:'1.2-2'}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </li>
              </ul>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="row profile-body">
      <div class="d-none d-md-block col-md-12 col-xl-12">
        <div class="card rounded">
          <div [ngbNavOutlet]="defaultNav" class="mt-3"></div>
          <!-- <router-outlet></router-outlet> -->
        </div>

      </div>
    </div>
  </div>
</div>